import{c as w,s as y,r as d,j as e,C as M,b as z}from"./index-eed2kjuC.js";import{S as D,P as A,a as H}from"./search-DriGhTlZ.js";import{c as P,b as k,C as U,a as V}from"./clock-_cO9fsMt.js";import{T as C}from"./tag-DAj8RzQy.js";import{C as O,X as R}from"./x-u-VGKVG3.js";import{U as B}from"./user-CO9BB5ty.js";import{T as S}from"./triangle-alert-Ct8PzJSC.js";import{C as $}from"./check-C3xntLix.js";import{U as K,T as X}from"./users-BAoO8Uzj.js";import{R as G}from"./refresh-cw-NDXdE_PP.js";import{S as q}from"./save-Dpe-CXr9.js";const J=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],T=w("dollar-sign",J);const Q=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],W=w("funnel",Q);const Y=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Z=w("history",Y);const ee=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],se=w("key",ee);const te=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ae=w("map-pin",te);const re=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],le=w("percent",re);const ne=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],I=w("settings",ne);async function ie(t){const{data:l,error:a}=await y.from("promo_codes").select("*").eq("code",t).single();return a||!l?null:l}async function de(){const{data:t,error:l}=await y.from("promo_settings").select("*").eq("id",1).single();return l||!t?null:t}async function oe(t,l){const{error:a}=await y.from("promo_settings").update({...t,updated_at:new Date().toISOString(),updated_by:l}).eq("id",1);return!a}async function ce(t={}){const{status:l,dateFrom:a,dateTo:o,searchCode:m,page:u=1,pageSize:g=20}=t;let c=y.from("promo_codes").select("*",{count:"exact"});l&&(c=c.eq("status",l)),a&&(c=c.gte("created_at",a)),o&&(c=c.lte("created_at",o)),m&&(c=c.ilike("code",`%${m}%`));const r=(u-1)*g,i=r+g-1;c=c.order("created_at",{ascending:!1}).range(r,i);const{data:h,error:p,count:n}=await c;return p||!h?{data:[],total:0}:{data:h,total:n||0}}async function xe(){const{data:t,error:l}=await y.from("promo_codes").select("status, discount_amount");return l||!t?{total_codes:0,active_codes:0,used_codes:0,expired_codes:0,total_discount_given:0}:t.reduce((o,m)=>(o.total_codes++,m.status==="active"&&o.active_codes++,m.status==="used"&&(o.used_codes++,o.total_discount_given+=m.discount_amount||0),m.status==="expired"&&o.expired_codes++,o),{total_codes:0,active_codes:0,used_codes:0,expired_codes:0,total_discount_given:0})}async function E(t){const{data:l,error:a}=await y.from("fields").select("label, type").eq("id",t).single();return a||!l?null:l}async function me(){const{data:t,error:l}=await y.from("manual_promo_codes").select("*").order("created_at",{ascending:!1});return l?(console.error("Error fetching manual promo codes:",l),[]):t||[]}async function ue(t){const{error:l}=await y.from("manual_promo_codes").insert(t);return l?(console.error("Error creating manual promo code:",l),{success:!1,error:l.message}):{success:!0}}async function ge(t,l){const{error:a}=await y.from("manual_promo_codes").update(l).eq("id",t);return a?(console.error("Error updating manual promo code:",a),{success:!1,error:a.message}):{success:!0}}async function he(t){const{error:l}=await y.from("manual_promo_codes").delete().eq("id",t);return l?(console.error("Error deleting manual promo code:",l),{success:!1,error:l.message}):{success:!0}}function pe(){const[t,l]=d.useState(""),[a,o]=d.useState(null),[m,u]=d.useState(null),[g,c]=d.useState(!1),[r,i]=d.useState(""),[h,p]=d.useState(""),n=async()=>{if(!t.trim()){i("กรุณากรอกรหัสโค้ด");return}c(!0),i(""),p(""),o(null),u(null);try{const x=await ie(t.trim());if(!x){i("ไม่พบรหัสโค้ดนี้ในระบบ");return}o(x);const s=await E(x.field_id);u(s);const b=new Date,f=new Date(x.expires_at);x.status==="used"?i("โค้ดนี้ถูกใช้งานไปแล้ว"):x.status==="expired"||b>f?i("โค้ดนี้หมดอายุแล้ว"):p("โค้ดถูกต้อง พร้อมใช้งาน")}catch(x){i("เกิดข้อผิดพลาดในการตรวจสอบ"),console.error(x)}finally{c(!1)}},j=x=>new Date(x).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}),N=x=>x.substring(0,5),v=x=>new Date(x).toLocaleString("th-TH",{dateStyle:"short",timeStyle:"short"});return e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 mb-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"ตรวจสอบและใช้งานโค้ดส่วนลด"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"กรอกรหัส 6 หลักเพื่อตรวจสอบสถานะ"})]}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:t,onChange:x=>l(x.target.value.toUpperCase()),onKeyPress:x=>x.key==="Enter"&&n(),placeholder:"กรอกรหัสโค้ด (เช่น A1B2C3)",className:"w-full pl-12 pr-4 py-4 text-lg bg-gray-50 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-50 focus:border-blue-500 transition-all text-center tracking-widest font-mono uppercase",maxLength:6}),e.jsx(D,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-6 h-6"})]}),e.jsx("button",{onClick:n,disabled:g||!t,className:"w-full mt-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium shadow-sm shadow-blue-200 transition-all disabled:opacity-50 disabled:shadow-none",children:g?"กำลังตรวจสอบ...":"ตรวจสอบโค้ด"})]})]}),r&&e.jsxs("div",{className:"bg-red-50 border border-red-100 rounded-xl p-4 mb-6 flex items-center gap-3 text-red-700 animate-in fade-in slide-in-from-top-2",children:[e.jsx(P,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("p",{className:"font-medium",children:r})]}),h&&!r&&!a?.status&&e.jsxs("div",{className:"bg-green-50 border border-green-100 rounded-xl p-4 mb-6 flex items-center gap-3 text-green-700 animate-in fade-in slide-in-from-top-2",children:[e.jsx(M,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("p",{className:"font-medium",children:h})]}),a&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden animate-in fade-in slide-in-from-bottom-4",children:[e.jsxs("div",{className:"border-b border-gray-100 bg-gray-50/50 p-6 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white border border-gray-200 rounded-lg shadow-sm",children:e.jsx("span",{className:"font-mono text-2xl font-bold tracking-wider text-blue-600",children:a.code})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"รายละเอียดโค้ด"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["สร้างเมื่อ ",v(a.created_at)]})]})]}),e.jsxs("div",{className:`
                            px-4 py-1.5 rounded-full text-sm font-medium inline-flex items-center gap-1.5
                            ${a.status==="active"?"bg-green-100 text-green-700":""}
                            ${a.status==="used"?"bg-gray-100 text-gray-700":""}
                            ${a.status==="expired"?"bg-red-100 text-red-700":""}
                        `,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a.status==="active"?"bg-green-500":a.status==="used"?"bg-gray-500":"bg-red-500"}`}),a.status==="active"?"ใช้งานได้":a.status==="used"?"ถูกใช้แล้ว":"หมดอายุ"]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(C,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"ส่วนลด"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:a.discount_type==="percent"?`${a.discount_value}%`:`${a.discount_value} บาท`})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(O,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"วันที่จอง"}),e.jsx("p",{className:"font-medium text-gray-900",children:j(a.booking_date)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(k,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"เวลา"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[N(a.time_from)," - ",N(a.time_to),e.jsxs("span",{className:"text-gray-400 text-sm ml-2",children:["(",a.duration_h," ชม.)"]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ae,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"สนาม"}),e.jsx("p",{className:"font-medium text-gray-900",children:m?`${m.label} ${m.type}`:`สนาม #${a.field_id}`})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(T,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"สรุปราคา"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-lg font-bold text-green-600",children:a.final_price.toLocaleString()}),e.jsx("span",{className:"text-gray-400 line-through text-sm",children:a.original_price.toLocaleString()}),e.jsx("span",{className:"text-gray-600 text-sm",children:"บาท"})]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(P,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"วันหมดอายุโค้ด"}),e.jsx("p",{className:"font-medium text-red-600",children:v(a.expires_at)})]})]})]})]}),a.status==="used"&&a.used_at&&e.jsxs("div",{className:"mt-8 bg-gray-50 rounded-lg p-4 border border-gray-100 flex items-start gap-3",children:[e.jsx(B,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"ข้อมูลการใช้งาน"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["ใช้โดย ",a.used_by||"Admin"," เมื่อ ",v(a.used_at)]})]})]}),a.status==="active"&&e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 text-center",children:e.jsx("p",{className:"text-gray-500 italic",children:"* หน้าจอนี้สำหรับตรวจสอบสถานะเท่านั้น ไม่สามารถกดใช้สิทธิ์ได้ *"})})]})]})]})}function be(){const[t,l]=d.useState(null),[a,o]=d.useState(!0),[m,u]=d.useState(!1),[g,c]=d.useState(""),[r,i]=d.useState("");d.useEffect(()=>{h()},[]);const h=async()=>{o(!0);try{const n=await de();n&&l(n)}catch(n){c("ไม่สามารถโหลดการตั้งค่าได้"),console.error(n)}finally{o(!1)}},p=async()=>{if(t){u(!0),c(""),i("");try{await oe(t,"admin")?(i("บันทึกการตั้งค่าสำเร็จ!"),setTimeout(()=>i(""),3e3)):c("ไม่สามารถบันทึกได้")}catch(n){c("เกิดข้อผิดพลาด"),console.error(n)}finally{u(!1)}}};return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t?e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"ตั้งค่าระบบโปรโมชั่น"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"กำหนดกฎและเงื่อนไขสำหรับการใช้งานโค้ดส่วนลด"})]}),r&&e.jsxs("div",{className:"fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 animate-in slide-in-from-bottom-5 z-50",children:[e.jsx($,{className:"w-5 h-5"}),r]}),g&&e.jsxs("div",{className:"bg-red-50 border border-red-100 text-red-700 px-4 py-3 rounded-xl mb-6 flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5"}),g]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"md:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50",children:e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4 text-blue-500"}),"การใช้งานทั่วไป"]})}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-900",children:"เปิดใช้งานระบบโปรโมชั่น"}),e.jsx("p",{className:"text-sm text-gray-500",children:"เปิด/ปิด การแจกโค้ดส่วนลดทั้งหมด"})]}),e.jsx("button",{onClick:()=>l({...t,enabled:!t.enabled}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${t.enabled?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t.enabled?"translate-x-6":"translate-x-1"}`})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50",children:e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4 text-green-500"}),"มูลค่าส่วนลด"]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("label",{className:`
                                    relative flex cursor-pointer rounded-xl border p-4 shadow-sm focus:outline-none transition-all
                                    ${t.discount_type==="fixed"?"border-blue-500 ring-2 ring-blue-500/20 bg-blue-50/10":"border-gray-200 hover:border-blue-200"}
                                `,children:[e.jsx("input",{type:"radio",name:"discount-type",className:"sr-only",checked:t.discount_type==="fixed",onChange:()=>l({...t,discount_type:"fixed"})}),e.jsx("span",{className:"flex flex-1",children:e.jsxs("span",{className:"flex flex-col",children:[e.jsxs("span",{className:"flex items-center gap-2 block text-sm font-medium text-gray-900",children:[e.jsx(T,{className:"w-4 h-4 text-gray-500"}),"จำนวนเงินคงที่ (บาท)"]}),e.jsx("input",{type:"number",value:t.discount_type==="fixed"?t.discount_value:50,onChange:n=>l({...t,discount_type:"fixed",discount_value:Number(n.target.value)}),disabled:t.discount_type!=="fixed",className:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-3 py-2 border"})]})}),e.jsx($,{className:`h-5 w-5 text-blue-600 ${t.discount_type==="fixed"?"opacity-100":"opacity-0"}`})]}),e.jsxs("label",{className:`
                                    relative flex cursor-pointer rounded-xl border p-4 shadow-sm focus:outline-none transition-all
                                    ${t.discount_type==="percent"?"border-blue-500 ring-2 ring-blue-500/20 bg-blue-50/10":"border-gray-200 hover:border-blue-200"}
                                `,children:[e.jsx("input",{type:"radio",name:"discount-type",className:"sr-only",checked:t.discount_type==="percent",onChange:()=>l({...t,discount_type:"percent"})}),e.jsx("span",{className:"flex flex-1",children:e.jsxs("span",{className:"flex flex-col",children:[e.jsxs("span",{className:"flex items-center gap-2 block text-sm font-medium text-gray-900",children:[e.jsx(le,{className:"w-4 h-4 text-gray-500"}),"เปอร์เซ็นต์ (%)"]}),e.jsx("input",{type:"number",value:t.discount_type==="percent"?t.discount_value:10,onChange:n=>l({...t,discount_type:"percent",discount_value:Number(n.target.value)}),disabled:t.discount_type!=="percent",className:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-3 py-2 border",max:"100"})]})}),e.jsx($,{className:`h-5 w-5 text-blue-600 ${t.discount_type==="percent"?"opacity-100":"opacity-0"}`})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50",children:e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4 text-orange-500"}),"เงื่อนไขและข้อจำกัด"]})}),e.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ราคาจองขั้นต่ำ (บาท)"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:"฿"})}),e.jsx("input",{type:"number",value:t.min_booking_price,onChange:n=>l({...t,min_booking_price:Number(n.target.value)}),className:"block w-full rounded-lg border-gray-300 pl-7 pr-3 py-2 sm:text-sm border focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"อายุของโค้ด (นาที)"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx(k,{className:"w-4 h-4 text-gray-400"})}),e.jsx("input",{type:"number",value:t.expiry_minutes,onChange:n=>l({...t,expiry_minutes:Number(n.target.value)}),className:"block w-full rounded-lg border-gray-300 pl-10 pr-3 py-2 sm:text-sm border focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"จำกัดต่อวัน (โค้ด/คน)"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx(K,{className:"w-4 h-4 text-gray-400"})}),e.jsx("input",{type:"number",value:t.daily_limit_per_user,onChange:n=>l({...t,daily_limit_per_user:Number(n.target.value)}),className:"block w-full rounded-lg border-gray-300 pl-10 pr-3 py-2 sm:text-sm border focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ระยะเวลาใช้โค้ดซ้ำ (ชม.)"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx(G,{className:"w-4 h-4 text-gray-400"})}),e.jsx("input",{type:"number",value:t.reuse_window_hours,onChange:n=>l({...t,reuse_window_hours:Number(n.target.value)}),className:"block w-full rounded-lg border-gray-300 pl-10 pr-3 py-2 sm:text-sm border focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"0 = ปิดการใช้งานซ้ำ"})]})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"การบันทึก"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"การเปลี่ยนแปลงทั้งหมดจะมีผลทันทีหลังจากบันทึก โปรดตรวจสอบความถูกต้อง"}),e.jsx("button",{onClick:p,disabled:m,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-sm",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"กำลังบันทึก..."]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-4 h-4"}),"บันทึกการตั้งค่า"]})})]})})]})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-red-500 flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5"}),"ไม่สามารถโหลดการตั้งค่าได้"]})})}function fe(){const[t,l]=d.useState([]),[a,o]=d.useState(null),[m,u]=d.useState(0),[g,c]=d.useState(!0),[r,i]=d.useState({page:1,pageSize:20}),[h,p]=d.useState({});d.useEffect(()=>{n()},[r]);const n=async()=>{c(!0);try{const[s,b]=await Promise.all([ce(r),xe()]);l(s.data),u(s.total),o(b);const f=[...new Set(s.data.map(_=>_.field_id))];for(const _ of f)if(!h[_]){const L=await E(_);L&&p(F=>({...F,[_]:L}))}}catch(s){console.error("Error loading history:",s)}finally{c(!1)}},j=s=>new Date(s).toLocaleDateString("th-TH",{day:"numeric",month:"short"}),N=s=>s.substring(0,5),v=s=>{const b={active:"bg-green-50 text-green-700 ring-green-600/20",used:"bg-gray-50 text-gray-600 ring-gray-500/10",expired:"bg-red-50 text-red-700 ring-red-600/10"},f={active:"ใช้งานได้",used:"ใช้แล้ว",expired:"หมดอายุ"};return e.jsx("span",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ${b[s]}`,children:f[s]})},x=Math.ceil(m/(r.pageSize||20));return e.jsxs("div",{className:"space-y-6",children:[a&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ส่วนลดทั้งหมด"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:a.total_discount_given.toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"บาท"})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:e.jsx(C,{className:"w-6 h-6 text-blue-600"})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"โค้ดทั้งหมด"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:a.total_codes}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"รายการ"})]}),e.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:e.jsx(C,{className:"w-6 h-6 text-gray-600"})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ใช้งานแล้ว"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:a.used_codes}),e.jsxs("p",{className:"text-xs text-green-600 mt-1 flex items-center",children:[Math.round(a.used_codes/a.total_codes*100)||0,"% conversion"]})]}),e.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:e.jsx(M,{className:"w-6 h-6 text-green-600"})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"หมดอายุ"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:a.total_codes-a.active_codes-a.used_codes}),e.jsx("p",{className:"text-xs text-red-600 mt-1",children:"ไม่ได้ใช้งาน"})]}),e.jsx("div",{className:"bg-red-50 p-3 rounded-lg",children:e.jsx(k,{className:"w-6 h-6 text-red-600"})})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 gap-4 w-full md:w-auto",children:[e.jsxs("div",{className:"relative flex-1 md:max-w-xs",children:[e.jsx("input",{type:"text",value:r.searchCode||"",onChange:s=>i({...r,searchCode:s.target.value,page:1}),placeholder:"ค้นหารหัสโค้ด...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),e.jsx(D,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),e.jsxs("div",{className:"relative min-w-[140px]",children:[e.jsxs("select",{value:r.status||"",onChange:s=>i({...r,status:s.target.value,page:1}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm appearance-none bg-white",children:[e.jsx("option",{value:"",children:"ทุกสถานะ"}),e.jsx("option",{value:"active",children:"ใช้งานได้"}),e.jsx("option",{value:"used",children:"ใช้แล้ว"}),e.jsx("option",{value:"expired",children:"หมดอายุ"})]}),e.jsx(W,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]})]}),e.jsx("button",{onClick:()=>i({page:1,pageSize:20}),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors whitespace-nowrap",children:"ล้างตัวกรอง"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:g?e.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),"กำลังโหลดข้อมูล..."]}):t.length===0?e.jsxs("div",{className:"p-16 text-center text-gray-500 flex flex-col items-center",children:[e.jsx("div",{className:"bg-gray-100 p-4 rounded-full mb-4",children:e.jsx(C,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ไม่พบรายการ"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"ลองเปลี่ยนคำค้นหาหรือตัวกรอง"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full whitespace-nowrap text-left text-sm",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-500",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-medium",children:"โค้ดส่วนลด"}),e.jsx("th",{className:"px-6 py-4 font-medium",children:"วันที่จอง"}),e.jsx("th",{className:"px-6 py-4 font-medium",children:"สนาม"}),e.jsx("th",{className:"px-6 py-4 font-medium",children:"เวลา"}),e.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"ราคาปกติ"}),e.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"ส่วนลด"}),e.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"สุทธิ"}),e.jsx("th",{className:"px-6 py-4 font-medium text-center",children:"สถานะ"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:t.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"font-mono font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded",children:s.code})}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:j(s.booking_date)}),e.jsx("td",{className:"px-6 py-4 text-gray-900 font-medium",children:h[s.field_id]?.label||`#${s.field_id}`}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(k,{className:"w-3.5 h-3.5 text-gray-400"}),N(s.time_from)," - ",N(s.time_to)]})}),e.jsx("td",{className:"px-6 py-4 text-right text-gray-400 line-through",children:s.original_price.toLocaleString()}),e.jsxs("td",{className:"px-6 py-4 text-right text-red-500 font-medium",children:["-",s.discount_amount]}),e.jsx("td",{className:"px-6 py-4 text-right font-bold text-gray-900",children:s.final_price.toLocaleString()}),e.jsx("td",{className:"px-6 py-4 text-center",children:v(s.status)})]},s.id))})]})}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["แสดง ",((r.page||1)-1)*(r.pageSize||20)+1," - ",Math.min((r.page||1)*(r.pageSize||20),m)," จาก ",m," รายการ"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>i({...r,page:(r.page||1)-1}),disabled:(r.page||1)<=1,className:"p-2 bg-white border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:e.jsx(U,{className:"w-5 h-5"})}),e.jsxs("div",{className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700",children:["หน้า ",r.page||1," / ",x]}),e.jsx("button",{onClick:()=>i({...r,page:(r.page||1)+1}),disabled:(r.page||1)>=x,className:"p-2 bg-white border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:e.jsx(V,{className:"w-5 h-5"})})]})]})]})})]})}function ye(){const[t,l]=d.useState([]),[a,o]=d.useState(!0),[m,u]=d.useState(!1),[g,c]=d.useState(null),[r,i]=d.useState({code:"",discount_type:"percent",discount_value:0,min_price:0,max_discount:0,status:"active",usage_limit:0}),[h,p]=d.useState("");d.useEffect(()=>{n()},[]);const n=async()=>{o(!0);const s=await me();l(s),o(!1)},j=(s=null)=>{s?(c(s),i({...s})):(c(null),i({code:"",discount_type:"percent",discount_value:0,min_price:0,max_discount:0,status:"active",usage_limit:0})),p(""),u(!0)},N=async s=>{if(s.preventDefault(),p(""),!r.code||!r.discount_value){p("กรุณากรอกข้อมูลให้ครบถ้วน");return}const b={...r,code:r.code.toUpperCase(),max_discount:r.max_discount||null,usage_limit:r.usage_limit||null};let f;g?f=await ge(g.id,b):f=await ue(b),f.success?(u(!1),n()):p(f.error||"เกิดข้อผิดพลาด")},v=async s=>{if(!confirm("ยืนยันการลบโค้ดนี้?"))return;const b=await he(s);b.success?n():alert("ลบไม่สำเร็จ: "+b.error)},x=s=>{navigator.clipboard.writeText(s)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"จัดการโค้ด VIP (Manual Codes)"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"สร้างโค้ดส่วนลดพิเศษสำหรับลูกค้า VIP หรือโปรโมชั่นเฉพาะกิจ"})]}),e.jsxs("button",{onClick:()=>j(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[e.jsx(A,{className:"w-4 h-4"}),"สร้างโค้ดใหม่"]})]}),a?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"กำลังโหลด..."}):t.length===0?e.jsx("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-100",children:e.jsx("p",{className:"text-gray-500",children:"ยังไม่มีโค้ดในระบบ"})}):e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-700 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-semibold",children:"Code"}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:"ส่วนลด"}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:"ขั้นต่ำ"}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:"จำกัด"}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:"ใช้งานแล้ว"}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:"สถานะ"}),e.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"จัดการ"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50/50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-mono font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded border border-blue-100",children:s.code}),e.jsx("button",{onClick:()=>x(s.code),className:"text-gray-400 hover:text-gray-600",title:"Copy",children:e.jsx(z,{className:"w-3 h-3"})})]})}),e.jsxs("td",{className:"px-6 py-4 text-gray-900",children:[s.discount_type==="percent"?`${s.discount_value}%`:`${s.discount_value}฿`,s.max_discount?e.jsxs("span",{className:"text-gray-400 text-xs ml-1",children:["(สูงสุด ",s.max_discount,")"]}):""]}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:s.min_price>0?`${s.min_price}฿`:"-"}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:s.usage_limit?`${s.usage_limit} ครั้ง`:"ไม่จำกัด"}),e.jsxs("td",{className:"px-6 py-4 text-gray-600",children:[s.usage_count," ครั้ง"]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:s.status==="active"?"ใช้งานได้":"ปิดใช้งาน"})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>j(s),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",children:e.jsx(H,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v(s.id),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded transition-colors",children:e.jsx(X,{className:"w-4 h-4"})})]})})]},s.id))})]})})}),m&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:g?"แก้ไขโค้ดส่วนลด":"สร้างโค้ดใหม่"}),e.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 p-1 rounded-full transition-colors",children:e.jsx(R,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[h&&e.jsxs("div",{className:"p-3 bg-red-50 text-red-700 text-sm rounded-lg flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4"}),h]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"รหัสโค้ด (Code)"}),e.jsx("input",{type:"text",required:!0,value:r.code,onChange:s=>i({...r,code:s.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 uppercase tracking-wide font-mono",placeholder:"VIP2026"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ประเภทส่วนลด"}),e.jsxs("select",{value:r.discount_type,onChange:s=>i({...r,discount_type:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"percent",children:"เปอร์เซ็นต์ (%)"}),e.jsx("option",{value:"fixed",children:"จำนวนเงิน (บาท)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"มูลค่าส่วนลด"}),e.jsx("input",{type:"number",required:!0,min:"0",value:r.discount_value,onChange:s=>i({...r,discount_value:parseFloat(s.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ราคาขั้นต่ำ"}),e.jsx("input",{type:"number",min:"0",value:r.min_price,onChange:s=>i({...r,min_price:parseFloat(s.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0 = ไม่จำกัด"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ลดสูงสุด (เฉพาะ %)"}),e.jsx("input",{type:"number",min:"0",disabled:r.discount_type==="fixed",value:r.max_discount,onChange:s=>i({...r,max_discount:parseFloat(s.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:text-gray-400"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"จำกัดจำนวนครั้ง"}),e.jsx("input",{type:"number",min:"0",value:r.usage_limit,onChange:s=>i({...r,usage_limit:parseFloat(s.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0 = ไม่จำกัด"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"สถานะ"}),e.jsxs("select",{value:r.status,onChange:s=>i({...r,status:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100 mt-4",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"ยกเลิก"}),e.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors flex items-center justify-center gap-2",children:[e.jsx(q,{className:"w-4 h-4"}),"บันทึก"]})]})]})]})})]})}function De(){const[t,l]=d.useState("validate"),a=[{id:"validate",label:"ตรวจสอบโค้ด",icon:D},{id:"vip_codes",label:"โค้ดลับ VIP",icon:se},{id:"settings",label:"ตั้งค่าระบบ",icon:I},{id:"history",label:"ประวัติการใช้งาน",icon:Z}];return e.jsxs("div",{className:"min-h-screen bg-gray-50/50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between py-6 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(C,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"จัดการโค้ดส่วนลด"}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"ตรวจสอบและจัดการโปรโมชั่นทั้งหมด"})]})]}),e.jsx("div",{className:"flex p-1 space-x-1 bg-gray-100/80 rounded-xl",children:a.map(o=>{const m=o.icon,u=t===o.id;return e.jsxs("button",{onClick:()=>l(o.id),className:`
                                            flex items-center gap-2 px-4 py-2.5 text-sm font-medium rounded-lg transition-all duration-200
                                            ${u?"bg-white text-gray-900 shadow-sm ring-1 ring-black/5":"text-gray-500 hover:text-gray-700 hover:bg-gray-200/50"}
                                        `,children:[e.jsx(m,{className:`w-4 h-4 ${u?"text-blue-500":"text-gray-400"}`}),o.label]},o.id)})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"transition-all duration-300 ease-in-out",children:[t==="validate"&&e.jsx(pe,{}),t==="vip_codes"&&e.jsx(ye,{})," ",t==="settings"&&e.jsx(be,{}),t==="history"&&e.jsx(fe,{})]})})]})}export{De as default};
