const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./AdminLayout-f3388OxV.js","./user-CO9BB5ty.js","./receipt-CVDbZpuX.js","./DashboardPage-BH_ZtnUl.js","./clock-_cO9fsMt.js","./x-u-VGKVG3.js","./tag-DAj8RzQy.js","./phone-BBN0SLzb.js","./triangle-alert-Ct8PzJSC.js","./image-C0c1fugV.js","./file-text-BD_NazTB.js","./save-Dpe-CXr9.js","./refresh-cw-NDXdE_PP.js","./CustomerPage-z9HNvcfm.js","./search-DriGhTlZ.js","./check-C3xntLix.js","./ReportPage-DUXAJj0W.js","./PromoCodePage-CKYR5P4U.js","./users-BAoO8Uzj.js","./CampaignPage-iiRj1v8p.js","./RefundPage-mdadGijm.js"])))=>i.map(i=>d[i]);
var tS=Object.defineProperty;var nS=(r,t,a)=>t in r?tS(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a;var lv=(r,t,a)=>nS(r,typeof t!="symbol"?t+"":t,a);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();function Ey(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Of={exports:{}},Hs={};var ov;function rS(){if(ov)return Hs;ov=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Hs.Fragment=t,Hs.jsx=a,Hs.jsxs=a,Hs}var uv;function aS(){return uv||(uv=1,Of.exports=rS()),Of.exports}var y=aS(),Af={exports:{}},ce={};var cv;function iS(){if(cv)return ce;cv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=_&&O[_]||O["@@iterator"],typeof O=="function"?O:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function j(O,V,Q){this.props=O,this.context=V,this.refs=C,this.updater=Q||E}j.prototype.isReactComponent={},j.prototype.setState=function(O,V){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,V,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function N(){}N.prototype=j.prototype;function L(O,V,Q){this.props=O,this.context=V,this.refs=C,this.updater=Q||E}var $=L.prototype=new N;$.constructor=L,x($,j.prototype),$.isPureReactComponent=!0;var Y=Array.isArray;function G(){}var F={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function oe(O,V,Q){var Z=Q.ref;return{$$typeof:r,type:O,key:V,ref:Z!==void 0?Z:null,props:Q}}function de(O,V){return oe(O.type,V,O.props)}function Pe(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function we(O){var V={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Q){return V[Q]})}var xe=/\/+/g;function Pt(O,V){return typeof O=="object"&&O!==null&&O.key!=null?we(""+O.key):V.toString(36)}function Et(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(G,G):(O.status="pending",O.then(function(V){O.status==="pending"&&(O.status="fulfilled",O.value=V)},function(V){O.status==="pending"&&(O.status="rejected",O.reason=V)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function z(O,V,Q,Z,ue){var he=typeof O;(he==="undefined"||he==="boolean")&&(O=null);var Ae=!1;if(O===null)Ae=!0;else switch(he){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(O.$$typeof){case r:case t:Ae=!0;break;case v:return Ae=O._init,z(Ae(O._payload),V,Q,Z,ue)}}if(Ae)return ue=ue(O),Ae=Z===""?"."+Pt(O,0):Z,Y(ue)?(Q="",Ae!=null&&(Q=Ae.replace(xe,"$&/")+"/"),z(ue,V,Q,"",function(Ia){return Ia})):ue!=null&&(Pe(ue)&&(ue=de(ue,Q+(ue.key==null||O&&O.key===ue.key?"":(""+ue.key).replace(xe,"$&/")+"/")+Ae)),V.push(ue)),1;Ae=0;var Tt=Z===""?".":Z+":";if(Y(O))for(var Ke=0;Ke<O.length;Ke++)Z=O[Ke],he=Tt+Pt(Z,Ke),Ae+=z(Z,V,Q,he,ue);else if(Ke=S(O),typeof Ke=="function")for(O=Ke.call(O),Ke=0;!(Z=O.next()).done;)Z=Z.value,he=Tt+Pt(Z,Ke++),Ae+=z(Z,V,Q,he,ue);else if(he==="object"){if(typeof O.then=="function")return z(Et(O),V,Q,Z,ue);throw V=String(O),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function X(O,V,Q){if(O==null)return O;var Z=[],ue=0;return z(O,Z,"","",function(he){return V.call(Q,he,ue++)}),Z}function re(O){if(O._status===-1){var V=O._result;V=V(),V.then(function(Q){(O._status===0||O._status===-1)&&(O._status=1,O._result=Q)},function(Q){(O._status===0||O._status===-1)&&(O._status=2,O._result=Q)}),O._status===-1&&(O._status=0,O._result=V)}if(O._status===1)return O._result.default;throw O._result}var Ue=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},me={map:X,forEach:function(O,V,Q){X(O,function(){V.apply(this,arguments)},Q)},count:function(O){var V=0;return X(O,function(){V++}),V},toArray:function(O){return X(O,function(V){return V})||[]},only:function(O){if(!Pe(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ce.Activity=b,ce.Children=me,ce.Component=j,ce.Fragment=a,ce.Profiler=o,ce.PureComponent=L,ce.StrictMode=s,ce.Suspense=p,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,ce.__COMPILER_RUNTIME={__proto__:null,c:function(O){return F.H.useMemoCache(O)}},ce.cache=function(O){return function(){return O.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(O,V,Q){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var Z=x({},O.props),ue=O.key;if(V!=null)for(he in V.key!==void 0&&(ue=""+V.key),V)!le.call(V,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&V.ref===void 0||(Z[he]=V[he]);var he=arguments.length-2;if(he===1)Z.children=Q;else if(1<he){for(var Ae=Array(he),Tt=0;Tt<he;Tt++)Ae[Tt]=arguments[Tt+2];Z.children=Ae}return oe(O.type,ue,Z)},ce.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},ce.createElement=function(O,V,Q){var Z,ue={},he=null;if(V!=null)for(Z in V.key!==void 0&&(he=""+V.key),V)le.call(V,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ue[Z]=V[Z]);var Ae=arguments.length-2;if(Ae===1)ue.children=Q;else if(1<Ae){for(var Tt=Array(Ae),Ke=0;Ke<Ae;Ke++)Tt[Ke]=arguments[Ke+2];ue.children=Tt}if(O&&O.defaultProps)for(Z in Ae=O.defaultProps,Ae)ue[Z]===void 0&&(ue[Z]=Ae[Z]);return oe(O,he,ue)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(O){return{$$typeof:h,render:O}},ce.isValidElement=Pe,ce.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:re}},ce.memo=function(O,V){return{$$typeof:m,type:O,compare:V===void 0?null:V}},ce.startTransition=function(O){var V=F.T,Q={};F.T=Q;try{var Z=O(),ue=F.S;ue!==null&&ue(Q,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(G,Ue)}catch(he){Ue(he)}finally{V!==null&&Q.types!==null&&(V.types=Q.types),F.T=V}},ce.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},ce.use=function(O){return F.H.use(O)},ce.useActionState=function(O,V,Q){return F.H.useActionState(O,V,Q)},ce.useCallback=function(O,V){return F.H.useCallback(O,V)},ce.useContext=function(O){return F.H.useContext(O)},ce.useDebugValue=function(){},ce.useDeferredValue=function(O,V){return F.H.useDeferredValue(O,V)},ce.useEffect=function(O,V){return F.H.useEffect(O,V)},ce.useEffectEvent=function(O){return F.H.useEffectEvent(O)},ce.useId=function(){return F.H.useId()},ce.useImperativeHandle=function(O,V,Q){return F.H.useImperativeHandle(O,V,Q)},ce.useInsertionEffect=function(O,V){return F.H.useInsertionEffect(O,V)},ce.useLayoutEffect=function(O,V){return F.H.useLayoutEffect(O,V)},ce.useMemo=function(O,V){return F.H.useMemo(O,V)},ce.useOptimistic=function(O,V){return F.H.useOptimistic(O,V)},ce.useReducer=function(O,V,Q){return F.H.useReducer(O,V,Q)},ce.useRef=function(O){return F.H.useRef(O)},ce.useState=function(O){return F.H.useState(O)},ce.useSyncExternalStore=function(O,V,Q){return F.H.useSyncExternalStore(O,V,Q)},ce.useTransition=function(){return F.H.useTransition()},ce.version="19.2.3",ce}var fv;function Rd(){return fv||(fv=1,Af.exports=iS()),Af.exports}var R=Rd();const td=Ey(R);var Cf={exports:{}},Ps={},jf={exports:{}},Rf={};var dv;function sS(){return dv||(dv=1,(function(r){function t(z,X){var re=z.length;z.push(X);e:for(;0<re;){var Ue=re-1>>>1,me=z[Ue];if(0<o(me,X))z[Ue]=X,z[re]=me,re=Ue;else break e}}function a(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var X=z[0],re=z.pop();if(re!==X){z[0]=re;e:for(var Ue=0,me=z.length,O=me>>>1;Ue<O;){var V=2*(Ue+1)-1,Q=z[V],Z=V+1,ue=z[Z];if(0>o(Q,re))Z<me&&0>o(ue,Q)?(z[Ue]=ue,z[Z]=re,Ue=Z):(z[Ue]=Q,z[V]=re,Ue=V);else if(Z<me&&0>o(ue,re))z[Ue]=ue,z[Z]=re,Ue=Z;else break e}}return X}function o(z,X){var re=z.sortIndex-X.sortIndex;return re!==0?re:z.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();r.unstable_now=function(){return f.now()-h}}var p=[],m=[],v=1,b=null,_=3,S=!1,E=!1,x=!1,C=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function $(z){for(var X=a(m);X!==null;){if(X.callback===null)s(m);else if(X.startTime<=z)s(m),X.sortIndex=X.expirationTime,t(p,X);else break;X=a(m)}}function Y(z){if(x=!1,$(z),!E)if(a(p)!==null)E=!0,G||(G=!0,we());else{var X=a(m);X!==null&&Et(Y,X.startTime-z)}}var G=!1,F=-1,le=5,oe=-1;function de(){return C?!0:!(r.unstable_now()-oe<le)}function Pe(){if(C=!1,G){var z=r.unstable_now();oe=z;var X=!0;try{e:{E=!1,x&&(x=!1,N(F),F=-1),S=!0;var re=_;try{t:{for($(z),b=a(p);b!==null&&!(b.expirationTime>z&&de());){var Ue=b.callback;if(typeof Ue=="function"){b.callback=null,_=b.priorityLevel;var me=Ue(b.expirationTime<=z);if(z=r.unstable_now(),typeof me=="function"){b.callback=me,$(z),X=!0;break t}b===a(p)&&s(p),$(z)}else s(p);b=a(p)}if(b!==null)X=!0;else{var O=a(m);O!==null&&Et(Y,O.startTime-z),X=!1}}break e}finally{b=null,_=re,S=!1}X=void 0}}finally{X?we():G=!1}}}var we;if(typeof L=="function")we=function(){L(Pe)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Pt=xe.port2;xe.port1.onmessage=Pe,we=function(){Pt.postMessage(null)}}else we=function(){j(Pe,0)};function Et(z,X){F=j(function(){z(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_next=function(z){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var re=_;_=X;try{return z()}finally{_=re}},r.unstable_requestPaint=function(){C=!0},r.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=_;_=z;try{return X()}finally{_=re}},r.unstable_scheduleCallback=function(z,X,re){var Ue=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ue+re:Ue):re=Ue,z){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=re+me,z={id:v++,callback:X,priorityLevel:z,startTime:re,expirationTime:me,sortIndex:-1},re>Ue?(z.sortIndex=re,t(m,z),a(p)===null&&z===a(m)&&(x?(N(F),F=-1):x=!0,Et(Y,re-Ue))):(z.sortIndex=me,t(p,z),E||S||(E=!0,G||(G=!0,we()))),z},r.unstable_shouldYield=de,r.unstable_wrapCallback=function(z){var X=_;return function(){var re=_;_=X;try{return z.apply(this,arguments)}finally{_=re}}}})(Rf)),Rf}var hv;function lS(){return hv||(hv=1,jf.exports=sS()),jf.exports}var Nf={exports:{}},$t={};var pv;function oS(){if(pv)return $t;pv=1;var r=Rd();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,m,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:m,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(p,m,null,v)},$t.flushSync=function(p){var m=f.T,v=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=m,s.p=v,s.d.f()}},$t.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,b=h(v,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:S}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:_,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},$t.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},$t.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,b=h(v,m.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},$t.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=h(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,m){return p(m)},$t.useFormState=function(p,m,v){return f.H.useFormState(p,m,v)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.3",$t}var mv;function uS(){if(mv)return Nf.exports;mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nf.exports=oS(),Nf.exports}var gv;function cS(){if(gv)return Ps;gv=1;var r=lS(),t=Rd(),a=uS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function m(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,l=n;;){var c=i.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){i=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===i)return p(c),e;if(d===l)return p(c),n;d=d.sibling}throw Error(s(188))}if(i.return!==l.return)i=c,l=d;else{for(var g=!1,w=c.child;w;){if(w===i){g=!0,i=c,l=d;break}if(w===l){g=!0,l=c,i=d;break}w=w.sibling}if(!g){for(w=d.child;w;){if(w===i){g=!0,i=d,l=c;break}if(w===l){g=!0,l=d,i=c;break}w=w.sibling}if(!g)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),Pe=Symbol.iterator;function we(e){return e===null||typeof e!="object"?null:(e=Pe&&e[Pe]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Symbol.for("react.client.reference");function Pt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case j:return"Profiler";case C:return"StrictMode";case Y:return"Suspense";case G:return"SuspenseList";case oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case L:return e.displayName||"Context";case N:return(e._context.displayName||"Context")+".Consumer";case $:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return n=e.displayName||null,n!==null?n:Pt(e.type)||"Memo";case le:n=e._payload,e=e._init;try{return Pt(e(n))}catch{}}return null}var Et=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ue=[],me=-1;function O(e){return{current:e}}function V(e){0>me||(e.current=Ue[me],Ue[me]=null,me--)}function Q(e,n){me++,Ue[me]=e.current,e.current=n}var Z=O(null),ue=O(null),he=O(null),Ae=O(null);function Tt(e,n){switch(Q(he,n),Q(ue,e),Q(Z,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Rg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Rg(n),e=Ng(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(Z),Q(Z,e)}function Ke(){V(Z),V(ue),V(he)}function Ia(e){e.memoizedState!==null&&Q(Ae,e);var n=Z.current,i=Ng(n,e.type);n!==i&&(Q(ue,e),Q(Z,i))}function Ot(e){ue.current===e&&(V(Z),V(ue)),Ae.current===e&&(V(Ae),Ms._currentValue=re)}var st,qt;function Ye(e){if(st===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);st=n&&n[1]||"",qt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+e+qt}var Vt=!1;function an(e,n){if(!e||Vt)return"";Vt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(M){var I=M}Reflect.construct(e,[],q)}else{try{q.call()}catch(M){I=M}e.call(q.prototype)}}else{try{throw Error()}catch(M){I=M}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(M){if(M&&I&&typeof M.stack=="string")return[M.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],w=d[1];if(g&&w){var T=g.split(`
`),D=w.split(`
`);for(c=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;if(l===T.length||c===D.length)for(l=T.length-1,c=D.length-1;1<=l&&0<=c&&T[l]!==D[c];)c--;for(;1<=l&&0<=c;l--,c--)if(T[l]!==D[c]){if(l!==1||c!==1)do if(l--,c--,0>c||T[l]!==D[c]){var B=`
`+T[l].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=l&&0<=c);break}}}finally{Vt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ye(i):""}function xn(e,n){switch(e.tag){case 26:case 27:case 5:return Ye(e.type);case 16:return Ye("Lazy");case 13:return e.child!==n&&n!==null?Ye("Suspense Fallback"):Ye("Suspense");case 19:return Ye("SuspenseList");case 0:case 15:return an(e.type,!1);case 11:return an(e.type.render,!1);case 1:return an(e.type,!0);case 31:return Ye("Activity");default:return""}}function sn(e){try{var n="",i=null;do n+=xn(e,i),i=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Gt=Object.prototype.hasOwnProperty,er=r.unstable_scheduleCallback,Tr=r.unstable_cancelCallback,Ji=r.unstable_shouldYield,du=r.unstable_requestPaint,Me=r.unstable_now,pl=r.unstable_getCurrentPriorityLevel,Ki=r.unstable_ImmediatePriority,Ft=r.unstable_UserBlockingPriority,Or=r.unstable_NormalPriority,na=r.unstable_LowPriority,La=r.unstable_IdlePriority,Mb=r.log,$b=r.unstable_setDisableYieldValue,Yi=null,ln=null;function Ar(e){if(typeof Mb=="function"&&$b(e),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Yi,e)}catch{}}var on=Math.clz32?Math.clz32:Hb,zb=Math.log,Bb=Math.LN2;function Hb(e){return e>>>=0,e===0?32:31-(zb(e)/Bb|0)|0}var ml=256,gl=262144,vl=4194304;function ra(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yl(e,n,i){var l=e.pendingLanes;if(l===0)return 0;var c=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?c=ra(l):(g&=w,g!==0?c=ra(g):i||(i=w&~e,i!==0&&(c=ra(i))))):(w=l&~d,w!==0?c=ra(w):g!==0?c=ra(g):i||(i=l&~e,i!==0&&(c=ra(i)))),c===0?0:n!==0&&n!==c&&(n&d)===0&&(d=c&-c,i=n&-n,d>=i||d===32&&(i&4194048)!==0)?n:c}function Xi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Pb(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fh(){var e=vl;return vl<<=1,(vl&62914560)===0&&(vl=4194304),e}function hu(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Qi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qb(e,n,i,l,c,d){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var w=e.entanglements,T=e.expirationTimes,D=e.hiddenUpdates;for(i=g&~i;0<i;){var B=31-on(i),q=1<<B;w[B]=0,T[B]=-1;var I=D[B];if(I!==null)for(D[B]=null,B=0;B<I.length;B++){var M=I[B];M!==null&&(M.lane&=-536870913)}i&=~q}l!==0&&dh(e,l,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~n))}function dh(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-on(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|i&261930}function hh(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-on(i),c=1<<l;c&n|e[l]&n&&(e[l]|=n),i&=~c}}function ph(e,n){var i=n&-n;return i=(i&42)!==0?1:pu(i),(i&(e.suspendedLanes|n))!==0?0:i}function pu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function mh(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:ev(e.type))}function gh(e,n){var i=X.p;try{return X.p=e,n()}finally{X.p=i}}var Cr=Math.random().toString(36).slice(2),At="__reactFiber$"+Cr,Yt="__reactProps$"+Cr,Ma="__reactContainer$"+Cr,gu="__reactEvents$"+Cr,Vb="__reactListeners$"+Cr,Gb="__reactHandles$"+Cr,vh="__reactResources$"+Cr,Zi="__reactMarker$"+Cr;function vu(e){delete e[At],delete e[Yt],delete e[gu],delete e[Vb],delete e[Gb]}function $a(e){var n=e[At];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Ma]||i[At]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=$g(e);e!==null;){if(i=e[At])return i;e=$g(e)}return n}e=i,i=e.parentNode}return null}function za(e){if(e=e[At]||e[Ma]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Wi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Ba(e){var n=e[vh];return n||(n=e[vh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function St(e){e[Zi]=!0}var yh=new Set,bh={};function aa(e,n){Ha(e,n),Ha(e+"Capture",n)}function Ha(e,n){for(bh[e]=n,e=0;e<n.length;e++)yh.add(n[e])}var Fb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wh={},_h={};function Jb(e){return Gt.call(_h,e)?!0:Gt.call(wh,e)?!1:Fb.test(e)?_h[e]=!0:(wh[e]=!0,!1)}function bl(e,n,i){if(Jb(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function wl(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function tr(e,n,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+l)}}function En(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sh(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Kb(e,n,i){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){i=""+g,d.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function yu(e){if(!e._valueTracker){var n=Sh(e)?"checked":"value";e._valueTracker=Kb(e,n,""+e[n])}}function xh(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=Sh(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Yb=/[\n"\\]/g;function Tn(e){return e.replace(Yb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function bu(e,n,i,l,c,d,g,w){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+En(n)):e.value!==""+En(n)&&(e.value=""+En(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?wu(e,g,En(n)):i!=null?wu(e,g,En(i)):l!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+En(w):e.removeAttribute("name")}function Eh(e,n,i,l,c,d,g,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){yu(e);return}i=i!=null?""+En(i):"",n=n!=null?""+En(n):i,w||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),yu(e)}function wu(e,n,i){n==="number"&&_l(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Pa(e,n,i,l){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&l&&(e[i].defaultSelected=!0)}else{for(i=""+En(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Th(e,n,i){if(n!=null&&(n=""+En(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+En(i):""}function Oh(e,n,i,l){if(n==null){if(l!=null){if(i!=null)throw Error(s(92));if(Et(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),n=i}i=En(n),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l),yu(e)}function qa(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Xb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ah(e,n,i){var l=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,i):typeof i!="number"||i===0||Xb.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Ch(e,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&i[c]!==l&&Ah(e,c,l)}else for(var d in n)n.hasOwnProperty(d)&&Ah(e,d,n[d])}function _u(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sl(e){return Zb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function nr(){}var Su=null;function xu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Va=null,Ga=null;function jh(e){var n=za(e);if(n&&(e=n.stateNode)){var i=e[Yt]||null;e:switch(e=n.stateNode,n.type){case"input":if(bu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Tn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var c=l[Yt]||null;if(!c)throw Error(s(90));bu(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<i.length;n++)l=i[n],l.form===e.form&&xh(l)}break e;case"textarea":Th(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Pa(e,!!i.multiple,n,!1)}}}var Eu=!1;function Rh(e,n,i){if(Eu)return e(n,i);Eu=!0;try{var l=e(n);return l}finally{if(Eu=!1,(Va!==null||Ga!==null)&&(uo(),Va&&(n=Va,e=Ga,Ga=Va=null,jh(n),e)))for(n=0;n<e.length;n++)jh(e[n])}}function es(e,n){var i=e.stateNode;if(i===null)return null;var l=i[Yt]||null;if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tu=!1;if(rr)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){Tu=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{Tu=!1}var jr=null,Ou=null,xl=null;function Nh(){if(xl)return xl;var e,n=Ou,i=n.length,l,c="value"in jr?jr.value:jr.textContent,d=c.length;for(e=0;e<i&&n[e]===c[e];e++);var g=i-e;for(l=1;l<=g&&n[i-l]===c[d-l];l++);return xl=c.slice(e,1<l?1-l:void 0)}function El(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Tl(){return!0}function kh(){return!1}function Xt(e){function n(i,l,c,d,g){this._reactName=i,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Tl:kh,this.isPropagationStopped=kh,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),n}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Xt(ia),ns=b({},ia,{view:0,detail:0}),Wb=Xt(ns),Au,Cu,rs,Al=b({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ru,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rs&&(rs&&e.type==="mousemove"?(Au=e.screenX-rs.screenX,Cu=e.screenY-rs.screenY):Cu=Au=0,rs=e),Au)},movementY:function(e){return"movementY"in e?e.movementY:Cu}}),Uh=Xt(Al),ew=b({},Al,{dataTransfer:0}),tw=Xt(ew),nw=b({},ns,{relatedTarget:0}),ju=Xt(nw),rw=b({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),aw=Xt(rw),iw=b({},ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sw=Xt(iw),lw=b({},ia,{data:0}),Dh=Xt(lw),ow={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fw(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=cw[e])?!!n[e]:!1}function Ru(){return fw}var dw=b({},ns,{key:function(e){if(e.key){var n=ow[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=El(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ru,charCode:function(e){return e.type==="keypress"?El(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?El(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hw=Xt(dw),pw=b({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ih=Xt(pw),mw=b({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ru}),gw=Xt(mw),vw=b({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),yw=Xt(vw),bw=b({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ww=Xt(bw),_w=b({},ia,{newState:0,oldState:0}),Sw=Xt(_w),xw=[9,13,27,32],Nu=rr&&"CompositionEvent"in window,as=null;rr&&"documentMode"in document&&(as=document.documentMode);var Ew=rr&&"TextEvent"in window&&!as,Lh=rr&&(!Nu||as&&8<as&&11>=as),Mh=" ",$h=!1;function zh(e,n){switch(e){case"keyup":return xw.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fa=!1;function Tw(e,n){switch(e){case"compositionend":return Bh(n);case"keypress":return n.which!==32?null:($h=!0,Mh);case"textInput":return e=n.data,e===Mh&&$h?null:e;default:return null}}function Ow(e,n){if(Fa)return e==="compositionend"||!Nu&&zh(e,n)?(e=Nh(),xl=Ou=jr=null,Fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Lh&&n.locale!=="ko"?null:n.data;default:return null}}var Aw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Aw[e.type]:n==="textarea"}function Ph(e,n,i,l){Va?Ga?Ga.push(l):Ga=[l]:Va=l,n=vo(n,"onChange"),0<n.length&&(i=new Ol("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var is=null,ss=null;function Cw(e){Eg(e,0)}function Cl(e){var n=Wi(e);if(xh(n))return e}function qh(e,n){if(e==="change")return n}var Vh=!1;if(rr){var ku;if(rr){var Uu="oninput"in document;if(!Uu){var Gh=document.createElement("div");Gh.setAttribute("oninput","return;"),Uu=typeof Gh.oninput=="function"}ku=Uu}else ku=!1;Vh=ku&&(!document.documentMode||9<document.documentMode)}function Fh(){is&&(is.detachEvent("onpropertychange",Jh),ss=is=null)}function Jh(e){if(e.propertyName==="value"&&Cl(ss)){var n=[];Ph(n,ss,e,xu(e)),Rh(Cw,n)}}function jw(e,n,i){e==="focusin"?(Fh(),is=n,ss=i,is.attachEvent("onpropertychange",Jh)):e==="focusout"&&Fh()}function Rw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cl(ss)}function Nw(e,n){if(e==="click")return Cl(n)}function kw(e,n){if(e==="input"||e==="change")return Cl(n)}function Uw(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var un=typeof Object.is=="function"?Object.is:Uw;function ls(e,n){if(un(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var c=i[l];if(!Gt.call(n,c)||!un(e[c],n[c]))return!1}return!0}function Kh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yh(e,n){var i=Kh(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Kh(i)}}function Xh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Qh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_l(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=_l(e.document)}return n}function Du(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Dw=rr&&"documentMode"in document&&11>=document.documentMode,Ja=null,Iu=null,os=null,Lu=!1;function Zh(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Lu||Ja==null||Ja!==_l(l)||(l=Ja,"selectionStart"in l&&Du(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),os&&ls(os,l)||(os=l,l=vo(Iu,"onSelect"),0<l.length&&(n=new Ol("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=Ja)))}function sa(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ka={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},Mu={},Wh={};rr&&(Wh=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function la(e){if(Mu[e])return Mu[e];if(!Ka[e])return e;var n=Ka[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Wh)return Mu[e]=n[i];return e}var ep=la("animationend"),tp=la("animationiteration"),np=la("animationstart"),Iw=la("transitionrun"),Lw=la("transitionstart"),Mw=la("transitioncancel"),rp=la("transitionend"),ap=new Map,$u="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$u.push("scrollEnd");function Mn(e,n){ap.set(e,n),aa(n,[e])}var jl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],Ya=0,zu=0;function Rl(){for(var e=Ya,n=zu=Ya=0;n<e;){var i=On[n];On[n++]=null;var l=On[n];On[n++]=null;var c=On[n];On[n++]=null;var d=On[n];if(On[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}d!==0&&ip(i,c,d)}}function Nl(e,n,i,l){On[Ya++]=e,On[Ya++]=n,On[Ya++]=i,On[Ya++]=l,zu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bu(e,n,i,l){return Nl(e,n,i,l),kl(e)}function oa(e,n){return Nl(e,null,null,n),kl(e)}function ip(e,n,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var c=!1,d=e.return;d!==null;)d.childLanes|=i,l=d.alternate,l!==null&&(l.childLanes|=i),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&n!==null&&(c=31-on(i),e=d.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=i|536870912),d):null}function kl(e){if(50<Rs)throw Rs=0,Yc=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Xa={};function $w(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,n,i,l){return new $w(e,n,i,l)}function Hu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ar(e,n){var i=e.alternate;return i===null?(i=cn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function sp(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ul(e,n,i,l,c,d){var g=0;if(l=e,typeof e=="function")Hu(e)&&(g=1);else if(typeof e=="string")g=q_(e,i,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case oe:return e=cn(31,i,n,c),e.elementType=oe,e.lanes=d,e;case x:return ua(i.children,c,d,n);case C:g=8,c|=24;break;case j:return e=cn(12,i,n,c|2),e.elementType=j,e.lanes=d,e;case Y:return e=cn(13,i,n,c),e.elementType=Y,e.lanes=d,e;case G:return e=cn(19,i,n,c),e.elementType=G,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:g=10;break e;case N:g=9;break e;case $:g=11;break e;case F:g=14;break e;case le:g=16,l=null;break e}g=29,i=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=cn(g,i,n,c),n.elementType=e,n.type=l,n.lanes=d,n}function ua(e,n,i,l){return e=cn(7,e,l,n),e.lanes=i,e}function Pu(e,n,i){return e=cn(6,e,null,n),e.lanes=i,e}function lp(e){var n=cn(18,null,null,0);return n.stateNode=e,n}function qu(e,n,i){return n=cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var op=new WeakMap;function An(e,n){if(typeof e=="object"&&e!==null){var i=op.get(e);return i!==void 0?i:(n={value:e,source:n,stack:sn(n)},op.set(e,n),n)}return{value:e,source:n,stack:sn(n)}}var Qa=[],Za=0,Dl=null,us=0,Cn=[],jn=0,Rr=null,Gn=1,Fn="";function ir(e,n){Qa[Za++]=us,Qa[Za++]=Dl,Dl=e,us=n}function up(e,n,i){Cn[jn++]=Gn,Cn[jn++]=Fn,Cn[jn++]=Rr,Rr=e;var l=Gn;e=Fn;var c=32-on(l)-1;l&=~(1<<c),i+=1;var d=32-on(n)+c;if(30<d){var g=c-c%5;d=(l&(1<<g)-1).toString(32),l>>=g,c-=g,Gn=1<<32-on(n)+c|i<<c|l,Fn=d+e}else Gn=1<<d|i<<c|l,Fn=e}function Vu(e){e.return!==null&&(ir(e,1),up(e,1,0))}function Gu(e){for(;e===Dl;)Dl=Qa[--Za],Qa[Za]=null,us=Qa[--Za],Qa[Za]=null;for(;e===Rr;)Rr=Cn[--jn],Cn[jn]=null,Fn=Cn[--jn],Cn[jn]=null,Gn=Cn[--jn],Cn[jn]=null}function cp(e,n){Cn[jn++]=Gn,Cn[jn++]=Fn,Cn[jn++]=Rr,Gn=n.id,Fn=n.overflow,Rr=e}var Ct=null,Ge=null,Ee=!1,Nr=null,Rn=!1,Fu=Error(s(519));function kr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cs(An(n,e)),Fu}function fp(e){var n=e.stateNode,i=e.type,l=e.memoizedProps;switch(n[At]=e,n[Yt]=l,i){case"dialog":ye("cancel",n),ye("close",n);break;case"iframe":case"object":case"embed":ye("load",n);break;case"video":case"audio":for(i=0;i<ks.length;i++)ye(ks[i],n);break;case"source":ye("error",n);break;case"img":case"image":case"link":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"input":ye("invalid",n),Eh(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ye("invalid",n);break;case"textarea":ye("invalid",n),Oh(n,l.value,l.defaultValue,l.children)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||l.suppressHydrationWarning===!0||Cg(n.textContent,i)?(l.popover!=null&&(ye("beforetoggle",n),ye("toggle",n)),l.onScroll!=null&&ye("scroll",n),l.onScrollEnd!=null&&ye("scrollend",n),l.onClick!=null&&(n.onclick=nr),n=!0):n=!1,n||kr(e,!0)}function dp(e){for(Ct=e.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:Ct=Ct.return}}function Wa(e){if(e!==Ct)return!1;if(!Ee)return dp(e),Ee=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||ff(e.type,e.memoizedProps)),i=!i),i&&Ge&&kr(e),dp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ge=Mg(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ge=Mg(e)}else n===27?(n=Ge,Fr(e.type)?(e=gf,gf=null,Ge=e):Ge=n):Ge=Ct?kn(e.stateNode.nextSibling):null;return!0}function ca(){Ge=Ct=null,Ee=!1}function Ju(){var e=Nr;return e!==null&&(en===null?en=e:en.push.apply(en,e),Nr=null),e}function cs(e){Nr===null?Nr=[e]:Nr.push(e)}var Ku=O(null),fa=null,sr=null;function Ur(e,n,i){Q(Ku,n._currentValue),n._currentValue=i}function lr(e){e._currentValue=Ku.current,V(Ku)}function Yu(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function Xu(e,n,i,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=c;for(var T=0;T<n.length;T++)if(w.context===n[T]){d.lanes|=i,w=d.alternate,w!==null&&(w.lanes|=i),Yu(d.return,i,e),l||(g=null);break e}d=w.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=i,d=g.alternate,d!==null&&(d.lanes|=i),Yu(g,i,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ei(e,n,i,l){e=null;for(var c=n,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var w=c.type;un(c.pendingProps.value,g.value)||(e!==null?e.push(w):e=[w])}}else if(c===Ae.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ms):e=[Ms])}c=c.return}e!==null&&Xu(n,e,i,l),n.flags|=262144}function Il(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function da(e){fa=e,sr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jt(e){return hp(fa,e)}function Ll(e,n){return fa===null&&da(e),hp(e,n)}function hp(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},sr===null){if(e===null)throw Error(s(308));sr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else sr=sr.next=n;return i}var zw=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},Bw=r.unstable_scheduleCallback,Hw=r.unstable_NormalPriority,dt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qu(){return{controller:new zw,data:new Map,refCount:0}}function fs(e){e.refCount--,e.refCount===0&&Bw(Hw,function(){e.controller.abort()})}var ds=null,Zu=0,ti=0,ni=null;function Pw(e,n){if(ds===null){var i=ds=[];Zu=0,ti=tf(),ni={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Zu++,n.then(pp,pp),n}function pp(){if(--Zu===0&&ds!==null){ni!==null&&(ni.status="fulfilled");var e=ds;ds=null,ti=0,ni=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function qw(e,n){var i=[],l={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<i.length;c++)(0,i[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),l}var mp=z.S;z.S=function(e,n){Zm=Me(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Pw(e,n),mp!==null&&mp(e,n)};var ha=O(null);function Wu(){var e=ha.current;return e!==null?e:qe.pooledCache}function Ml(e,n){n===null?Q(ha,ha.current):Q(ha,n.pool)}function gp(){var e=Wu();return e===null?null:{parent:dt._currentValue,pool:e}}var ri=Error(s(460)),ec=Error(s(474)),$l=Error(s(542)),zl={then:function(){}};function vp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yp(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(nr,nr),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,wp(e),e;default:if(typeof n.status=="string")n.then(nr,nr);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,wp(e),e}throw ma=n,ri}}function pa(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ma=i,ri):i}}var ma=null;function bp(){if(ma===null)throw Error(s(459));var e=ma;return ma=null,e}function wp(e){if(e===ri||e===$l)throw Error(s(483))}var ai=null,hs=0;function Bl(e){var n=hs;return hs+=1,ai===null&&(ai=[]),yp(ai,e,n)}function ps(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Hl(e,n){throw n.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function _p(e){function n(k,A){if(e){var U=k.deletions;U===null?(k.deletions=[A],k.flags|=16):U.push(A)}}function i(k,A){if(!e)return null;for(;A!==null;)n(k,A),A=A.sibling;return null}function l(k){for(var A=new Map;k!==null;)k.key!==null?A.set(k.key,k):A.set(k.index,k),k=k.sibling;return A}function c(k,A){return k=ar(k,A),k.index=0,k.sibling=null,k}function d(k,A,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<A?(k.flags|=67108866,A):U):(k.flags|=67108866,A)):(k.flags|=1048576,A)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function w(k,A,U,H){return A===null||A.tag!==6?(A=Pu(U,k.mode,H),A.return=k,A):(A=c(A,U),A.return=k,A)}function T(k,A,U,H){var ne=U.type;return ne===x?B(k,A,U.props.children,H,U.key):A!==null&&(A.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===le&&pa(ne)===A.type)?(A=c(A,U.props),ps(A,U),A.return=k,A):(A=Ul(U.type,U.key,U.props,null,k.mode,H),ps(A,U),A.return=k,A)}function D(k,A,U,H){return A===null||A.tag!==4||A.stateNode.containerInfo!==U.containerInfo||A.stateNode.implementation!==U.implementation?(A=qu(U,k.mode,H),A.return=k,A):(A=c(A,U.children||[]),A.return=k,A)}function B(k,A,U,H,ne){return A===null||A.tag!==7?(A=ua(U,k.mode,H,ne),A.return=k,A):(A=c(A,U),A.return=k,A)}function q(k,A,U){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Pu(""+A,k.mode,U),A.return=k,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case S:return U=Ul(A.type,A.key,A.props,null,k.mode,U),ps(U,A),U.return=k,U;case E:return A=qu(A,k.mode,U),A.return=k,A;case le:return A=pa(A),q(k,A,U)}if(Et(A)||we(A))return A=ua(A,k.mode,U,null),A.return=k,A;if(typeof A.then=="function")return q(k,Bl(A),U);if(A.$$typeof===L)return q(k,Ll(k,A),U);Hl(k,A)}return null}function I(k,A,U,H){var ne=A!==null?A.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ne!==null?null:w(k,A,""+U,H);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return U.key===ne?T(k,A,U,H):null;case E:return U.key===ne?D(k,A,U,H):null;case le:return U=pa(U),I(k,A,U,H)}if(Et(U)||we(U))return ne!==null?null:B(k,A,U,H,null);if(typeof U.then=="function")return I(k,A,Bl(U),H);if(U.$$typeof===L)return I(k,A,Ll(k,U),H);Hl(k,U)}return null}function M(k,A,U,H,ne){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return k=k.get(U)||null,w(A,k,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return k=k.get(H.key===null?U:H.key)||null,T(A,k,H,ne);case E:return k=k.get(H.key===null?U:H.key)||null,D(A,k,H,ne);case le:return H=pa(H),M(k,A,U,H,ne)}if(Et(H)||we(H))return k=k.get(U)||null,B(A,k,H,ne,null);if(typeof H.then=="function")return M(k,A,U,Bl(H),ne);if(H.$$typeof===L)return M(k,A,U,Ll(A,H),ne);Hl(A,H)}return null}function W(k,A,U,H){for(var ne=null,je=null,ee=A,pe=A=0,Se=null;ee!==null&&pe<U.length;pe++){ee.index>pe?(Se=ee,ee=null):Se=ee.sibling;var Re=I(k,ee,U[pe],H);if(Re===null){ee===null&&(ee=Se);break}e&&ee&&Re.alternate===null&&n(k,ee),A=d(Re,A,pe),je===null?ne=Re:je.sibling=Re,je=Re,ee=Se}if(pe===U.length)return i(k,ee),Ee&&ir(k,pe),ne;if(ee===null){for(;pe<U.length;pe++)ee=q(k,U[pe],H),ee!==null&&(A=d(ee,A,pe),je===null?ne=ee:je.sibling=ee,je=ee);return Ee&&ir(k,pe),ne}for(ee=l(ee);pe<U.length;pe++)Se=M(ee,k,pe,U[pe],H),Se!==null&&(e&&Se.alternate!==null&&ee.delete(Se.key===null?pe:Se.key),A=d(Se,A,pe),je===null?ne=Se:je.sibling=Se,je=Se);return e&&ee.forEach(function(Qr){return n(k,Qr)}),Ee&&ir(k,pe),ne}function ae(k,A,U,H){if(U==null)throw Error(s(151));for(var ne=null,je=null,ee=A,pe=A=0,Se=null,Re=U.next();ee!==null&&!Re.done;pe++,Re=U.next()){ee.index>pe?(Se=ee,ee=null):Se=ee.sibling;var Qr=I(k,ee,Re.value,H);if(Qr===null){ee===null&&(ee=Se);break}e&&ee&&Qr.alternate===null&&n(k,ee),A=d(Qr,A,pe),je===null?ne=Qr:je.sibling=Qr,je=Qr,ee=Se}if(Re.done)return i(k,ee),Ee&&ir(k,pe),ne;if(ee===null){for(;!Re.done;pe++,Re=U.next())Re=q(k,Re.value,H),Re!==null&&(A=d(Re,A,pe),je===null?ne=Re:je.sibling=Re,je=Re);return Ee&&ir(k,pe),ne}for(ee=l(ee);!Re.done;pe++,Re=U.next())Re=M(ee,k,pe,Re.value,H),Re!==null&&(e&&Re.alternate!==null&&ee.delete(Re.key===null?pe:Re.key),A=d(Re,A,pe),je===null?ne=Re:je.sibling=Re,je=Re);return e&&ee.forEach(function(eS){return n(k,eS)}),Ee&&ir(k,pe),ne}function Be(k,A,U,H){if(typeof U=="object"&&U!==null&&U.type===x&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case S:e:{for(var ne=U.key;A!==null;){if(A.key===ne){if(ne=U.type,ne===x){if(A.tag===7){i(k,A.sibling),H=c(A,U.props.children),H.return=k,k=H;break e}}else if(A.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===le&&pa(ne)===A.type){i(k,A.sibling),H=c(A,U.props),ps(H,U),H.return=k,k=H;break e}i(k,A);break}else n(k,A);A=A.sibling}U.type===x?(H=ua(U.props.children,k.mode,H,U.key),H.return=k,k=H):(H=Ul(U.type,U.key,U.props,null,k.mode,H),ps(H,U),H.return=k,k=H)}return g(k);case E:e:{for(ne=U.key;A!==null;){if(A.key===ne)if(A.tag===4&&A.stateNode.containerInfo===U.containerInfo&&A.stateNode.implementation===U.implementation){i(k,A.sibling),H=c(A,U.children||[]),H.return=k,k=H;break e}else{i(k,A);break}else n(k,A);A=A.sibling}H=qu(U,k.mode,H),H.return=k,k=H}return g(k);case le:return U=pa(U),Be(k,A,U,H)}if(Et(U))return W(k,A,U,H);if(we(U)){if(ne=we(U),typeof ne!="function")throw Error(s(150));return U=ne.call(U),ae(k,A,U,H)}if(typeof U.then=="function")return Be(k,A,Bl(U),H);if(U.$$typeof===L)return Be(k,A,Ll(k,U),H);Hl(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,A!==null&&A.tag===6?(i(k,A.sibling),H=c(A,U),H.return=k,k=H):(i(k,A),H=Pu(U,k.mode,H),H.return=k,k=H),g(k)):i(k,A)}return function(k,A,U,H){try{hs=0;var ne=Be(k,A,U,H);return ai=null,ne}catch(ee){if(ee===ri||ee===$l)throw ee;var je=cn(29,ee,null,k.mode);return je.lanes=H,je.return=k,je}}}var ga=_p(!0),Sp=_p(!1),Dr=!1;function tc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Lr(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ne&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=kl(e),ip(e,null,i),n}return Nl(e,l,n,i),kl(e)}function ms(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,hh(e,i)}}function rc(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var c=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,i=i.next}while(i!==null);d===null?c=d=n:d=d.next=n}else c=d=n;i={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var ac=!1;function gs(){if(ac){var e=ni;if(e!==null)throw e}}function vs(e,n,i,l){ac=!1;var c=e.updateQueue;Dr=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var T=w,D=T.next;T.next=null,g===null?d=D:g.next=D,g=T;var B=e.alternate;B!==null&&(B=B.updateQueue,w=B.lastBaseUpdate,w!==g&&(w===null?B.firstBaseUpdate=D:w.next=D,B.lastBaseUpdate=T))}if(d!==null){var q=c.baseState;g=0,B=D=T=null,w=d;do{var I=w.lane&-536870913,M=I!==w.lane;if(M?(_e&I)===I:(l&I)===I){I!==0&&I===ti&&(ac=!0),B!==null&&(B=B.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var W=e,ae=w;I=n;var Be=i;switch(ae.tag){case 1:if(W=ae.payload,typeof W=="function"){q=W.call(Be,q,I);break e}q=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=ae.payload,I=typeof W=="function"?W.call(Be,q,I):W,I==null)break e;q=b({},q,I);break e;case 2:Dr=!0}}I=w.callback,I!==null&&(e.flags|=64,M&&(e.flags|=8192),M=c.callbacks,M===null?c.callbacks=[I]:M.push(I))}else M={lane:I,tag:w.tag,payload:w.payload,callback:w.callback,next:null},B===null?(D=B=M,T=q):B=B.next=M,g|=I;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;M=w,w=M.next,M.next=null,c.lastBaseUpdate=M,c.shared.pending=null}}while(!0);B===null&&(T=q),c.baseState=T,c.firstBaseUpdate=D,c.lastBaseUpdate=B,d===null&&(c.shared.lanes=0),Hr|=g,e.lanes=g,e.memoizedState=q}}function xp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Ep(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)xp(i[e],n)}var ii=O(null),Pl=O(0);function Tp(e,n){e=gr,Q(Pl,e),Q(ii,n),gr=e|n.baseLanes}function ic(){Q(Pl,gr),Q(ii,ii.current)}function sc(){gr=Pl.current,V(ii),V(Pl)}var fn=O(null),Nn=null;function Mr(e){var n=e.alternate;Q(lt,lt.current&1),Q(fn,e),Nn===null&&(n===null||ii.current!==null||n.memoizedState!==null)&&(Nn=e)}function lc(e){Q(lt,lt.current),Q(fn,e),Nn===null&&(Nn=e)}function Op(e){e.tag===22?(Q(lt,lt.current),Q(fn,e),Nn===null&&(Nn=e)):$r()}function $r(){Q(lt,lt.current),Q(fn,fn.current)}function dn(e){V(fn),Nn===e&&(Nn=null),V(lt)}var lt=O(0);function ql(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||pf(i)||mf(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var or=0,fe=null,$e=null,ht=null,Vl=!1,si=!1,va=!1,Gl=0,ys=0,li=null,Vw=0;function tt(){throw Error(s(321))}function oc(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!un(e[i],n[i]))return!1;return!0}function uc(e,n,i,l,c,d){return or=d,fe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=e===null||e.memoizedState===null?um:Ec,va=!1,d=i(l,c),va=!1,si&&(d=Cp(n,i,l,c)),Ap(e),d}function Ap(e){z.H=_s;var n=$e!==null&&$e.next!==null;if(or=0,ht=$e=fe=null,Vl=!1,ys=0,li=null,n)throw Error(s(300));e===null||pt||(e=e.dependencies,e!==null&&Il(e)&&(pt=!0))}function Cp(e,n,i,l){fe=e;var c=0;do{if(si&&(li=null),ys=0,si=!1,25<=c)throw Error(s(301));if(c+=1,ht=$e=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}z.H=cm,d=n(i,l)}while(si);return d}function Gw(){var e=z.H,n=e.useState()[0];return n=typeof n.then=="function"?bs(n):n,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(fe.flags|=1024),n}function cc(){var e=Gl!==0;return Gl=0,e}function fc(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function dc(e){if(Vl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Vl=!1}or=0,ht=$e=fe=null,si=!1,ys=Gl=0,li=null}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?fe.memoizedState=ht=e:ht=ht.next=e,ht}function ot(){if($e===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var n=ht===null?fe.memoizedState:ht.next;if(n!==null)ht=n,$e=e;else{if(e===null)throw fe.alternate===null?Error(s(467)):Error(s(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ht===null?fe.memoizedState=ht=e:ht=ht.next=e}return ht}function Fl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bs(e){var n=ys;return ys+=1,li===null&&(li=[]),e=yp(li,e,n),n=fe,(ht===null?n.memoizedState:ht.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?um:Ec),e}function Jl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bs(e);if(e.$$typeof===L)return jt(e)}throw Error(s(438,String(e)))}function hc(e){var n=null,i=fe.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var l=fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Fl(),fe.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),l=0;l<e;l++)i[l]=de;return n.index++,i}function ur(e,n){return typeof n=="function"?n(e):n}function Kl(e){var n=ot();return pc(n,$e,e)}function pc(e,n,i){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var c=e.baseQueue,d=l.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}n.baseQueue=c=d,l.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{n=c.next;var w=g=null,T=null,D=n,B=!1;do{var q=D.lane&-536870913;if(q!==D.lane?(_e&q)===q:(or&q)===q){var I=D.revertLane;if(I===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),q===ti&&(B=!0);else if((or&I)===I){D=D.next,I===ti&&(B=!0);continue}else q={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},T===null?(w=T=q,g=d):T=T.next=q,fe.lanes|=I,Hr|=I;q=D.action,va&&i(d,q),d=D.hasEagerState?D.eagerState:i(d,q)}else I={lane:q,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},T===null?(w=T=I,g=d):T=T.next=I,fe.lanes|=q,Hr|=q;D=D.next}while(D!==null&&D!==n);if(T===null?g=d:T.next=w,!un(d,e.memoizedState)&&(pt=!0,B&&(i=ni,i!==null)))throw i;e.memoizedState=d,e.baseState=g,e.baseQueue=T,l.lastRenderedState=d}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function mc(e){var n=ot(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var l=i.dispatch,c=i.pending,d=n.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do d=e(d,g.action),g=g.next;while(g!==c);un(d,n.memoizedState)||(pt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,l]}function jp(e,n,i){var l=fe,c=ot(),d=Ee;if(d){if(i===void 0)throw Error(s(407));i=i()}else i=n();var g=!un(($e||c).memoizedState,i);if(g&&(c.memoizedState=i,pt=!0),c=c.queue,yc(kp.bind(null,l,c,e),[e]),c.getSnapshot!==n||g||ht!==null&&ht.memoizedState.tag&1){if(l.flags|=2048,oi(9,{destroy:void 0},Np.bind(null,l,c,i,n),null),qe===null)throw Error(s(349));d||(or&127)!==0||Rp(l,n,i)}return i}function Rp(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=fe.updateQueue,n===null?(n=Fl(),fe.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Np(e,n,i,l){n.value=i,n.getSnapshot=l,Up(n)&&Dp(e)}function kp(e,n,i){return i(function(){Up(n)&&Dp(e)})}function Up(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!un(e,i)}catch{return!0}}function Dp(e){var n=oa(e,2);n!==null&&tn(n,e,2)}function gc(e){var n=Jt();if(typeof e=="function"){var i=e;if(e=i(),va){Ar(!0);try{i()}finally{Ar(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:e},n}function Ip(e,n,i,l){return e.baseState=i,pc(e,$e,typeof l=="function"?l:ur)}function Fw(e,n,i,l,c){if(Ql(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};z.T!==null?i(!0):d.isTransition=!1,l(d),i=n.pending,i===null?(d.next=n.pending=d,Lp(n,d)):(d.next=i.next,n.pending=i.next=d)}}function Lp(e,n){var i=n.action,l=n.payload,c=e.state;if(n.isTransition){var d=z.T,g={};z.T=g;try{var w=i(c,l),T=z.S;T!==null&&T(g,w),Mp(e,n,w)}catch(D){vc(e,n,D)}finally{d!==null&&g.types!==null&&(d.types=g.types),z.T=d}}else try{d=i(c,l),Mp(e,n,d)}catch(D){vc(e,n,D)}}function Mp(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){$p(e,n,l)},function(l){return vc(e,n,l)}):$p(e,n,i)}function $p(e,n,i){n.status="fulfilled",n.value=i,zp(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Lp(e,i)))}function vc(e,n,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=i,zp(n),n=n.next;while(n!==l)}e.action=null}function zp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Bp(e,n){return n}function Hp(e,n){if(Ee){var i=qe.formState;if(i!==null){e:{var l=fe;if(Ee){if(Ge){t:{for(var c=Ge,d=Rn;c.nodeType!==8;){if(!d){c=null;break t}if(c=kn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Ge=kn(c.nextSibling),l=c.data==="F!";break e}}kr(l)}l=!1}l&&(n=i[0])}}return i=Jt(),i.memoizedState=i.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bp,lastRenderedState:n},i.queue=l,i=sm.bind(null,fe,l),l.dispatch=i,l=gc(!1),d=xc.bind(null,fe,!1,l.queue),l=Jt(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,i=Fw.bind(null,fe,c,d,i),c.dispatch=i,l.memoizedState=e,[n,i,!1]}function Pp(e){var n=ot();return qp(n,$e,e)}function qp(e,n,i){if(n=pc(e,n,Bp)[0],e=Kl(ur)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=bs(n)}catch(g){throw g===ri?$l:g}else l=n;n=ot();var c=n.queue,d=c.dispatch;return i!==n.memoizedState&&(fe.flags|=2048,oi(9,{destroy:void 0},Jw.bind(null,c,i),null)),[l,d,e]}function Jw(e,n){e.action=n}function Vp(e){var n=ot(),i=$e;if(i!==null)return qp(n,i,e);ot(),n=n.memoizedState,i=ot();var l=i.queue.dispatch;return i.memoizedState=e,[n,l,!1]}function oi(e,n,i,l){return e={tag:e,create:i,deps:l,inst:n,next:null},n=fe.updateQueue,n===null&&(n=Fl(),fe.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e),e}function Gp(){return ot().memoizedState}function Yl(e,n,i,l){var c=Jt();fe.flags|=e,c.memoizedState=oi(1|n,{destroy:void 0},i,l===void 0?null:l)}function Xl(e,n,i,l){var c=ot();l=l===void 0?null:l;var d=c.memoizedState.inst;$e!==null&&l!==null&&oc(l,$e.memoizedState.deps)?c.memoizedState=oi(n,d,i,l):(fe.flags|=e,c.memoizedState=oi(1|n,d,i,l))}function Fp(e,n){Yl(8390656,8,e,n)}function yc(e,n){Xl(2048,8,e,n)}function Kw(e){fe.flags|=4;var n=fe.updateQueue;if(n===null)n=Fl(),fe.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function Jp(e){var n=ot().memoizedState;return Kw({ref:n,nextImpl:e}),function(){if((Ne&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Kp(e,n){return Xl(4,2,e,n)}function Yp(e,n){return Xl(4,4,e,n)}function Xp(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Qp(e,n,i){i=i!=null?i.concat([e]):null,Xl(4,4,Xp.bind(null,n,e),i)}function bc(){}function Zp(e,n){var i=ot();n=n===void 0?null:n;var l=i.memoizedState;return n!==null&&oc(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function Wp(e,n){var i=ot();n=n===void 0?null:n;var l=i.memoizedState;if(n!==null&&oc(n,l[1]))return l[0];if(l=e(),va){Ar(!0);try{e()}finally{Ar(!1)}}return i.memoizedState=[l,n],l}function wc(e,n,i){return i===void 0||(or&1073741824)!==0&&(_e&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=eg(),fe.lanes|=e,Hr|=e,i)}function em(e,n,i,l){return un(i,n)?i:ii.current!==null?(e=wc(e,i,l),un(e,n)||(pt=!0),e):(or&42)===0||(or&1073741824)!==0&&(_e&261930)===0?(pt=!0,e.memoizedState=i):(e=eg(),fe.lanes|=e,Hr|=e,n)}function tm(e,n,i,l,c){var d=X.p;X.p=d!==0&&8>d?d:8;var g=z.T,w={};z.T=w,xc(e,!1,n,i);try{var T=c(),D=z.S;if(D!==null&&D(w,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var B=qw(T,l);ws(e,n,B,mn(e))}else ws(e,n,l,mn(e))}catch(q){ws(e,n,{then:function(){},status:"rejected",reason:q},mn())}finally{X.p=d,g!==null&&w.types!==null&&(g.types=w.types),z.T=g}}function Yw(){}function _c(e,n,i,l){if(e.tag!==5)throw Error(s(476));var c=nm(e).queue;tm(e,c,n,re,i===null?Yw:function(){return rm(e),i(l)})}function nm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:re},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function rm(e){var n=nm(e);n.next===null&&(n=e.alternate.memoizedState),ws(e,n.next.queue,{},mn())}function Sc(){return jt(Ms)}function am(){return ot().memoizedState}function im(){return ot().memoizedState}function Xw(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=mn();e=Ir(i);var l=Lr(n,e,i);l!==null&&(tn(l,n,i),ms(l,n,i)),n={cache:Qu()},e.payload=n;return}n=n.return}}function Qw(e,n,i){var l=mn();i={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ql(e)?lm(n,i):(i=Bu(e,n,i,l),i!==null&&(tn(i,e,l),om(i,n,l)))}function sm(e,n,i){var l=mn();ws(e,n,i,l)}function ws(e,n,i,l){var c={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ql(e))lm(n,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var g=n.lastRenderedState,w=d(g,i);if(c.hasEagerState=!0,c.eagerState=w,un(w,g))return Nl(e,n,c,0),qe===null&&Rl(),!1}catch{}if(i=Bu(e,n,c,l),i!==null)return tn(i,e,l),om(i,n,l),!0}return!1}function xc(e,n,i,l){if(l={lane:2,revertLane:tf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ql(e)){if(n)throw Error(s(479))}else n=Bu(e,i,l,2),n!==null&&tn(n,e,2)}function Ql(e){var n=e.alternate;return e===fe||n!==null&&n===fe}function lm(e,n){si=Vl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function om(e,n,i){if((i&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,hh(e,i)}}var _s={readContext:jt,use:Jl,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};_s.useEffectEvent=tt;var um={readContext:jt,use:Jl,useCallback:function(e,n){return Jt().memoizedState=[e,n===void 0?null:n],e},useContext:jt,useEffect:Fp,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Yl(4194308,4,Xp.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Yl(4194308,4,e,n)},useInsertionEffect:function(e,n){Yl(4,2,e,n)},useMemo:function(e,n){var i=Jt();n=n===void 0?null:n;var l=e();if(va){Ar(!0);try{e()}finally{Ar(!1)}}return i.memoizedState=[l,n],l},useReducer:function(e,n,i){var l=Jt();if(i!==void 0){var c=i(n);if(va){Ar(!0);try{i(n)}finally{Ar(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=Qw.bind(null,fe,e),[l.memoizedState,e]},useRef:function(e){var n=Jt();return e={current:e},n.memoizedState=e},useState:function(e){e=gc(e);var n=e.queue,i=sm.bind(null,fe,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:bc,useDeferredValue:function(e,n){var i=Jt();return wc(i,e,n)},useTransition:function(){var e=gc(!1);return e=tm.bind(null,fe,e.queue,!0,!1),Jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var l=fe,c=Jt();if(Ee){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),qe===null)throw Error(s(349));(_e&127)!==0||Rp(l,n,i)}c.memoizedState=i;var d={value:i,getSnapshot:n};return c.queue=d,Fp(kp.bind(null,l,d,e),[e]),l.flags|=2048,oi(9,{destroy:void 0},Np.bind(null,l,d,i,n),null),i},useId:function(){var e=Jt(),n=qe.identifierPrefix;if(Ee){var i=Fn,l=Gn;i=(l&~(1<<32-on(l)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Gl++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=Vw++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Sc,useFormState:Hp,useActionState:Hp,useOptimistic:function(e){var n=Jt();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=xc.bind(null,fe,!0,i),i.dispatch=n,[e,n]},useMemoCache:hc,useCacheRefresh:function(){return Jt().memoizedState=Xw.bind(null,fe)},useEffectEvent:function(e){var n=Jt(),i={impl:e};return n.memoizedState=i,function(){if((Ne&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Ec={readContext:jt,use:Jl,useCallback:Zp,useContext:jt,useEffect:yc,useImperativeHandle:Qp,useInsertionEffect:Kp,useLayoutEffect:Yp,useMemo:Wp,useReducer:Kl,useRef:Gp,useState:function(){return Kl(ur)},useDebugValue:bc,useDeferredValue:function(e,n){var i=ot();return em(i,$e.memoizedState,e,n)},useTransition:function(){var e=Kl(ur)[0],n=ot().memoizedState;return[typeof e=="boolean"?e:bs(e),n]},useSyncExternalStore:jp,useId:am,useHostTransitionStatus:Sc,useFormState:Pp,useActionState:Pp,useOptimistic:function(e,n){var i=ot();return Ip(i,$e,e,n)},useMemoCache:hc,useCacheRefresh:im};Ec.useEffectEvent=Jp;var cm={readContext:jt,use:Jl,useCallback:Zp,useContext:jt,useEffect:yc,useImperativeHandle:Qp,useInsertionEffect:Kp,useLayoutEffect:Yp,useMemo:Wp,useReducer:mc,useRef:Gp,useState:function(){return mc(ur)},useDebugValue:bc,useDeferredValue:function(e,n){var i=ot();return $e===null?wc(i,e,n):em(i,$e.memoizedState,e,n)},useTransition:function(){var e=mc(ur)[0],n=ot().memoizedState;return[typeof e=="boolean"?e:bs(e),n]},useSyncExternalStore:jp,useId:am,useHostTransitionStatus:Sc,useFormState:Vp,useActionState:Vp,useOptimistic:function(e,n){var i=ot();return $e!==null?Ip(i,$e,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:hc,useCacheRefresh:im};cm.useEffectEvent=Jp;function Tc(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:b({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Oc={enqueueSetState:function(e,n,i){e=e._reactInternals;var l=mn(),c=Ir(l);c.payload=n,i!=null&&(c.callback=i),n=Lr(e,c,l),n!==null&&(tn(n,e,l),ms(n,e,l))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=mn(),c=Ir(l);c.tag=1,c.payload=n,i!=null&&(c.callback=i),n=Lr(e,c,l),n!==null&&(tn(n,e,l),ms(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=mn(),l=Ir(i);l.tag=2,n!=null&&(l.callback=n),n=Lr(e,l,i),n!==null&&(tn(n,e,i),ms(n,e,i))}};function fm(e,n,i,l,c,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,g):n.prototype&&n.prototype.isPureReactComponent?!ls(i,l)||!ls(c,d):!0}function dm(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&Oc.enqueueReplaceState(n,n.state,null)}function ya(e,n){var i=n;if("ref"in n){i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}if(e=e.defaultProps){i===n&&(i=b({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}function hm(e){jl(e)}function pm(e){console.error(e)}function mm(e){jl(e)}function Zl(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function gm(e,n,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ac(e,n,i){return i=Ir(i),i.tag=3,i.payload={element:null},i.callback=function(){Zl(e,n)},i}function vm(e){return e=Ir(e),e.tag=3,e}function ym(e,n,i,l){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;e.payload=function(){return c(d)},e.callback=function(){gm(n,i,l)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){gm(n,i,l),typeof c!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Zw(e,n,i,l,c){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=i.alternate,n!==null&&ei(n,i,c,!0),i=fn.current,i!==null){switch(i.tag){case 31:case 13:return Nn===null?co():i.alternate===null&&nt===0&&(nt=3),i.flags&=-257,i.flags|=65536,i.lanes=c,l===zl?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([l]):n.add(l),Zc(e,l,c)),!1;case 22:return i.flags|=65536,l===zl?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([l]):i.add(l)),Zc(e,l,c)),!1}throw Error(s(435,i.tag))}return Zc(e,l,c),co(),!1}if(Ee)return n=fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Fu&&(e=Error(s(422),{cause:l}),cs(An(e,i)))):(l!==Fu&&(n=Error(s(423),{cause:l}),cs(An(n,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=An(l,i),c=Ac(e.stateNode,l,c),rc(e,c),nt!==4&&(nt=2)),!1;var d=Error(s(520),{cause:l});if(d=An(d,i),js===null?js=[d]:js.push(d),nt!==4&&(nt=2),n===null)return!0;l=An(l,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=Ac(i.stateNode,l,e),rc(i,e),!1;case 1:if(n=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return i.flags|=65536,c&=-c,i.lanes|=c,c=vm(c),ym(c,e,i,l),rc(i,c),!1}i=i.return}while(i!==null);return!1}var Cc=Error(s(461)),pt=!1;function Rt(e,n,i,l){n.child=e===null?Sp(n,null,i,l):ga(n,e.child,i,l)}function bm(e,n,i,l,c){i=i.render;var d=n.ref;if("ref"in l){var g={};for(var w in l)w!=="ref"&&(g[w]=l[w])}else g=l;return da(n),l=uc(e,n,i,g,d,c),w=cc(),e!==null&&!pt?(fc(e,n,c),cr(e,n,c)):(Ee&&w&&Vu(n),n.flags|=1,Rt(e,n,l,c),n.child)}function wm(e,n,i,l,c){if(e===null){var d=i.type;return typeof d=="function"&&!Hu(d)&&d.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=d,_m(e,n,d,l,c)):(e=Ul(i.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Lc(e,c)){var g=d.memoizedProps;if(i=i.compare,i=i!==null?i:ls,i(g,l)&&e.ref===n.ref)return cr(e,n,c)}return n.flags|=1,e=ar(d,l),e.ref=n.ref,e.return=n,n.child=e}function _m(e,n,i,l,c){if(e!==null){var d=e.memoizedProps;if(ls(d,l)&&e.ref===n.ref)if(pt=!1,n.pendingProps=l=d,Lc(e,c))(e.flags&131072)!==0&&(pt=!0);else return n.lanes=e.lanes,cr(e,n,c)}return jc(e,n,i,l,c)}function Sm(e,n,i,l){var c=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|i:i,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~d}else l=0,n.child=null;return xm(e,n,d,i,l)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ml(n,d!==null?d.cachePool:null),d!==null?Tp(n,d):ic(),Op(n);else return l=n.lanes=536870912,xm(e,n,d!==null?d.baseLanes|i:i,i,l)}else d!==null?(Ml(n,d.cachePool),Tp(n,d),$r(),n.memoizedState=null):(e!==null&&Ml(n,null),ic(),$r());return Rt(e,n,c,i),n.child}function Ss(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function xm(e,n,i,l,c){var d=Wu();return d=d===null?null:{parent:dt._currentValue,pool:d},n.memoizedState={baseLanes:i,cachePool:d},e!==null&&Ml(n,null),ic(),Op(n),e!==null&&ei(e,n,l,!0),n.childLanes=c,null}function Wl(e,n){return n=to({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Em(e,n,i){return ga(n,e.child,null,i),e=Wl(n,n.pendingProps),e.flags|=2,dn(n),n.memoizedState=null,e}function Ww(e,n,i){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ee){if(l.mode==="hidden")return e=Wl(n,l),n.lanes=536870912,Ss(null,e);if(lc(n),(e=Ge)?(e=Lg(e,Rn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rr!==null?{id:Gn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},i=lp(e),i.return=n,n.child=i,Ct=n,Ge=null)):e=null,e===null)throw kr(n);return n.lanes=536870912,null}return Wl(n,l)}var d=e.memoizedState;if(d!==null){var g=d.dehydrated;if(lc(n),c)if(n.flags&256)n.flags&=-257,n=Em(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(pt||ei(e,n,i,!1),c=(i&e.childLanes)!==0,pt||c){if(l=qe,l!==null&&(g=ph(l,i),g!==0&&g!==d.retryLane))throw d.retryLane=g,oa(e,g),tn(l,e,g),Cc;co(),n=Em(e,n,i)}else e=d.treeContext,Ge=kn(g.nextSibling),Ct=n,Ee=!0,Nr=null,Rn=!1,e!==null&&cp(n,e),n=Wl(n,l),n.flags|=4096;return n}return e=ar(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function eo(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function jc(e,n,i,l,c){return da(n),i=uc(e,n,i,l,void 0,c),l=cc(),e!==null&&!pt?(fc(e,n,c),cr(e,n,c)):(Ee&&l&&Vu(n),n.flags|=1,Rt(e,n,i,c),n.child)}function Tm(e,n,i,l,c,d){return da(n),n.updateQueue=null,i=Cp(n,l,i,c),Ap(e),l=cc(),e!==null&&!pt?(fc(e,n,d),cr(e,n,d)):(Ee&&l&&Vu(n),n.flags|=1,Rt(e,n,i,d),n.child)}function Om(e,n,i,l,c){if(da(n),n.stateNode===null){var d=Xa,g=i.contextType;typeof g=="object"&&g!==null&&(d=jt(g)),d=new i(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Oc,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},tc(n),g=i.contextType,d.context=typeof g=="object"&&g!==null?jt(g):Xa,d.state=n.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Tc(n,i,g,l),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Oc.enqueueReplaceState(d,d.state,null),vs(n,l,d,c),gs(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var w=n.memoizedProps,T=ya(i,w);d.props=T;var D=d.context,B=i.contextType;g=Xa,typeof B=="object"&&B!==null&&(g=jt(B));var q=i.getDerivedStateFromProps;B=typeof q=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,B||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||D!==g)&&dm(n,d,l,g),Dr=!1;var I=n.memoizedState;d.state=I,vs(n,l,d,c),gs(),D=n.memoizedState,w||I!==D||Dr?(typeof q=="function"&&(Tc(n,i,q,l),D=n.memoizedState),(T=Dr||fm(n,i,T,l,I,D,g))?(B||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=D),d.props=l,d.state=D,d.context=g,l=T):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,nc(e,n),g=n.memoizedProps,B=ya(i,g),d.props=B,q=n.pendingProps,I=d.context,D=i.contextType,T=Xa,typeof D=="object"&&D!==null&&(T=jt(D)),w=i.getDerivedStateFromProps,(D=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==q||I!==T)&&dm(n,d,l,T),Dr=!1,I=n.memoizedState,d.state=I,vs(n,l,d,c),gs();var M=n.memoizedState;g!==q||I!==M||Dr||e!==null&&e.dependencies!==null&&Il(e.dependencies)?(typeof w=="function"&&(Tc(n,i,w,l),M=n.memoizedState),(B=Dr||fm(n,i,B,l,I,M,T)||e!==null&&e.dependencies!==null&&Il(e.dependencies))?(D||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,M,T),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,M,T)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=M),d.props=l,d.state=M,d.context=T,l=B):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,eo(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=ga(n,e.child,null,c),n.child=ga(n,null,i,c)):Rt(e,n,i,c),n.memoizedState=d.state,e=n.child):e=cr(e,n,c),e}function Am(e,n,i,l){return ca(),n.flags|=256,Rt(e,n,i,l),n.child}var Rc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nc(e){return{baseLanes:e,cachePool:gp()}}function kc(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=pn),e}function Cm(e,n,i){var l=n.pendingProps,c=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(lt.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ee){if(c?Mr(n):$r(),(e=Ge)?(e=Lg(e,Rn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rr!==null?{id:Gn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},i=lp(e),i.return=n,n.child=i,Ct=n,Ge=null)):e=null,e===null)throw kr(n);return mf(e)?n.lanes=32:n.lanes=536870912,null}var w=l.children;return l=l.fallback,c?($r(),c=n.mode,w=to({mode:"hidden",children:w},c),l=ua(l,c,i,null),w.return=n,l.return=n,w.sibling=l,n.child=w,l=n.child,l.memoizedState=Nc(i),l.childLanes=kc(e,g,i),n.memoizedState=Rc,Ss(null,l)):(Mr(n),Uc(n,w))}var T=e.memoizedState;if(T!==null&&(w=T.dehydrated,w!==null)){if(d)n.flags&256?(Mr(n),n.flags&=-257,n=Dc(e,n,i)):n.memoizedState!==null?($r(),n.child=e.child,n.flags|=128,n=null):($r(),w=l.fallback,c=n.mode,l=to({mode:"visible",children:l.children},c),w=ua(w,c,i,null),w.flags|=2,l.return=n,w.return=n,l.sibling=w,n.child=l,ga(n,e.child,null,i),l=n.child,l.memoizedState=Nc(i),l.childLanes=kc(e,g,i),n.memoizedState=Rc,n=Ss(null,l));else if(Mr(n),mf(w)){if(g=w.nextSibling&&w.nextSibling.dataset,g)var D=g.dgst;g=D,l=Error(s(419)),l.stack="",l.digest=g,cs({value:l,source:null,stack:null}),n=Dc(e,n,i)}else if(pt||ei(e,n,i,!1),g=(i&e.childLanes)!==0,pt||g){if(g=qe,g!==null&&(l=ph(g,i),l!==0&&l!==T.retryLane))throw T.retryLane=l,oa(e,l),tn(g,e,l),Cc;pf(w)||co(),n=Dc(e,n,i)}else pf(w)?(n.flags|=192,n.child=e.child,n=null):(e=T.treeContext,Ge=kn(w.nextSibling),Ct=n,Ee=!0,Nr=null,Rn=!1,e!==null&&cp(n,e),n=Uc(n,l.children),n.flags|=4096);return n}return c?($r(),w=l.fallback,c=n.mode,T=e.child,D=T.sibling,l=ar(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,D!==null?w=ar(D,w):(w=ua(w,c,i,null),w.flags|=2),w.return=n,l.return=n,l.sibling=w,n.child=l,Ss(null,l),l=n.child,w=e.child.memoizedState,w===null?w=Nc(i):(c=w.cachePool,c!==null?(T=dt._currentValue,c=c.parent!==T?{parent:T,pool:T}:c):c=gp(),w={baseLanes:w.baseLanes|i,cachePool:c}),l.memoizedState=w,l.childLanes=kc(e,g,i),n.memoizedState=Rc,Ss(e.child,l)):(Mr(n),i=e.child,e=i.sibling,i=ar(i,{mode:"visible",children:l.children}),i.return=n,i.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=i,n.memoizedState=null,i)}function Uc(e,n){return n=to({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function to(e,n){return e=cn(22,e,null,n),e.lanes=0,e}function Dc(e,n,i){return ga(n,e.child,null,i),e=Uc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function jm(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Yu(e.return,n,i)}function Ic(e,n,i,l,c,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:c,treeForkCount:d}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=i,g.tailMode=c,g.treeForkCount=d)}function Rm(e,n,i){var l=n.pendingProps,c=l.revealOrder,d=l.tail;l=l.children;var g=lt.current,w=(g&2)!==0;if(w?(g=g&1|2,n.flags|=128):g&=1,Q(lt,g),Rt(e,n,l,i),l=Ee?us:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jm(e,i,n);else if(e.tag===19)jm(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&ql(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),Ic(n,!1,c,i,d,l);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&ql(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Ic(n,!0,i,null,d,l);break;case"together":Ic(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function cr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Hr|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(ei(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=ar(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=ar(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Lc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Il(e)))}function e_(e,n,i){switch(n.tag){case 3:Tt(n,n.stateNode.containerInfo),Ur(n,dt,e.memoizedState.cache),ca();break;case 27:case 5:Ia(n);break;case 4:Tt(n,n.stateNode.containerInfo);break;case 10:Ur(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lc(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Mr(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Cm(e,n,i):(Mr(n),e=cr(e,n,i),e!==null?e.sibling:null);Mr(n);break;case 19:var c=(e.flags&128)!==0;if(l=(i&n.childLanes)!==0,l||(ei(e,n,i,!1),l=(i&n.childLanes)!==0),c){if(l)return Rm(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Q(lt,lt.current),l)break;return null;case 22:return n.lanes=0,Sm(e,n,i,n.pendingProps);case 24:Ur(n,dt,e.memoizedState.cache)}return cr(e,n,i)}function Nm(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)pt=!0;else{if(!Lc(e,i)&&(n.flags&128)===0)return pt=!1,e_(e,n,i);pt=(e.flags&131072)!==0}else pt=!1,Ee&&(n.flags&1048576)!==0&&up(n,us,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=pa(n.elementType),n.type=e,typeof e=="function")Hu(e)?(l=ya(e,l),n.tag=1,n=Om(null,n,e,l,i)):(n.tag=0,n=jc(null,n,e,l,i));else{if(e!=null){var c=e.$$typeof;if(c===$){n.tag=11,n=bm(null,n,e,l,i);break e}else if(c===F){n.tag=14,n=wm(null,n,e,l,i);break e}}throw n=Pt(e)||e,Error(s(306,n,""))}}return n;case 0:return jc(e,n,n.type,n.pendingProps,i);case 1:return l=n.type,c=ya(l,n.pendingProps),Om(e,n,l,c,i);case 3:e:{if(Tt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;c=d.element,nc(e,n),vs(n,l,null,i);var g=n.memoizedState;if(l=g.cache,Ur(n,dt,l),l!==d.cache&&Xu(n,[dt],i,!0),gs(),l=g.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Am(e,n,l,i);break e}else if(l!==c){c=An(Error(s(424)),n),cs(c),n=Am(e,n,l,i);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ge=kn(e.firstChild),Ct=n,Ee=!0,Nr=null,Rn=!0,i=Sp(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ca(),l===c){n=cr(e,n,i);break e}Rt(e,n,l,i)}n=n.child}return n;case 26:return eo(e,n),e===null?(i=Pg(n.type,null,n.pendingProps,null))?n.memoizedState=i:Ee||(i=n.type,e=n.pendingProps,l=yo(he.current).createElement(i),l[At]=n,l[Yt]=e,Nt(l,i,e),St(l),n.stateNode=l):n.memoizedState=Pg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ia(n),e===null&&Ee&&(l=n.stateNode=zg(n.type,n.pendingProps,he.current),Ct=n,Rn=!0,c=Ge,Fr(n.type)?(gf=c,Ge=kn(l.firstChild)):Ge=c),Rt(e,n,n.pendingProps.children,i),eo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ee&&((c=l=Ge)&&(l=R_(l,n.type,n.pendingProps,Rn),l!==null?(n.stateNode=l,Ct=n,Ge=kn(l.firstChild),Rn=!1,c=!0):c=!1),c||kr(n)),Ia(n),c=n.type,d=n.pendingProps,g=e!==null?e.memoizedProps:null,l=d.children,ff(c,d)?l=null:g!==null&&ff(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=uc(e,n,Gw,null,null,i),Ms._currentValue=c),eo(e,n),Rt(e,n,l,i),n.child;case 6:return e===null&&Ee&&((e=i=Ge)&&(i=N_(i,n.pendingProps,Rn),i!==null?(n.stateNode=i,Ct=n,Ge=null,e=!0):e=!1),e||kr(n)),null;case 13:return Cm(e,n,i);case 4:return Tt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ga(n,null,l,i):Rt(e,n,l,i),n.child;case 11:return bm(e,n,n.type,n.pendingProps,i);case 7:return Rt(e,n,n.pendingProps,i),n.child;case 8:return Rt(e,n,n.pendingProps.children,i),n.child;case 12:return Rt(e,n,n.pendingProps.children,i),n.child;case 10:return l=n.pendingProps,Ur(n,n.type,l.value),Rt(e,n,l.children,i),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,da(n),c=jt(c),l=l(c),n.flags|=1,Rt(e,n,l,i),n.child;case 14:return wm(e,n,n.type,n.pendingProps,i);case 15:return _m(e,n,n.type,n.pendingProps,i);case 19:return Rm(e,n,i);case 31:return Ww(e,n,i);case 22:return Sm(e,n,i,n.pendingProps);case 24:return da(n),l=jt(dt),e===null?(c=Wu(),c===null&&(c=qe,d=Qu(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=i),c=d),n.memoizedState={parent:l,cache:c},tc(n),Ur(n,dt,c)):((e.lanes&i)!==0&&(nc(e,n),vs(n,null,null,i),gs()),c=e.memoizedState,d=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ur(n,dt,l)):(l=d.cache,Ur(n,dt,l),l!==c.cache&&Xu(n,[dt],i,!0))),Rt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function fr(e){e.flags|=4}function Mc(e,n,i,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(ag())e.flags|=8192;else throw ma=zl,ec}else e.flags&=-16777217}function km(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jg(n))if(ag())e.flags|=8192;else throw ma=zl,ec}function no(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?fh():536870912,e.lanes|=n,di|=n)}function xs(e,n){if(!Ee)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function t_(e,n,i){var l=n.pendingProps;switch(Gu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(n),null;case 1:return Fe(n),null;case 3:return i=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),lr(dt),Ke(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Wa(n)?fr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ju())),Fe(n),null;case 26:var c=n.type,d=n.memoizedState;return e===null?(fr(n),d!==null?(Fe(n),km(n,d)):(Fe(n),Mc(n,c,null,l,i))):d?d!==e.memoizedState?(fr(n),Fe(n),km(n,d)):(Fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&fr(n),Fe(n),Mc(n,c,e,l,i)),null;case 27:if(Ot(n),i=he.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&fr(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Fe(n),null}e=Z.current,Wa(n)?fp(n):(e=zg(c,l,i),n.stateNode=e,fr(n))}return Fe(n),null;case 5:if(Ot(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&fr(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Fe(n),null}if(d=Z.current,Wa(n))fp(n);else{var g=yo(he.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}d[At]=n,d[Yt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=d;e:switch(Nt(d,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&fr(n)}}return Fe(n),Mc(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&fr(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=he.current,Wa(n)){if(e=n.stateNode,i=n.memoizedProps,l=null,c=Ct,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[At]=n,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Cg(e.nodeValue,i)),e||kr(n,!0)}else e=yo(e).createTextNode(l),e[At]=n,n.stateNode=e}return Fe(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(l=Wa(n),i!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[At]=n}else ca(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),e=!1}else i=Ju(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(dn(n),n):(dn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Fe(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Wa(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[At]=n}else ca(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),c=!1}else c=Ju(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(dn(n),n):(dn(n),null)}return dn(n),(n.flags&128)!==0?(n.lanes=i,n):(i=l!==null,e=e!==null&&e.memoizedState!==null,i&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),no(n,n.updateQueue),Fe(n),null);case 4:return Ke(),e===null&&sf(n.stateNode.containerInfo),Fe(n),null;case 10:return lr(n.type),Fe(n),null;case 19:if(V(lt),l=n.memoizedState,l===null)return Fe(n),null;if(c=(n.flags&128)!==0,d=l.rendering,d===null)if(c)xs(l,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=ql(e),d!==null){for(n.flags|=128,xs(l,!1),e=d.updateQueue,n.updateQueue=e,no(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)sp(i,e),i=i.sibling;return Q(lt,lt.current&1|2),Ee&&ir(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Me()>lo&&(n.flags|=128,c=!0,xs(l,!1),n.lanes=4194304)}else{if(!c)if(e=ql(d),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,no(n,e),xs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ee)return Fe(n),null}else 2*Me()-l.renderingStartTime>lo&&i!==536870912&&(n.flags|=128,c=!0,xs(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Me(),e.sibling=null,i=lt.current,Q(lt,c?i&1|2:i&1),Ee&&ir(n,l.treeForkCount),e):(Fe(n),null);case 22:case 23:return dn(n),sc(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(i&536870912)!==0&&(n.flags&128)===0&&(Fe(n),n.subtreeFlags&6&&(n.flags|=8192)):Fe(n),i=n.updateQueue,i!==null&&no(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048),e!==null&&V(ha),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),lr(dt),Fe(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function n_(e,n){switch(Gu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return lr(dt),Ke(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ot(n),null;case 31:if(n.memoizedState!==null){if(dn(n),n.alternate===null)throw Error(s(340));ca()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(dn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ca()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return V(lt),null;case 4:return Ke(),null;case 10:return lr(n.type),null;case 22:case 23:return dn(n),sc(),e!==null&&V(ha),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return lr(dt),null;case 25:return null;default:return null}}function Um(e,n){switch(Gu(n),n.tag){case 3:lr(dt),Ke();break;case 26:case 27:case 5:Ot(n);break;case 4:Ke();break;case 31:n.memoizedState!==null&&dn(n);break;case 13:dn(n);break;case 19:V(lt);break;case 10:lr(n.type);break;case 22:case 23:dn(n),sc(),e!==null&&V(ha);break;case 24:lr(dt)}}function Es(e,n){try{var i=n.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var c=l.next;i=c;do{if((i.tag&e)===e){l=void 0;var d=i.create,g=i.inst;l=d(),g.destroy=l}i=i.next}while(i!==c)}}catch(w){Le(n,n.return,w)}}function zr(e,n,i){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&e)===e){var g=l.inst,w=g.destroy;if(w!==void 0){g.destroy=void 0,c=n;var T=i,D=w;try{D()}catch(B){Le(c,T,B)}}}l=l.next}while(l!==d)}}catch(B){Le(n,n.return,B)}}function Dm(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Ep(n,i)}catch(l){Le(e,e.return,l)}}}function Im(e,n,i){i.props=ya(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){Le(e,n,l)}}function Ts(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(c){Le(e,n,c)}}function Jn(e,n){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(c){Le(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Le(e,n,c)}else i.current=null}function Lm(e){var n=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(c){Le(e,e.return,c)}}function $c(e,n,i){try{var l=e.stateNode;E_(l,e.type,i,n),l[Yt]=n}catch(c){Le(e,e.return,c)}}function Mm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fr(e.type)||e.tag===4}function zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bc(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=nr));else if(l!==4&&(l===27&&Fr(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Bc(e,n,i),e=e.sibling;e!==null;)Bc(e,n,i),e=e.sibling}function ro(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(l===27&&Fr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ro(e,n,i),e=e.sibling;e!==null;)ro(e,n,i),e=e.sibling}function $m(e){var n=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Nt(n,l,i),n[At]=e,n[Yt]=i}catch(d){Le(e,e.return,d)}}var dr=!1,mt=!1,Hc=!1,zm=typeof WeakSet=="function"?WeakSet:Set,xt=null;function r_(e,n){if(e=e.containerInfo,uf=To,e=Qh(e),Du(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var g=0,w=-1,T=-1,D=0,B=0,q=e,I=null;t:for(;;){for(var M;q!==i||c!==0&&q.nodeType!==3||(w=g+c),q!==d||l!==0&&q.nodeType!==3||(T=g+l),q.nodeType===3&&(g+=q.nodeValue.length),(M=q.firstChild)!==null;)I=q,q=M;for(;;){if(q===e)break t;if(I===i&&++D===c&&(w=g),I===d&&++B===l&&(T=g),(M=q.nextSibling)!==null)break;q=I,I=q.parentNode}q=M}i=w===-1||T===-1?null:{start:w,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(cf={focusedElem:e,selectionRange:i},To=!1,xt=n;xt!==null;)if(n=xt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xt=e;else for(;xt!==null;){switch(n=xt,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)c=e[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,i=n,c=d.memoizedProps,d=d.memoizedState,l=i.stateNode;try{var W=ya(i.type,c);e=l.getSnapshotBeforeUpdate(W,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(ae){Le(i,i.return,ae)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)hf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,xt=e;break}xt=n.return}}function Bm(e,n,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:pr(e,i),l&4&&Es(5,i);break;case 1:if(pr(e,i),l&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(g){Le(i,i.return,g)}else{var c=ya(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Le(i,i.return,g)}}l&64&&Dm(i),l&512&&Ts(i,i.return);break;case 3:if(pr(e,i),l&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Ep(e,n)}catch(g){Le(i,i.return,g)}}break;case 27:n===null&&l&4&&$m(i);case 26:case 5:pr(e,i),n===null&&l&4&&Lm(i),l&512&&Ts(i,i.return);break;case 12:pr(e,i);break;case 31:pr(e,i),l&4&&qm(e,i);break;case 13:pr(e,i),l&4&&Vm(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=d_.bind(null,i),k_(e,i))));break;case 22:if(l=i.memoizedState!==null||dr,!l){n=n!==null&&n.memoizedState!==null||mt,c=dr;var d=mt;dr=l,(mt=n)&&!d?mr(e,i,(i.subtreeFlags&8772)!==0):pr(e,i),dr=c,mt=d}break;case 30:break;default:pr(e,i)}}function Hm(e){var n=e.alternate;n!==null&&(e.alternate=null,Hm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&vu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,Qt=!1;function hr(e,n,i){for(i=i.child;i!==null;)Pm(e,n,i),i=i.sibling}function Pm(e,n,i){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Yi,i)}catch{}switch(i.tag){case 26:mt||Jn(i,n),hr(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:mt||Jn(i,n);var l=Xe,c=Qt;Fr(i.type)&&(Xe=i.stateNode,Qt=!1),hr(e,n,i),Ds(i.stateNode),Xe=l,Qt=c;break;case 5:mt||Jn(i,n);case 6:if(l=Xe,c=Qt,Xe=null,hr(e,n,i),Xe=l,Qt=c,Xe!==null)if(Qt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(i.stateNode)}catch(d){Le(i,n,d)}else try{Xe.removeChild(i.stateNode)}catch(d){Le(i,n,d)}break;case 18:Xe!==null&&(Qt?(e=Xe,Dg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),wi(e)):Dg(Xe,i.stateNode));break;case 4:l=Xe,c=Qt,Xe=i.stateNode.containerInfo,Qt=!0,hr(e,n,i),Xe=l,Qt=c;break;case 0:case 11:case 14:case 15:zr(2,i,n),mt||zr(4,i,n),hr(e,n,i);break;case 1:mt||(Jn(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Im(i,n,l)),hr(e,n,i);break;case 21:hr(e,n,i);break;case 22:mt=(l=mt)||i.memoizedState!==null,hr(e,n,i),mt=l;break;default:hr(e,n,i)}}function qm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wi(e)}catch(i){Le(n,n.return,i)}}}function Vm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wi(e)}catch(i){Le(n,n.return,i)}}function a_(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new zm),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new zm),n;default:throw Error(s(435,e.tag))}}function ao(e,n){var i=a_(e);n.forEach(function(l){if(!i.has(l)){i.add(l);var c=h_.bind(null,e,l);l.then(c,c)}})}function Zt(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var c=i[l],d=e,g=n,w=g;e:for(;w!==null;){switch(w.tag){case 27:if(Fr(w.type)){Xe=w.stateNode,Qt=!1;break e}break;case 5:Xe=w.stateNode,Qt=!1;break e;case 3:case 4:Xe=w.stateNode.containerInfo,Qt=!0;break e}w=w.return}if(Xe===null)throw Error(s(160));Pm(d,g,c),Xe=null,Qt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Gm(n,e),n=n.sibling}var $n=null;function Gm(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Zt(n,e),Wt(e),l&4&&(zr(3,e,e.return),Es(3,e),zr(5,e,e.return));break;case 1:Zt(n,e),Wt(e),l&512&&(mt||i===null||Jn(i,i.return)),l&64&&dr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var c=$n;if(Zt(n,e),Wt(e),l&512&&(mt||i===null||Jn(i,i.return)),l&4){var d=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Zi]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),Nt(d,l,i),d[At]=e,St(d),l=d;break e;case"link":var g=Gg("link","href",c).get(l+(i.href||""));if(g){for(var w=0;w<g.length;w++)if(d=g[w],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(w,1);break t}}d=c.createElement(l),Nt(d,l,i),c.head.appendChild(d);break;case"meta":if(g=Gg("meta","content",c).get(l+(i.content||""))){for(w=0;w<g.length;w++)if(d=g[w],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(w,1);break t}}d=c.createElement(l),Nt(d,l,i),c.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=e,St(d),l=d}e.stateNode=l}else Fg(c,e.type,e.stateNode);else e.stateNode=Vg(c,l,e.memoizedProps);else d!==l?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,l===null?Fg(c,e.type,e.stateNode):Vg(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&$c(e,e.memoizedProps,i.memoizedProps)}break;case 27:Zt(n,e),Wt(e),l&512&&(mt||i===null||Jn(i,i.return)),i!==null&&l&4&&$c(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Zt(n,e),Wt(e),l&512&&(mt||i===null||Jn(i,i.return)),e.flags&32){c=e.stateNode;try{qa(c,"")}catch(W){Le(e,e.return,W)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,$c(e,c,i!==null?i.memoizedProps:c)),l&1024&&(Hc=!0);break;case 6:if(Zt(n,e),Wt(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(W){Le(e,e.return,W)}}break;case 3:if(_o=null,c=$n,$n=bo(n.containerInfo),Zt(n,e),$n=c,Wt(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{wi(n.containerInfo)}catch(W){Le(e,e.return,W)}Hc&&(Hc=!1,Fm(e));break;case 4:l=$n,$n=bo(e.stateNode.containerInfo),Zt(n,e),Wt(e),$n=l;break;case 12:Zt(n,e),Wt(e);break;case 31:Zt(n,e),Wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ao(e,l)));break;case 13:Zt(n,e),Wt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(so=Me()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ao(e,l)));break;case 22:c=e.memoizedState!==null;var T=i!==null&&i.memoizedState!==null,D=dr,B=mt;if(dr=D||c,mt=B||T,Zt(n,e),mt=B,dr=D,Wt(e),l&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(i===null||T||dr||mt||ba(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){T=i=n;try{if(d=T.stateNode,c)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{w=T.stateNode;var q=T.memoizedProps.style,I=q!=null&&q.hasOwnProperty("display")?q.display:null;w.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(W){Le(T,T.return,W)}}}else if(n.tag===6){if(i===null){T=n;try{T.stateNode.nodeValue=c?"":T.memoizedProps}catch(W){Le(T,T.return,W)}}}else if(n.tag===18){if(i===null){T=n;try{var M=T.stateNode;c?Ig(M,!0):Ig(T.stateNode,!1)}catch(W){Le(T,T.return,W)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,ao(e,i))));break;case 19:Zt(n,e),Wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ao(e,l)));break;case 30:break;case 21:break;default:Zt(n,e),Wt(e)}}function Wt(e){var n=e.flags;if(n&2){try{for(var i,l=e.return;l!==null;){if(Mm(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var c=i.stateNode,d=zc(e);ro(e,d,c);break;case 5:var g=i.stateNode;i.flags&32&&(qa(g,""),i.flags&=-33);var w=zc(e);ro(e,w,g);break;case 3:case 4:var T=i.stateNode.containerInfo,D=zc(e);Bc(e,D,T);break;default:throw Error(s(161))}}catch(B){Le(e,e.return,B)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Fm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Fm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function pr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Bm(e,n.alternate,n),n=n.sibling}function ba(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:zr(4,n,n.return),ba(n);break;case 1:Jn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Im(n,n.return,i),ba(n);break;case 27:Ds(n.stateNode);case 26:case 5:Jn(n,n.return),ba(n);break;case 22:n.memoizedState===null&&ba(n);break;case 30:ba(n);break;default:ba(n)}e=e.sibling}}function mr(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,d=n,g=d.flags;switch(d.tag){case 0:case 11:case 15:mr(c,d,i),Es(4,d);break;case 1:if(mr(c,d,i),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(D){Le(l,l.return,D)}if(l=d,c=l.updateQueue,c!==null){var w=l.stateNode;try{var T=c.shared.hiddenCallbacks;if(T!==null)for(c.shared.hiddenCallbacks=null,c=0;c<T.length;c++)xp(T[c],w)}catch(D){Le(l,l.return,D)}}i&&g&64&&Dm(d),Ts(d,d.return);break;case 27:$m(d);case 26:case 5:mr(c,d,i),i&&l===null&&g&4&&Lm(d),Ts(d,d.return);break;case 12:mr(c,d,i);break;case 31:mr(c,d,i),i&&g&4&&qm(c,d);break;case 13:mr(c,d,i),i&&g&4&&Vm(c,d);break;case 22:d.memoizedState===null&&mr(c,d,i),Ts(d,d.return);break;case 30:break;default:mr(c,d,i)}n=n.sibling}}function Pc(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&fs(i))}function qc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&fs(e))}function zn(e,n,i,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Jm(e,n,i,l),n=n.sibling}function Jm(e,n,i,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:zn(e,n,i,l),c&2048&&Es(9,n);break;case 1:zn(e,n,i,l);break;case 3:zn(e,n,i,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&fs(e)));break;case 12:if(c&2048){zn(e,n,i,l),e=n.stateNode;try{var d=n.memoizedProps,g=d.id,w=d.onPostCommit;typeof w=="function"&&w(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Le(n,n.return,T)}}else zn(e,n,i,l);break;case 31:zn(e,n,i,l);break;case 13:zn(e,n,i,l);break;case 23:break;case 22:d=n.stateNode,g=n.alternate,n.memoizedState!==null?d._visibility&2?zn(e,n,i,l):Os(e,n):d._visibility&2?zn(e,n,i,l):(d._visibility|=2,ui(e,n,i,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Pc(g,n);break;case 24:zn(e,n,i,l),c&2048&&qc(n.alternate,n);break;default:zn(e,n,i,l)}}function ui(e,n,i,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,g=n,w=i,T=l,D=g.flags;switch(g.tag){case 0:case 11:case 15:ui(d,g,w,T,c),Es(8,g);break;case 23:break;case 22:var B=g.stateNode;g.memoizedState!==null?B._visibility&2?ui(d,g,w,T,c):Os(d,g):(B._visibility|=2,ui(d,g,w,T,c)),c&&D&2048&&Pc(g.alternate,g);break;case 24:ui(d,g,w,T,c),c&&D&2048&&qc(g.alternate,g);break;default:ui(d,g,w,T,c)}n=n.sibling}}function Os(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,l=n,c=l.flags;switch(l.tag){case 22:Os(i,l),c&2048&&Pc(l.alternate,l);break;case 24:Os(i,l),c&2048&&qc(l.alternate,l);break;default:Os(i,l)}n=n.sibling}}var As=8192;function ci(e,n,i){if(e.subtreeFlags&As)for(e=e.child;e!==null;)Km(e,n,i),e=e.sibling}function Km(e,n,i){switch(e.tag){case 26:ci(e,n,i),e.flags&As&&e.memoizedState!==null&&V_(i,$n,e.memoizedState,e.memoizedProps);break;case 5:ci(e,n,i);break;case 3:case 4:var l=$n;$n=bo(e.stateNode.containerInfo),ci(e,n,i),$n=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=As,As=16777216,ci(e,n,i),As=l):ci(e,n,i));break;default:ci(e,n,i)}}function Ym(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Cs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];xt=l,Qm(l,e)}Ym(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xm(e),e=e.sibling}function Xm(e){switch(e.tag){case 0:case 11:case 15:Cs(e),e.flags&2048&&zr(9,e,e.return);break;case 3:Cs(e);break;case 12:Cs(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,io(e)):Cs(e);break;default:Cs(e)}}function io(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];xt=l,Qm(l,e)}Ym(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:zr(8,n,n.return),io(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,io(n));break;default:io(n)}e=e.sibling}}function Qm(e,n){for(;xt!==null;){var i=xt;switch(i.tag){case 0:case 11:case 15:zr(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fs(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,xt=l;else e:for(i=e;xt!==null;){l=xt;var c=l.sibling,d=l.return;if(Hm(l),l===i){xt=null;break e}if(c!==null){c.return=d,xt=c;break e}xt=d}}}var i_={getCacheForType:function(e){var n=jt(dt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return jt(dt).controller.signal}},s_=typeof WeakMap=="function"?WeakMap:Map,Ne=0,qe=null,ve=null,_e=0,Ie=0,hn=null,Br=!1,fi=!1,Vc=!1,gr=0,nt=0,Hr=0,wa=0,Gc=0,pn=0,di=0,js=null,en=null,Fc=!1,so=0,Zm=0,lo=1/0,oo=null,Pr=null,vt=0,qr=null,hi=null,vr=0,Jc=0,Kc=null,Wm=null,Rs=0,Yc=null;function mn(){return(Ne&2)!==0&&_e!==0?_e&-_e:z.T!==null?tf():mh()}function eg(){if(pn===0)if((_e&536870912)===0||Ee){var e=gl;gl<<=1,(gl&3932160)===0&&(gl=262144),pn=e}else pn=536870912;return e=fn.current,e!==null&&(e.flags|=32),pn}function tn(e,n,i){(e===qe&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(pi(e,0),Vr(e,_e,pn,!1)),Qi(e,i),((Ne&2)===0||e!==qe)&&(e===qe&&((Ne&2)===0&&(wa|=i),nt===4&&Vr(e,_e,pn,!1)),Kn(e))}function tg(e,n,i){if((Ne&6)!==0)throw Error(s(327));var l=!i&&(n&127)===0&&(n&e.expiredLanes)===0||Xi(e,n),c=l?u_(e,n):Qc(e,n,!0),d=l;do{if(c===0){fi&&!l&&Vr(e,n,0,!1);break}else{if(i=e.current.alternate,d&&!l_(i)){c=Qc(e,n,!1),d=!1;continue}if(c===2){if(d=n,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var w=e;c=js;var T=w.current.memoizedState.isDehydrated;if(T&&(pi(w,g).flags|=256),g=Qc(w,g,!1),g!==2){if(Vc&&!T){w.errorRecoveryDisabledLanes|=d,wa|=d,c=4;break e}d=en,en=c,d!==null&&(en===null?en=d:en.push.apply(en,d))}c=g}if(d=!1,c!==2)continue}}if(c===1){pi(e,0),Vr(e,n,0,!0);break}e:{switch(l=e,d=c,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Vr(l,n,pn,!Br);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=so+300-Me(),10<c)){if(Vr(l,n,pn,!Br),yl(l,0,!0)!==0)break e;vr=n,l.timeoutHandle=kg(ng.bind(null,l,i,en,oo,Fc,n,pn,wa,di,Br,d,"Throttled",-0,0),c);break e}ng(l,i,en,oo,Fc,n,pn,wa,di,Br,d,null,-0,0)}}break}while(!0);Kn(e)}function ng(e,n,i,l,c,d,g,w,T,D,B,q,I,M){if(e.timeoutHandle=-1,q=n.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nr},Km(n,d,q);var W=(d&62914560)===d?so-Me():(d&4194048)===d?Zm-Me():0;if(W=G_(q,W),W!==null){vr=d,e.cancelPendingCommit=W(cg.bind(null,e,n,d,i,l,c,g,w,T,B,q,null,I,M)),Vr(e,d,g,!D);return}}cg(e,n,d,i,l,c,g,w,T)}function l_(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var c=i[l],d=c.getSnapshot;c=c.value;try{if(!un(d(),c))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vr(e,n,i,l){n&=~Gc,n&=~wa,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var d=31-on(c),g=1<<d;l[d]=-1,c&=~g}i!==0&&dh(e,i,n)}function uo(){return(Ne&6)===0?(Ns(0),!1):!0}function Xc(){if(ve!==null){if(Ie===0)var e=ve.return;else e=ve,sr=fa=null,dc(e),ai=null,hs=0,e=ve;for(;e!==null;)Um(e.alternate,e),e=e.return;ve=null}}function pi(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,A_(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),vr=0,Xc(),qe=e,ve=i=ar(e.current,null),_e=n,Ie=0,hn=null,Br=!1,fi=Xi(e,n),Vc=!1,di=pn=Gc=wa=Hr=nt=0,en=js=null,Fc=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-on(l),d=1<<c;n|=e[c],l&=~d}return gr=n,Rl(),i}function rg(e,n){fe=null,z.H=_s,n===ri||n===$l?(n=bp(),Ie=3):n===ec?(n=bp(),Ie=4):Ie=n===Cc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,ve===null&&(nt=1,Zl(e,An(n,e.current)))}function ag(){var e=fn.current;return e===null?!0:(_e&4194048)===_e?Nn===null:(_e&62914560)===_e||(_e&536870912)!==0?e===Nn:!1}function ig(){var e=z.H;return z.H=_s,e===null?_s:e}function sg(){var e=z.A;return z.A=i_,e}function co(){nt=4,Br||(_e&4194048)!==_e&&fn.current!==null||(fi=!0),(Hr&134217727)===0&&(wa&134217727)===0||qe===null||Vr(qe,_e,pn,!1)}function Qc(e,n,i){var l=Ne;Ne|=2;var c=ig(),d=sg();(qe!==e||_e!==n)&&(oo=null,pi(e,n)),n=!1;var g=nt;e:do try{if(Ie!==0&&ve!==null){var w=ve,T=hn;switch(Ie){case 8:Xc(),g=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(n=!0);var D=Ie;if(Ie=0,hn=null,mi(e,w,T,D),i&&fi){g=0;break e}break;default:D=Ie,Ie=0,hn=null,mi(e,w,T,D)}}o_(),g=nt;break}catch(B){rg(e,B)}while(!0);return n&&e.shellSuspendCounter++,sr=fa=null,Ne=l,z.H=c,z.A=d,ve===null&&(qe=null,_e=0,Rl()),g}function o_(){for(;ve!==null;)lg(ve)}function u_(e,n){var i=Ne;Ne|=2;var l=ig(),c=sg();qe!==e||_e!==n?(oo=null,lo=Me()+500,pi(e,n)):fi=Xi(e,n);e:do try{if(Ie!==0&&ve!==null){n=ve;var d=hn;t:switch(Ie){case 1:Ie=0,hn=null,mi(e,n,d,1);break;case 2:case 9:if(vp(d)){Ie=0,hn=null,og(n);break}n=function(){Ie!==2&&Ie!==9||qe!==e||(Ie=7),Kn(e)},d.then(n,n);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:vp(d)?(Ie=0,hn=null,og(n)):(Ie=0,hn=null,mi(e,n,d,7));break;case 5:var g=null;switch(ve.tag){case 26:g=ve.memoizedState;case 5:case 27:var w=ve;if(g?Jg(g):w.stateNode.complete){Ie=0,hn=null;var T=w.sibling;if(T!==null)ve=T;else{var D=w.return;D!==null?(ve=D,fo(D)):ve=null}break t}}Ie=0,hn=null,mi(e,n,d,5);break;case 6:Ie=0,hn=null,mi(e,n,d,6);break;case 8:Xc(),nt=6;break e;default:throw Error(s(462))}}c_();break}catch(B){rg(e,B)}while(!0);return sr=fa=null,z.H=l,z.A=c,Ne=i,ve!==null?0:(qe=null,_e=0,Rl(),nt)}function c_(){for(;ve!==null&&!Ji();)lg(ve)}function lg(e){var n=Nm(e.alternate,e,gr);e.memoizedProps=e.pendingProps,n===null?fo(e):ve=n}function og(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Tm(i,n,n.pendingProps,n.type,void 0,_e);break;case 11:n=Tm(i,n,n.pendingProps,n.type.render,n.ref,_e);break;case 5:dc(n);default:Um(i,n),n=ve=sp(n,gr),n=Nm(i,n,gr)}e.memoizedProps=e.pendingProps,n===null?fo(e):ve=n}function mi(e,n,i,l){sr=fa=null,dc(n),ai=null,hs=0;var c=n.return;try{if(Zw(e,c,n,i,_e)){nt=1,Zl(e,An(i,e.current)),ve=null;return}}catch(d){if(c!==null)throw ve=c,d;nt=1,Zl(e,An(i,e.current)),ve=null;return}n.flags&32768?(Ee||l===1?e=!0:fi||(_e&536870912)!==0?e=!1:(Br=e=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ug(n,e)):fo(n)}function fo(e){var n=e;do{if((n.flags&32768)!==0){ug(n,Br);return}e=n.return;var i=t_(n.alternate,n,gr);if(i!==null){ve=i;return}if(n=n.sibling,n!==null){ve=n;return}ve=n=e}while(n!==null);nt===0&&(nt=5)}function ug(e,n){do{var i=n_(e.alternate,e);if(i!==null){i.flags&=32767,ve=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){ve=e;return}ve=e=i}while(e!==null);nt=6,ve=null}function cg(e,n,i,l,c,d,g,w,T){e.cancelPendingCommit=null;do ho();while(vt!==0);if((Ne&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=zu,qb(e,i,d,g,w,T),e===qe&&(ve=qe=null,_e=0),hi=n,qr=e,vr=i,Jc=d,Kc=c,Wm=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,p_(Or,function(){return mg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,c=X.p,X.p=2,g=Ne,Ne|=4;try{r_(e,n,i)}finally{Ne=g,X.p=c,z.T=l}}vt=1,fg(),dg(),hg()}}function fg(){if(vt===1){vt=0;var e=qr,n=hi,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=z.T,z.T=null;var l=X.p;X.p=2;var c=Ne;Ne|=4;try{Gm(n,e);var d=cf,g=Qh(e.containerInfo),w=d.focusedElem,T=d.selectionRange;if(g!==w&&w&&w.ownerDocument&&Xh(w.ownerDocument.documentElement,w)){if(T!==null&&Du(w)){var D=T.start,B=T.end;if(B===void 0&&(B=D),"selectionStart"in w)w.selectionStart=D,w.selectionEnd=Math.min(B,w.value.length);else{var q=w.ownerDocument||document,I=q&&q.defaultView||window;if(I.getSelection){var M=I.getSelection(),W=w.textContent.length,ae=Math.min(T.start,W),Be=T.end===void 0?ae:Math.min(T.end,W);!M.extend&&ae>Be&&(g=Be,Be=ae,ae=g);var k=Yh(w,ae),A=Yh(w,Be);if(k&&A&&(M.rangeCount!==1||M.anchorNode!==k.node||M.anchorOffset!==k.offset||M.focusNode!==A.node||M.focusOffset!==A.offset)){var U=q.createRange();U.setStart(k.node,k.offset),M.removeAllRanges(),ae>Be?(M.addRange(U),M.extend(A.node,A.offset)):(U.setEnd(A.node,A.offset),M.addRange(U))}}}}for(q=[],M=w;M=M.parentNode;)M.nodeType===1&&q.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<q.length;w++){var H=q[w];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}To=!!uf,cf=uf=null}finally{Ne=c,X.p=l,z.T=i}}e.current=n,vt=2}}function dg(){if(vt===2){vt=0;var e=qr,n=hi,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=z.T,z.T=null;var l=X.p;X.p=2;var c=Ne;Ne|=4;try{Bm(e,n.alternate,n)}finally{Ne=c,X.p=l,z.T=i}}vt=3}}function hg(){if(vt===4||vt===3){vt=0,du();var e=qr,n=hi,i=vr,l=Wm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?vt=5:(vt=0,hi=qr=null,pg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Pr=null),mu(i),n=n.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Yi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=z.T,c=X.p,X.p=2,z.T=null;try{for(var d=e.onRecoverableError,g=0;g<l.length;g++){var w=l[g];d(w.value,{componentStack:w.stack})}}finally{z.T=n,X.p=c}}(vr&3)!==0&&ho(),Kn(e),c=e.pendingLanes,(i&261930)!==0&&(c&42)!==0?e===Yc?Rs++:(Rs=0,Yc=e):Rs=0,Ns(0)}}function pg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,fs(n)))}function ho(){return fg(),dg(),hg(),mg()}function mg(){if(vt!==5)return!1;var e=qr,n=Jc;Jc=0;var i=mu(vr),l=z.T,c=X.p;try{X.p=32>i?32:i,z.T=null,i=Kc,Kc=null;var d=qr,g=vr;if(vt=0,hi=qr=null,vr=0,(Ne&6)!==0)throw Error(s(331));var w=Ne;if(Ne|=4,Xm(d.current),Jm(d,d.current,g,i),Ne=w,Ns(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Yi,d)}catch{}return!0}finally{X.p=c,z.T=l,pg(e,n)}}function gg(e,n,i){n=An(i,n),n=Ac(e.stateNode,n,2),e=Lr(e,n,2),e!==null&&(Qi(e,2),Kn(e))}function Le(e,n,i){if(e.tag===3)gg(e,e,i);else for(;n!==null;){if(n.tag===3){gg(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pr===null||!Pr.has(l))){e=An(i,e),i=vm(2),l=Lr(n,i,2),l!==null&&(ym(i,l,n,e),Qi(l,2),Kn(l));break}}n=n.return}}function Zc(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new s_;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(i)||(Vc=!0,c.add(i),e=f_.bind(null,e,n,i),n.then(e,e))}function f_(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,qe===e&&(_e&i)===i&&(nt===4||nt===3&&(_e&62914560)===_e&&300>Me()-so?(Ne&2)===0&&pi(e,0):Gc|=i,di===_e&&(di=0)),Kn(e)}function vg(e,n){n===0&&(n=fh()),e=oa(e,n),e!==null&&(Qi(e,n),Kn(e))}function d_(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),vg(e,i)}function h_(e,n){var i=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),vg(e,i)}function p_(e,n){return er(e,n)}var po=null,gi=null,Wc=!1,mo=!1,ef=!1,Gr=0;function Kn(e){e!==gi&&e.next===null&&(gi===null?po=gi=e:gi=gi.next=e),mo=!0,Wc||(Wc=!0,g_())}function Ns(e,n){if(!ef&&mo){ef=!0;do for(var i=!1,l=po;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var g=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-on(42|e)+1)-1,d&=c&~(g&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,_g(l,d))}else d=_e,d=yl(l,l===qe?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Xi(l,d)||(i=!0,_g(l,d));l=l.next}while(i);ef=!1}}function m_(){yg()}function yg(){mo=Wc=!1;var e=0;Gr!==0&&O_()&&(e=Gr);for(var n=Me(),i=null,l=po;l!==null;){var c=l.next,d=bg(l,n);d===0?(l.next=null,i===null?po=c:i.next=c,c===null&&(gi=i)):(i=l,(e!==0||(d&3)!==0)&&(mo=!0)),l=c}vt!==0&&vt!==5||Ns(e),Gr!==0&&(Gr=0)}function bg(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-on(d),w=1<<g,T=c[g];T===-1?((w&i)===0||(w&l)!==0)&&(c[g]=Pb(w,n)):T<=n&&(e.expiredLanes|=w),d&=~w}if(n=qe,i=_e,i=yl(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===n&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Tr(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Xi(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(l!==null&&Tr(l),mu(i)){case 2:case 8:i=Ft;break;case 32:i=Or;break;case 268435456:i=La;break;default:i=Or}return l=wg.bind(null,e),i=er(i,l),e.callbackPriority=n,e.callbackNode=i,n}return l!==null&&l!==null&&Tr(l),e.callbackPriority=2,e.callbackNode=null,2}function wg(e,n){if(vt!==0&&vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ho()&&e.callbackNode!==i)return null;var l=_e;return l=yl(e,e===qe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(tg(e,l,n),bg(e,Me()),e.callbackNode!=null&&e.callbackNode===i?wg.bind(null,e):null)}function _g(e,n){if(ho())return null;tg(e,n,!0)}function g_(){C_(function(){(Ne&6)!==0?er(Ki,m_):yg()})}function tf(){if(Gr===0){var e=ti;e===0&&(e=ml,ml<<=1,(ml&261888)===0&&(ml=256)),Gr=e}return Gr}function Sg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Sl(""+e)}function xg(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function v_(e,n,i,l,c){if(n==="submit"&&i&&i.stateNode===c){var d=Sg((c[Yt]||null).action),g=l.submitter;g&&(n=(n=g[Yt]||null)?Sg(n.formAction):g.getAttribute("formAction"),n!==null&&(d=n,g=null));var w=new Ol("action","action",null,l,c);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gr!==0){var T=g?xg(c,g):new FormData(c);_c(i,{pending:!0,data:T,method:c.method,action:d},null,T)}}else typeof d=="function"&&(w.preventDefault(),T=g?xg(c,g):new FormData(c),_c(i,{pending:!0,data:T,method:c.method,action:d},d,T))},currentTarget:c}]})}}for(var nf=0;nf<$u.length;nf++){var rf=$u[nf],y_=rf.toLowerCase(),b_=rf[0].toUpperCase()+rf.slice(1);Mn(y_,"on"+b_)}Mn(ep,"onAnimationEnd"),Mn(tp,"onAnimationIteration"),Mn(np,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(Iw,"onTransitionRun"),Mn(Lw,"onTransitionStart"),Mn(Mw,"onTransitionCancel"),Mn(rp,"onTransitionEnd"),Ha("onMouseEnter",["mouseout","mouseover"]),Ha("onMouseLeave",["mouseout","mouseover"]),Ha("onPointerEnter",["pointerout","pointerover"]),Ha("onPointerLeave",["pointerout","pointerover"]),aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ks));function Eg(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],c=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var g=l.length-1;0<=g;g--){var w=l[g],T=w.instance,D=w.currentTarget;if(w=w.listener,T!==d&&c.isPropagationStopped())break e;d=w,c.currentTarget=D;try{d(c)}catch(B){jl(B)}c.currentTarget=null,d=T}else for(g=0;g<l.length;g++){if(w=l[g],T=w.instance,D=w.currentTarget,w=w.listener,T!==d&&c.isPropagationStopped())break e;d=w,c.currentTarget=D;try{d(c)}catch(B){jl(B)}c.currentTarget=null,d=T}}}}function ye(e,n){var i=n[gu];i===void 0&&(i=n[gu]=new Set);var l=e+"__bubble";i.has(l)||(Tg(n,e,2,!1),i.add(l))}function af(e,n,i){var l=0;n&&(l|=4),Tg(i,e,l,n)}var go="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[go]){e[go]=!0,yh.forEach(function(i){i!=="selectionchange"&&(w_.has(i)||af(i,!1,e),af(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[go]||(n[go]=!0,af("selectionchange",!1,n))}}function Tg(e,n,i,l){switch(ev(n)){case 2:var c=K_;break;case 8:c=Y_;break;default:c=_f}i=c.bind(null,n,i,e),c=void 0,!Tu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function lf(e,n,i,l,c){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var w=l.stateNode.containerInfo;if(w===c)break;if(g===4)for(g=l.return;g!==null;){var T=g.tag;if((T===3||T===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;w!==null;){if(g=$a(w),g===null)return;if(T=g.tag,T===5||T===6||T===26||T===27){l=d=g;continue e}w=w.parentNode}}l=l.return}Rh(function(){var D=d,B=xu(i),q=[];e:{var I=ap.get(e);if(I!==void 0){var M=Ol,W=e;switch(e){case"keypress":if(El(i)===0)break e;case"keydown":case"keyup":M=hw;break;case"focusin":W="focus",M=ju;break;case"focusout":W="blur",M=ju;break;case"beforeblur":case"afterblur":M=ju;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=tw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=gw;break;case ep:case tp:case np:M=aw;break;case rp:M=yw;break;case"scroll":case"scrollend":M=Wb;break;case"wheel":M=ww;break;case"copy":case"cut":case"paste":M=sw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Ih;break;case"toggle":case"beforetoggle":M=Sw}var ae=(n&4)!==0,Be=!ae&&(e==="scroll"||e==="scrollend"),k=ae?I!==null?I+"Capture":null:I;ae=[];for(var A=D,U;A!==null;){var H=A;if(U=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||U===null||k===null||(H=es(A,k),H!=null&&ae.push(Us(A,H,U))),Be)break;A=A.return}0<ae.length&&(I=new M(I,W,null,i,B),q.push({event:I,listeners:ae}))}}if((n&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",I&&i!==Su&&(W=i.relatedTarget||i.fromElement)&&($a(W)||W[Ma]))break e;if((M||I)&&(I=B.window===B?B:(I=B.ownerDocument)?I.defaultView||I.parentWindow:window,M?(W=i.relatedTarget||i.toElement,M=D,W=W?$a(W):null,W!==null&&(Be=u(W),ae=W.tag,W!==Be||ae!==5&&ae!==27&&ae!==6)&&(W=null)):(M=null,W=D),M!==W)){if(ae=Uh,H="onMouseLeave",k="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ae=Ih,H="onPointerLeave",k="onPointerEnter",A="pointer"),Be=M==null?I:Wi(M),U=W==null?I:Wi(W),I=new ae(H,A+"leave",M,i,B),I.target=Be,I.relatedTarget=U,H=null,$a(B)===D&&(ae=new ae(k,A+"enter",W,i,B),ae.target=U,ae.relatedTarget=Be,H=ae),Be=H,M&&W)t:{for(ae=__,k=M,A=W,U=0,H=k;H;H=ae(H))U++;H=0;for(var ne=A;ne;ne=ae(ne))H++;for(;0<U-H;)k=ae(k),U--;for(;0<H-U;)A=ae(A),H--;for(;U--;){if(k===A||A!==null&&k===A.alternate){ae=k;break t}k=ae(k),A=ae(A)}ae=null}else ae=null;M!==null&&Og(q,I,M,ae,!1),W!==null&&Be!==null&&Og(q,Be,W,ae,!0)}}e:{if(I=D?Wi(D):window,M=I.nodeName&&I.nodeName.toLowerCase(),M==="select"||M==="input"&&I.type==="file")var je=qh;else if(Hh(I))if(Vh)je=kw;else{je=Rw;var ee=jw}else M=I.nodeName,!M||M.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?D&&_u(D.elementType)&&(je=qh):je=Nw;if(je&&(je=je(e,D))){Ph(q,je,i,B);break e}ee&&ee(e,I,D),e==="focusout"&&D&&I.type==="number"&&D.memoizedProps.value!=null&&wu(I,"number",I.value)}switch(ee=D?Wi(D):window,e){case"focusin":(Hh(ee)||ee.contentEditable==="true")&&(Ja=ee,Iu=D,os=null);break;case"focusout":os=Iu=Ja=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,Zh(q,i,B);break;case"selectionchange":if(Dw)break;case"keydown":case"keyup":Zh(q,i,B)}var pe;if(Nu)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Fa?zh(e,i)&&(Se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Se="onCompositionStart");Se&&(Lh&&i.locale!=="ko"&&(Fa||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Fa&&(pe=Nh()):(jr=B,Ou="value"in jr?jr.value:jr.textContent,Fa=!0)),ee=vo(D,Se),0<ee.length&&(Se=new Dh(Se,e,null,i,B),q.push({event:Se,listeners:ee}),pe?Se.data=pe:(pe=Bh(i),pe!==null&&(Se.data=pe)))),(pe=Ew?Tw(e,i):Ow(e,i))&&(Se=vo(D,"onBeforeInput"),0<Se.length&&(ee=new Dh("onBeforeInput","beforeinput",null,i,B),q.push({event:ee,listeners:Se}),ee.data=pe)),v_(q,e,D,i,B)}Eg(q,n)})}function Us(e,n,i){return{instance:e,listener:n,currentTarget:i}}function vo(e,n){for(var i=n+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=es(e,i),c!=null&&l.unshift(Us(e,c,d)),c=es(e,n),c!=null&&l.push(Us(e,c,d))),e.tag===3)return l;e=e.return}return[]}function __(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Og(e,n,i,l,c){for(var d=n._reactName,g=[];i!==null&&i!==l;){var w=i,T=w.alternate,D=w.stateNode;if(w=w.tag,T!==null&&T===l)break;w!==5&&w!==26&&w!==27||D===null||(T=D,c?(D=es(i,d),D!=null&&g.unshift(Us(i,D,T))):c||(D=es(i,d),D!=null&&g.push(Us(i,D,T)))),i=i.return}g.length!==0&&e.push({event:n,listeners:g})}var S_=/\r\n?/g,x_=/\u0000|\uFFFD/g;function Ag(e){return(typeof e=="string"?e:""+e).replace(S_,`
`).replace(x_,"")}function Cg(e,n){return n=Ag(n),Ag(e)===n}function ze(e,n,i,l,c,d){switch(i){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||qa(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&qa(e,""+l);break;case"className":wl(e,"class",l);break;case"tabIndex":wl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wl(e,i,l);break;case"style":Ch(e,l,d);break;case"data":if(n!=="object"){wl(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Sl(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(n!=="input"&&ze(e,n,"name",c.name,c,null),ze(e,n,"formEncType",c.formEncType,c,null),ze(e,n,"formMethod",c.formMethod,c,null),ze(e,n,"formTarget",c.formTarget,c,null)):(ze(e,n,"encType",c.encType,c,null),ze(e,n,"method",c.method,c,null),ze(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Sl(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=nr);break;case"onScroll":l!=null&&ye("scroll",e);break;case"onScrollEnd":l!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=Sl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":ye("beforetoggle",e),ye("toggle",e),bl(e,"popover",l);break;case"xlinkActuate":tr(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":tr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":tr(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":tr(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":tr(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":tr(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":tr(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":tr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":tr(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":bl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Qb.get(i)||i,bl(e,i,l))}}function of(e,n,i,l,c,d){switch(i){case"style":Ch(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof l=="string"?qa(e,l):(typeof l=="number"||typeof l=="bigint")&&qa(e,""+l);break;case"onScroll":l!=null&&ye("scroll",e);break;case"onScrollEnd":l!=null&&ye("scrollend",e);break;case"onClick":l!=null&&(e.onclick=nr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),n=i.slice(2,c?i.length-7:void 0),d=e[Yt]||null,d=d!=null?d[i]:null,typeof d=="function"&&e.removeEventListener(n,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,l,c);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):bl(e,i,l)}}}function Nt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var l=!1,c=!1,d;for(d in i)if(i.hasOwnProperty(d)){var g=i[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ze(e,n,d,g,i,null)}}c&&ze(e,n,"srcSet",i.srcSet,i,null),l&&ze(e,n,"src",i.src,i,null);return;case"input":ye("invalid",e);var w=d=g=c=null,T=null,D=null;for(l in i)if(i.hasOwnProperty(l)){var B=i[l];if(B!=null)switch(l){case"name":c=B;break;case"type":g=B;break;case"checked":T=B;break;case"defaultChecked":D=B;break;case"value":d=B;break;case"defaultValue":w=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:ze(e,n,l,B,i,null)}}Eh(e,d,w,T,D,g,c,!1);return;case"select":ye("invalid",e),l=g=d=null;for(c in i)if(i.hasOwnProperty(c)&&(w=i[c],w!=null))switch(c){case"value":d=w;break;case"defaultValue":g=w;break;case"multiple":l=w;default:ze(e,n,c,w,i,null)}n=d,i=g,e.multiple=!!l,n!=null?Pa(e,!!l,n,!1):i!=null&&Pa(e,!!l,i,!0);return;case"textarea":ye("invalid",e),d=c=l=null;for(g in i)if(i.hasOwnProperty(g)&&(w=i[g],w!=null))switch(g){case"value":l=w;break;case"defaultValue":c=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:ze(e,n,g,w,i,null)}Oh(e,l,c,d);return;case"option":for(T in i)i.hasOwnProperty(T)&&(l=i[T],l!=null)&&(T==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ze(e,n,T,l,i,null));return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(l=0;l<ks.length;l++)ye(ks[l],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in i)if(i.hasOwnProperty(D)&&(l=i[D],l!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ze(e,n,D,l,i,null)}return;default:if(_u(n)){for(B in i)i.hasOwnProperty(B)&&(l=i[B],l!==void 0&&of(e,n,B,l,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(l=i[w],l!=null&&ze(e,n,w,l,i,null))}function E_(e,n,i,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,w=null,T=null,D=null,B=null;for(M in i){var q=i[M];if(i.hasOwnProperty(M)&&q!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":T=q;default:l.hasOwnProperty(M)||ze(e,n,M,null,l,q)}}for(var I in l){var M=l[I];if(q=i[I],l.hasOwnProperty(I)&&(M!=null||q!=null))switch(I){case"type":d=M;break;case"name":c=M;break;case"checked":D=M;break;case"defaultChecked":B=M;break;case"value":g=M;break;case"defaultValue":w=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(137,n));break;default:M!==q&&ze(e,n,I,M,l,q)}}bu(e,g,w,T,D,B,d,c);return;case"select":M=g=w=I=null;for(d in i)if(T=i[d],i.hasOwnProperty(d)&&T!=null)switch(d){case"value":break;case"multiple":M=T;default:l.hasOwnProperty(d)||ze(e,n,d,null,l,T)}for(c in l)if(d=l[c],T=i[c],l.hasOwnProperty(c)&&(d!=null||T!=null))switch(c){case"value":I=d;break;case"defaultValue":w=d;break;case"multiple":g=d;default:d!==T&&ze(e,n,c,d,l,T)}n=w,i=g,l=M,I!=null?Pa(e,!!i,I,!1):!!l!=!!i&&(n!=null?Pa(e,!!i,n,!0):Pa(e,!!i,i?[]:"",!1));return;case"textarea":M=I=null;for(w in i)if(c=i[w],i.hasOwnProperty(w)&&c!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ze(e,n,w,null,l,c)}for(g in l)if(c=l[g],d=i[g],l.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":I=c;break;case"defaultValue":M=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==d&&ze(e,n,g,c,l,d)}Th(e,I,M);return;case"option":for(var W in i)I=i[W],i.hasOwnProperty(W)&&I!=null&&!l.hasOwnProperty(W)&&(W==="selected"?e.selected=!1:ze(e,n,W,null,l,I));for(T in l)I=l[T],M=i[T],l.hasOwnProperty(T)&&I!==M&&(I!=null||M!=null)&&(T==="selected"?e.selected=I&&typeof I!="function"&&typeof I!="symbol":ze(e,n,T,I,l,M));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in i)I=i[ae],i.hasOwnProperty(ae)&&I!=null&&!l.hasOwnProperty(ae)&&ze(e,n,ae,null,l,I);for(D in l)if(I=l[D],M=i[D],l.hasOwnProperty(D)&&I!==M&&(I!=null||M!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,n));break;default:ze(e,n,D,I,l,M)}return;default:if(_u(n)){for(var Be in i)I=i[Be],i.hasOwnProperty(Be)&&I!==void 0&&!l.hasOwnProperty(Be)&&of(e,n,Be,void 0,l,I);for(B in l)I=l[B],M=i[B],!l.hasOwnProperty(B)||I===M||I===void 0&&M===void 0||of(e,n,B,I,l,M);return}}for(var k in i)I=i[k],i.hasOwnProperty(k)&&I!=null&&!l.hasOwnProperty(k)&&ze(e,n,k,null,l,I);for(q in l)I=l[q],M=i[q],!l.hasOwnProperty(q)||I===M||I==null&&M==null||ze(e,n,q,I,l,M)}function jg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function T_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),l=0;l<i.length;l++){var c=i[l],d=c.transferSize,g=c.initiatorType,w=c.duration;if(d&&w&&jg(g)){for(g=0,w=c.responseEnd,l+=1;l<i.length;l++){var T=i[l],D=T.startTime;if(D>w)break;var B=T.transferSize,q=T.initiatorType;B&&jg(q)&&(T=T.responseEnd,g+=B*(T<w?1:(w-D)/(T-D)))}if(--l,n+=8*(d+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var uf=null,cf=null;function yo(e){return e.nodeType===9?e:e.ownerDocument}function Rg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ng(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ff(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var df=null;function O_(){var e=window.event;return e&&e.type==="popstate"?e===df?!1:(df=e,!0):(df=null,!1)}var kg=typeof setTimeout=="function"?setTimeout:void 0,A_=typeof clearTimeout=="function"?clearTimeout:void 0,Ug=typeof Promise=="function"?Promise:void 0,C_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ug<"u"?function(e){return Ug.resolve(null).then(e).catch(j_)}:kg;function j_(e){setTimeout(function(){throw e})}function Fr(e){return e==="head"}function Dg(e,n){var i=n,l=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(l===0){e.removeChild(c),wi(n);return}l--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")l++;else if(i==="html")Ds(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ds(i);for(var d=i.firstChild;d;){var g=d.nextSibling,w=d.nodeName;d[Zi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=g}}else i==="body"&&Ds(e.ownerDocument.body);i=c}while(i);wi(n)}function Ig(e,n){var i=e;e=0;do{var l=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=l}while(i)}function hf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":hf(i),vu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function R_(e,n,i,l){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Zi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function N_(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=kn(e.nextSibling),e===null))return null;return e}function Lg(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function pf(e){return e.data==="$?"||e.data==="$~"}function mf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function k_(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var l=function(){n(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var gf=null;function Mg(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return kn(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function $g(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function zg(e,n,i){switch(n=yo(i),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ds(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);vu(e)}var Un=new Map,Bg=new Set;function bo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yr=X.d;X.d={f:U_,r:D_,D:I_,C:L_,L:M_,m:$_,X:B_,S:z_,M:H_};function U_(){var e=yr.f(),n=uo();return e||n}function D_(e){var n=za(e);n!==null&&n.tag===5&&n.type==="form"?rm(n):yr.r(e)}var vi=typeof document>"u"?null:document;function Hg(e,n,i){var l=vi;if(l&&typeof n=="string"&&n){var c=Tn(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Bg.has(c)||(Bg.add(c),e={rel:e,crossOrigin:i,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Nt(n,"link",e),St(n),l.head.appendChild(n)))}}function I_(e){yr.D(e),Hg("dns-prefetch",e,null)}function L_(e,n){yr.C(e,n),Hg("preconnect",e,n)}function M_(e,n,i){yr.L(e,n,i);var l=vi;if(l&&e&&n){var c='link[rel="preload"][as="'+Tn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+Tn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+Tn(i.imageSizes)+'"]')):c+='[href="'+Tn(e)+'"]';var d=c;switch(n){case"style":d=yi(e);break;case"script":d=bi(e)}Un.has(d)||(e=b({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Un.set(d,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(Is(d))||n==="script"&&l.querySelector(Ls(d))||(n=l.createElement("link"),Nt(n,"link",e),St(n),l.head.appendChild(n)))}}function $_(e,n){yr.m(e,n);var i=vi;if(i&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Tn(l)+'"][href="'+Tn(e)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=bi(e)}if(!Un.has(d)&&(e=b({rel:"modulepreload",href:e},n),Un.set(d,e),i.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ls(d)))return}l=i.createElement("link"),Nt(l,"link",e),St(l),i.head.appendChild(l)}}}function z_(e,n,i){yr.S(e,n,i);var l=vi;if(l&&e){var c=Ba(l).hoistableStyles,d=yi(e);n=n||"default";var g=c.get(d);if(!g){var w={loading:0,preload:null};if(g=l.querySelector(Is(d)))w.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Un.get(d))&&vf(e,i);var T=g=l.createElement("link");St(T),Nt(T,"link",e),T._p=new Promise(function(D,B){T.onload=D,T.onerror=B}),T.addEventListener("load",function(){w.loading|=1}),T.addEventListener("error",function(){w.loading|=2}),w.loading|=4,wo(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:w},c.set(d,g)}}}function B_(e,n){yr.X(e,n);var i=vi;if(i&&e){var l=Ba(i).hoistableScripts,c=bi(e),d=l.get(c);d||(d=i.querySelector(Ls(c)),d||(e=b({src:e,async:!0},n),(n=Un.get(c))&&yf(e,n),d=i.createElement("script"),St(d),Nt(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function H_(e,n){yr.M(e,n);var i=vi;if(i&&e){var l=Ba(i).hoistableScripts,c=bi(e),d=l.get(c);d||(d=i.querySelector(Ls(c)),d||(e=b({src:e,async:!0,type:"module"},n),(n=Un.get(c))&&yf(e,n),d=i.createElement("script"),St(d),Nt(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function Pg(e,n,i,l){var c=(c=he.current)?bo(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=yi(i.href),i=Ba(c).hoistableStyles,l=i.get(n),l||(l={type:"style",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=yi(i.href);var d=Ba(c).hoistableStyles,g=d.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=c.querySelector(Is(e)))&&!d._p&&(g.instance=d,g.state.loading=5),Un.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Un.set(e,i),d||P_(c,e,i,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=bi(i),i=Ba(c).hoistableScripts,l=i.get(n),l||(l={type:"script",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function yi(e){return'href="'+Tn(e)+'"'}function Is(e){return'link[rel="stylesheet"]['+e+"]"}function qg(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function P_(e,n,i,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Nt(n,"link",i),St(n),e.head.appendChild(n))}function bi(e){return'[src="'+Tn(e)+'"]'}function Ls(e){return"script[async]"+e}function Vg(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Tn(i.href)+'"]');if(l)return n.instance=l,St(l),l;var c=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),St(l),Nt(l,"style",c),wo(l,i.precedence,e),n.instance=l;case"stylesheet":c=yi(i.href);var d=e.querySelector(Is(c));if(d)return n.state.loading|=4,n.instance=d,St(d),d;l=qg(i),(c=Un.get(c))&&vf(l,c),d=(e.ownerDocument||e).createElement("link"),St(d);var g=d;return g._p=new Promise(function(w,T){g.onload=w,g.onerror=T}),Nt(d,"link",l),n.state.loading|=4,wo(d,i.precedence,e),n.instance=d;case"script":return d=bi(i.src),(c=e.querySelector(Ls(d)))?(n.instance=c,St(c),c):(l=i,(c=Un.get(d))&&(l=b({},i),yf(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),St(c),Nt(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wo(l,i.precedence,e));return n.instance}function wo(e,n,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,g=0;g<l.length;g++){var w=l[g];if(w.dataset.precedence===n)d=w;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function vf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _o=null;function Gg(e,n,i){if(_o===null){var l=new Map,c=_o=new Map;c.set(i,l)}else c=_o,l=c.get(i),l||(l=new Map,c.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var d=i[c];if(!(d[Zi]||d[At]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(n)||"";g=e+g;var w=l.get(g);w?w.push(d):l.set(g,[d])}}return l}function Fg(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function q_(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Jg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function V_(e,n,i,l){if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=yi(l.href),d=n.querySelector(Is(c));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=So.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=d,St(d);return}d=n.ownerDocument||n,l=qg(l),(c=Un.get(c))&&vf(l,c),d=d.createElement("link"),St(d);var g=d;g._p=new Promise(function(w,T){g.onload=w,g.onerror=T}),Nt(d,"link",l),i.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=So.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var bf=0;function G_(e,n){return e.stylesheets&&e.count===0&&Eo(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var l=setTimeout(function(){if(e.stylesheets&&Eo(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&bf===0&&(bf=62500*T_());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Eo(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>bf?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function So(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xo=null;function Eo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xo=new Map,n.forEach(F_,e),xo=null,So.call(e))}function F_(e,n){if(!(n.state.loading&4)){var i=xo.get(e);if(i)var l=i.get(null);else{i=new Map,xo.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),l=g)}l&&i.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),d=i.get(g)||l,d===l&&i.set(null,c),i.set(g,c),this.count++,l=So.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Ms={$$typeof:L,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function J_(e,n,i,l,c,d,g,w,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hu(0),this.hiddenUpdates=hu(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Kg(e,n,i,l,c,d,g,w,T,D,B,q){return e=new J_(e,n,i,g,T,D,B,q,w),n=1,d===!0&&(n|=24),d=cn(3,null,null,n),e.current=d,d.stateNode=e,n=Qu(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:i,cache:n},tc(d),e}function Yg(e){return e?(e=Xa,e):Xa}function Xg(e,n,i,l,c,d){c=Yg(c),l.context===null?l.context=c:l.pendingContext=c,l=Ir(n),l.payload={element:i},d=d===void 0?null:d,d!==null&&(l.callback=d),i=Lr(e,l,n),i!==null&&(tn(i,e,n),ms(i,e,n))}function Qg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function wf(e,n){Qg(e,n),(e=e.alternate)&&Qg(e,n)}function Zg(e){if(e.tag===13||e.tag===31){var n=oa(e,67108864);n!==null&&tn(n,e,67108864),wf(e,67108864)}}function Wg(e){if(e.tag===13||e.tag===31){var n=mn();n=pu(n);var i=oa(e,n);i!==null&&tn(i,e,n),wf(e,n)}}var To=!0;function K_(e,n,i,l){var c=z.T;z.T=null;var d=X.p;try{X.p=2,_f(e,n,i,l)}finally{X.p=d,z.T=c}}function Y_(e,n,i,l){var c=z.T;z.T=null;var d=X.p;try{X.p=8,_f(e,n,i,l)}finally{X.p=d,z.T=c}}function _f(e,n,i,l){if(To){var c=Sf(l);if(c===null)lf(e,n,l,Oo,i),tv(e,l);else if(Q_(c,e,n,i,l))l.stopPropagation();else if(tv(e,l),n&4&&-1<X_.indexOf(e)){for(;c!==null;){var d=za(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=ra(d.pendingLanes);if(g!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;g;){var T=1<<31-on(g);w.entanglements[1]|=T,g&=~T}Kn(d),(Ne&6)===0&&(lo=Me()+500,Ns(0))}}break;case 31:case 13:w=oa(d,2),w!==null&&tn(w,d,2),uo(),wf(d,2)}if(d=Sf(l),d===null&&lf(e,n,l,Oo,i),d===c)break;c=d}c!==null&&l.stopPropagation()}else lf(e,n,l,null,i)}}function Sf(e){return e=xu(e),xf(e)}var Oo=null;function xf(e){if(Oo=null,e=$a(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=f(n),e!==null)return e;e=null}else if(i===31){if(e=h(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Oo=e,null}function ev(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pl()){case Ki:return 2;case Ft:return 8;case Or:case na:return 32;case La:return 268435456;default:return 32}default:return 32}}var Ef=!1,Jr=null,Kr=null,Yr=null,$s=new Map,zs=new Map,Xr=[],X_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tv(e,n){switch(e){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":$s.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(n.pointerId)}}function Bs(e,n,i,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},n!==null&&(n=za(n),n!==null&&Zg(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function Q_(e,n,i,l,c){switch(n){case"focusin":return Jr=Bs(Jr,e,n,i,l,c),!0;case"dragenter":return Kr=Bs(Kr,e,n,i,l,c),!0;case"mouseover":return Yr=Bs(Yr,e,n,i,l,c),!0;case"pointerover":var d=c.pointerId;return $s.set(d,Bs($s.get(d)||null,e,n,i,l,c)),!0;case"gotpointercapture":return d=c.pointerId,zs.set(d,Bs(zs.get(d)||null,e,n,i,l,c)),!0}return!1}function nv(e){var n=$a(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=f(i),n!==null){e.blockedOn=n,gh(e.priority,function(){Wg(i)});return}}else if(n===31){if(n=h(i),n!==null){e.blockedOn=n,gh(e.priority,function(){Wg(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ao(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Sf(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Su=l,i.target.dispatchEvent(l),Su=null}else return n=za(i),n!==null&&Zg(n),e.blockedOn=i,!1;n.shift()}return!0}function rv(e,n,i){Ao(e)&&i.delete(n)}function Z_(){Ef=!1,Jr!==null&&Ao(Jr)&&(Jr=null),Kr!==null&&Ao(Kr)&&(Kr=null),Yr!==null&&Ao(Yr)&&(Yr=null),$s.forEach(rv),zs.forEach(rv)}function Co(e,n){e.blockedOn===n&&(e.blockedOn=null,Ef||(Ef=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Z_)))}var jo=null;function av(e){jo!==e&&(jo=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jo===e&&(jo=null);for(var n=0;n<e.length;n+=3){var i=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(xf(l||i)===null)continue;break}var d=za(i);d!==null&&(e.splice(n,3),n-=3,_c(d,{pending:!0,data:c,method:i.method,action:l},l,c))}}))}function wi(e){function n(T){return Co(T,e)}Jr!==null&&Co(Jr,e),Kr!==null&&Co(Kr,e),Yr!==null&&Co(Yr,e),$s.forEach(n),zs.forEach(n);for(var i=0;i<Xr.length;i++){var l=Xr[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Xr.length&&(i=Xr[0],i.blockedOn===null);)nv(i),i.blockedOn===null&&Xr.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var c=i[l],d=i[l+1],g=c[Yt]||null;if(typeof d=="function")g||av(i);else if(g){var w=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[Yt]||null)w=g.formAction;else if(xf(c)!==null)continue}else w=g.action;typeof w=="function"?i[l+1]=w:(i.splice(l,3),l-=3),av(i)}}}function iv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(i,20)}function i(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Tf(e){this._internalRoot=e}Ro.prototype.render=Tf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,l=mn();Xg(i,l,e,n,null,null)},Ro.prototype.unmount=Tf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Xg(e.current,2,null,e,null,null),uo(),n[Ma]=null}};function Ro(e){this._internalRoot=e}Ro.prototype.unstable_scheduleHydration=function(e){if(e){var n=mh();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Xr.length&&n!==0&&n<Xr[i].priority;i++);Xr.splice(i,0,e),i===0&&nv(e)}};var sv=t.version;if(sv!=="19.2.3")throw Error(s(527,sv,"19.2.3"));X.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var W_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var No=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!No.isDisabled&&No.supportsFiber)try{Yi=No.inject(W_),ln=No}catch{}}return Ps.createRoot=function(e,n){if(!o(e))throw Error(s(299));var i=!1,l="",c=hm,d=pm,g=mm;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Kg(e,1,!1,null,null,i,l,null,c,d,g,iv),e[Ma]=n.current,sf(e),new Tf(n)},Ps.hydrateRoot=function(e,n,i){if(!o(e))throw Error(s(299));var l=!1,c="",d=hm,g=pm,w=mm,T=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.formState!==void 0&&(T=i.formState)),n=Kg(e,1,!0,n,i??null,l,c,T,d,g,w,iv),n.context=Yg(null),i=n.current,l=mn(),l=pu(l),c=Ir(l),c.callback=null,Lr(i,c,l),i=l,n.current.lanes=i,Qi(n,i),Kn(n),e[Ma]=n.current,sf(e),new Ro(n)},Ps.version="19.2.3",Ps}var vv;function fS(){if(vv)return Cf.exports;vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cf.exports=cS(),Cf.exports}var dS=fS();const hS="modulepreload",pS=function(r,t){return new URL(r,t).href},yv={},ta=function(t,a,s){let o=Promise.resolve();if(a&&a.length>0){let m=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};const f=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");o=m(a.map(v=>{if(v=pS(v,s),v in yv)return;yv[v]=!0;const b=v.endsWith(".css"),_=b?'[rel="stylesheet"]':"";if(s)for(let E=f.length-1;E>=0;E--){const x=f[E];if(x.href===v&&(!b||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${_}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":hS,b||(S.as="script"),S.crossOrigin="",S.href=v,p&&S.setAttribute("nonce",p),document.head.appendChild(S),b)return new Promise((E,x)=>{S.addEventListener("load",E),S.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return o.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return t().catch(u)})};var bv="popstate";function mS(r={}){function t(o,u){let{pathname:f="/",search:h="",hash:p=""}=Ua(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),nd("",{pathname:f,search:h,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function a(o,u){let f=o.document.querySelector("base"),h="";if(f&&f.getAttribute("href")){let p=o.location.href,m=p.indexOf("#");h=m===-1?p:p.slice(0,m)}return h+"#"+(typeof u=="string"?u:el(u))}function s(o,u){nn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return vS(t,a,s,r)}function Ze(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function nn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gS(){return Math.random().toString(36).substring(2,10)}function wv(r,t){return{usr:r.state,key:r.key,idx:t}}function nd(r,t,a=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ua(t):t,state:a,key:t&&t.key||s||gS()}}function el({pathname:r="/",search:t="",hash:a=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Ua(r){let t={};if(r){let a=r.indexOf("#");a>=0&&(t.hash=r.substring(a),r=r.substring(0,a));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function vS(r,t,a,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,h="POP",p=null,m=v();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function v(){return(f.state||{idx:null}).idx}function b(){h="POP";let C=v(),j=C==null?null:C-m;m=C,p&&p({action:h,location:x.location,delta:j})}function _(C,j){h="PUSH";let N=nd(x.location,C,j);a&&a(N,C),m=v()+1;let L=wv(N,m),$=x.createHref(N);try{f.pushState(L,"",$)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign($)}u&&p&&p({action:h,location:x.location,delta:1})}function S(C,j){h="REPLACE";let N=nd(x.location,C,j);a&&a(N,C),m=v();let L=wv(N,m),$=x.createHref(N);f.replaceState(L,"",$),u&&p&&p({action:h,location:x.location,delta:0})}function E(C){return yS(C)}let x={get action(){return h},get location(){return r(o,f)},listen(C){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(bv,b),p=C,()=>{o.removeEventListener(bv,b),p=null}},createHref(C){return t(o,C)},createURL:E,encodeLocation(C){let j=E(C);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:_,replace:S,go(C){return f.go(C)}};return x}function yS(r,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(a,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:el(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function Ty(r,t,a="/"){return bS(r,t,a,!1)}function bS(r,t,a,s){let o=typeof t=="string"?Ua(t):t,u=Sr(o.pathname||"/",a);if(u==null)return null;let f=Oy(r);wS(f);let h=null;for(let p=0;h==null&&p<f.length;++p){let m=NS(u);h=jS(f[p],m,s)}return h}function Oy(r,t=[],a=[],s="",o=!1){let u=(f,h,p=o,m)=>{let v={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;Ze(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=wr([s,v.relativePath]),_=a.concat(v);f.children&&f.children.length>0&&(Ze(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Oy(f.children,t,_,b,p)),!(f.path==null&&!f.index)&&t.push({path:b,score:AS(b,f.index),routesMeta:_})};return r.forEach((f,h)=>{if(f.path===""||!f.path?.includes("?"))u(f,h);else for(let p of Ay(f.path))u(f,h,!0,p)}),t}function Ay(r){let t=r.split("/");if(t.length===0)return[];let[a,...s]=t,o=a.endsWith("?"),u=a.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=Ay(s.join("/")),h=[];return h.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&h.push(...f),h.map(p=>r.startsWith("/")&&p===""?"/":p)}function wS(r){r.sort((t,a)=>t.score!==a.score?a.score-t.score:CS(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var _S=/^:[\w-]+$/,SS=3,xS=2,ES=1,TS=10,OS=-2,_v=r=>r==="*";function AS(r,t){let a=r.split("/"),s=a.length;return a.some(_v)&&(s+=OS),t&&(s+=xS),a.filter(o=>!_v(o)).reduce((o,u)=>o+(_S.test(u)?SS:u===""?ES:TS),s)}function CS(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function jS(r,t,a=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,v=u==="/"?t:t.slice(u.length)||"/",b=Jo({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),_=p.route;if(!b&&m&&a&&!s[s.length-1].route.index&&(b=Jo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:wr([u,b.pathname]),pathnameBase:IS(wr([u,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(u=wr([u,b.pathnameBase]))}return f}function Jo(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[a,s]=RS(r.path,r.caseSensitive,r.end),o=t.match(a);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:s.reduce((m,{paramName:v,isOptional:b},_)=>{if(v==="*"){let E=h[_]||"";f=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const S=h[_];return b&&!S?m[v]=void 0:m[v]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:r}}function RS(r,t=!1,a=!0){nn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function NS(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Sr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=r.charAt(a);return s&&s!=="/"?null:r.slice(a)||"/"}var Cy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kS=r=>Cy.test(r);function US(r,t="/"){let{pathname:a,search:s="",hash:o=""}=typeof r=="string"?Ua(r):r,u;if(a)if(kS(a))u=a;else{if(a.includes("//")){let f=a;a=a.replace(/\/\/+/g,"/"),nn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${a}`)}a.startsWith("/")?u=Sv(a.substring(1),"/"):u=Sv(a,t)}else u=t;return{pathname:u,search:LS(s),hash:MS(o)}}function Sv(r,t){let a=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function kf(r,t,a,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DS(r){return r.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function Nd(r){let t=DS(r);return t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase)}function kd(r,t,a,s=!1){let o;typeof r=="string"?o=Ua(r):(o={...r},Ze(!o.pathname||!o.pathname.includes("?"),kf("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),kf("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),kf("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,h;if(f==null)h=a;else{let b=t.length-1;if(!s&&f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),b-=1;o.pathname=_.join("/")}h=b>=0?t[b]:"/"}let p=US(o,h),m=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&a.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var wr=r=>r.join("/").replace(/\/\/+/g,"/"),IS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),LS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,MS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,$S=class{constructor(r,t,a,s=!1){this.status=r,this.statusText=t||"",this.internal=s,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function zS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function BS(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var jy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ry(r,t){let a=r;if(typeof a!="string"||!Cy.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let s=a,o=!1;if(jy)try{let u=new URL(window.location.href),f=a.startsWith("//")?new URL(u.protocol+a):new URL(a),h=Sr(f.pathname,t);f.origin===u.origin&&h!=null?a=h+f.search+f.hash:o=!0}catch{nn(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ny=["POST","PUT","PATCH","DELETE"];new Set(Ny);var HS=["GET",...Ny];new Set(HS);var Hi=R.createContext(null);Hi.displayName="DataRouter";var tu=R.createContext(null);tu.displayName="DataRouterState";var PS=R.createContext(!1),ky=R.createContext({isTransitioning:!1});ky.displayName="ViewTransition";var qS=R.createContext(new Map);qS.displayName="Fetchers";var VS=R.createContext(null);VS.displayName="Await";var _n=R.createContext(null);_n.displayName="Navigation";var ol=R.createContext(null);ol.displayName="Location";var Vn=R.createContext({outlet:null,matches:[],isDataRoute:!1});Vn.displayName="Route";var Ud=R.createContext(null);Ud.displayName="RouteError";var Uy="REACT_ROUTER_ERROR",GS="REDIRECT",FS="ROUTE_ERROR_RESPONSE";function JS(r){if(r.startsWith(`${Uy}:${GS}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function KS(r){if(r.startsWith(`${Uy}:${FS}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new $S(t.status,t.statusText,t.data)}catch{}}function YS(r,{relative:t}={}){Ze(Pi(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=R.useContext(_n),{hash:o,pathname:u,search:f}=ul(r,{relative:t}),h=u;return a!=="/"&&(h=u==="/"?a:wr([a,u])),s.createHref({pathname:h,search:f,hash:o})}function Pi(){return R.useContext(ol)!=null}function xr(){return Ze(Pi(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(ol).location}var Dy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Iy(r){R.useContext(_n).static||R.useLayoutEffect(r)}function qi(){let{isDataRoute:r}=R.useContext(Vn);return r?cx():XS()}function XS(){Ze(Pi(),"useNavigate() may be used only in the context of a <Router> component.");let r=R.useContext(Hi),{basename:t,navigator:a}=R.useContext(_n),{matches:s}=R.useContext(Vn),{pathname:o}=xr(),u=JSON.stringify(Nd(s)),f=R.useRef(!1);return Iy(()=>{f.current=!0}),R.useCallback((p,m={})=>{if(nn(f.current,Dy),!f.current)return;if(typeof p=="number"){a.go(p);return}let v=kd(p,JSON.parse(u),o,m.relative==="path");r==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:wr([t,v.pathname])),(m.replace?a.replace:a.push)(v,m.state,m)},[t,a,u,o,r])}var QS=R.createContext(null);function ZS(r){let t=R.useContext(Vn).outlet;return R.useMemo(()=>t&&R.createElement(QS.Provider,{value:r},t),[t,r])}function ul(r,{relative:t}={}){let{matches:a}=R.useContext(Vn),{pathname:s}=xr(),o=JSON.stringify(Nd(a));return R.useMemo(()=>kd(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function WS(r,t){return Ly(r,t)}function Ly(r,t,a,s,o){Ze(Pi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=R.useContext(_n),{matches:f}=R.useContext(Vn),h=f[f.length-1],p=h?h.params:{},m=h?h.pathname:"/",v=h?h.pathnameBase:"/",b=h&&h.route;{let N=b&&b.path||"";$y(m,!b||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let _=xr(),S;if(t){let N=typeof t=="string"?Ua(t):t;Ze(v==="/"||N.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${N.pathname}" was given in the \`location\` prop.`),S=N}else S=_;let E=S.pathname||"/",x=E;if(v!=="/"){let N=v.replace(/^\//,"").split("/");x="/"+E.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=Ty(r,{pathname:x});nn(b||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),nn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=ax(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},p,N.params),pathname:wr([v,u.encodeLocation?u.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?v:wr([v,u.encodeLocation?u.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),f,a,s,o);return t&&j?R.createElement(ol.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},j):j}function ex(){let r=ux(),t=zS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),a=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:u},"ErrorBoundary")," or"," ",R.createElement("code",{style:u},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),a?R.createElement("pre",{style:o},a):null,f)}var tx=R.createElement(ex,null),My=class extends R.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const a=KS(r.digest);a&&(r=a)}let t=r!==void 0?R.createElement(Vn.Provider,{value:this.props.routeContext},R.createElement(Ud.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?R.createElement(nx,{error:r},t):t}};My.contextType=PS;var Uf=new WeakMap;function nx({children:r,error:t}){let{basename:a}=R.useContext(_n);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=JS(t.digest);if(s){let o=Uf.get(t);if(o)throw o;let u=Ry(s.location,a);if(jy&&!Uf.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Uf.set(t,f),f}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function rx({routeContext:r,match:t,children:a}){let s=R.useContext(Hi);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(Vn.Provider,{value:r},a)}function ax(r,t=[],a=null,s=null,o=null){if(r==null){if(!a)return null;if(a.errors)r=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)r=a.matches;else return null}let u=r,f=a?.errors;if(f!=null){let v=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);Ze(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let h=!1,p=-1;if(a)for(let v=0;v<u.length;v++){let b=u[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:_,errors:S}=a,E=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||E){h=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let m=a&&s?(v,b)=>{s(v,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:BS(a.matches),errorInfo:b})}:void 0;return u.reduceRight((v,b,_)=>{let S,E=!1,x=null,C=null;a&&(S=f&&b.route.id?f[b.route.id]:void 0,x=b.route.errorElement||tx,h&&(p<0&&_===0?($y("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):p===_&&(E=!0,C=b.route.hydrateFallbackElement||null)));let j=t.concat(u.slice(0,_+1)),N=()=>{let L;return S?L=x:E?L=C:b.route.Component?L=R.createElement(b.route.Component,null):b.route.element?L=b.route.element:L=v,R.createElement(rx,{match:b,routeContext:{outlet:v,matches:j,isDataRoute:a!=null},children:L})};return a&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?R.createElement(My,{location:a.location,revalidation:a.revalidation,component:x,error:S,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:m}):N()},null)}function Dd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ix(r){let t=R.useContext(Hi);return Ze(t,Dd(r)),t}function sx(r){let t=R.useContext(tu);return Ze(t,Dd(r)),t}function lx(r){let t=R.useContext(Vn);return Ze(t,Dd(r)),t}function Id(r){let t=lx(r),a=t.matches[t.matches.length-1];return Ze(a.route.id,`${r} can only be used on routes that contain a unique "id"`),a.route.id}function ox(){return Id("useRouteId")}function ux(){let r=R.useContext(Ud),t=sx("useRouteError"),a=Id("useRouteError");return r!==void 0?r:t.errors?.[a]}function cx(){let{router:r}=ix("useNavigate"),t=Id("useNavigate"),a=R.useRef(!1);return Iy(()=>{a.current=!0}),R.useCallback(async(o,u={})=>{nn(a.current,Dy),a.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var xv={};function $y(r,t,a){!t&&!xv[r]&&(xv[r]=!0,nn(!1,a))}R.memo(fx);function fx({routes:r,future:t,state:a,onError:s}){return Ly(r,void 0,a,s,t)}function Ui({to:r,replace:t,state:a,relative:s}){Ze(Pi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=R.useContext(_n);nn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=R.useContext(Vn),{pathname:f}=xr(),h=qi(),p=kd(r,Nd(u),f,s==="path"),m=JSON.stringify(p);return R.useEffect(()=>{h(JSON.parse(m),{replace:t,state:a,relative:s})},[h,m,s,t,a]),null}function WA(r){return ZS(r.context)}function Ut(r){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dx({basename:r="/",children:t=null,location:a,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Ze(!Pi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),p=R.useMemo(()=>({basename:h,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[h,o,u,f]);typeof a=="string"&&(a=Ua(a));let{pathname:m="/",search:v="",hash:b="",state:_=null,key:S="default"}=a,E=R.useMemo(()=>{let x=Sr(m,h);return x==null?null:{location:{pathname:x,search:v,hash:b,state:_,key:S},navigationType:s}},[h,m,v,b,_,S,s]);return nn(E!=null,`<Router basename="${h}"> is not able to match the URL "${m}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:R.createElement(_n.Provider,{value:p},R.createElement(ol.Provider,{children:t,value:E}))}function hx({children:r,location:t}){return WS(rd(r),t)}function rd(r,t=[]){let a=[];return R.Children.forEach(r,(s,o)=>{if(!R.isValidElement(s))return;let u=[...t,o];if(s.type===R.Fragment){a.push.apply(a,rd(s.props.children,u));return}Ze(s.type===Ut,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=rd(s.props.children,u)),a.push(f)}),a}var Ho="get",Po="application/x-www-form-urlencoded";function nu(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function px(r){return nu(r)&&r.tagName.toLowerCase()==="button"}function mx(r){return nu(r)&&r.tagName.toLowerCase()==="form"}function gx(r){return nu(r)&&r.tagName.toLowerCase()==="input"}function vx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function yx(r,t){return r.button===0&&(!t||t==="_self")&&!vx(r)}function ad(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((t,a)=>{let s=r[a];return t.concat(Array.isArray(s)?s.map(o=>[a,o]):[[a,s]])},[]))}function bx(r,t){let a=ad(r);return t&&t.forEach((s,o)=>{a.has(o)||t.getAll(o).forEach(u=>{a.append(o,u)})}),a}var ko=null;function wx(){if(ko===null)try{new FormData(document.createElement("form"),0),ko=!1}catch{ko=!0}return ko}var _x=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Df(r){return r!=null&&!_x.has(r)?(nn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Po}"`),null):r}function Sx(r,t){let a,s,o,u,f;if(mx(r)){let h=r.getAttribute("action");s=h?Sr(h,t):null,a=r.getAttribute("method")||Ho,o=Df(r.getAttribute("enctype"))||Po,u=new FormData(r)}else if(px(r)||gx(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||h.getAttribute("action");if(s=p?Sr(p,t):null,a=r.getAttribute("formmethod")||h.getAttribute("method")||Ho,o=Df(r.getAttribute("formenctype"))||Df(h.getAttribute("enctype"))||Po,u=new FormData(h,r),!wx()){let{name:m,type:v,value:b}=r;if(v==="image"){let _=m?`${m}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else m&&u.append(m,b)}}else{if(nu(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Ho,s=null,o=Po,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:a.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ld(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function xx(r,t,a,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&Sr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Ex(r,t){if(r.id in t)return t[r.id];try{let a=await import(r.module);return t[r.id]=a,a}catch(a){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Tx(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ox(r,t,a){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await Ex(u,a);return f.links?f.links():[]}return[]}));return Rx(s.flat(1).filter(Tx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ev(r,t,a,s,o,u){let f=(p,m)=>a[m]?p.route.id!==a[m].route.id:!0,h=(p,m)=>a[m].pathname!==p.pathname||a[m].route.path?.endsWith("*")&&a[m].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,m)=>f(p,m)||h(p,m)):u==="data"?t.filter((p,m)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Ax(r,t,{includeHydrateFallback:a}={}){return Cx(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Cx(r){return[...new Set(r)]}function jx(r){let t={},a=Object.keys(r).sort();for(let s of a)t[s]=r[s];return t}function Rx(r,t){let a=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(jx(o));return a.has(u)||(a.add(u),s.push({key:u,link:o})),s},[])}function zy(){let r=R.useContext(Hi);return Ld(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Nx(){let r=R.useContext(tu);return Ld(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Md=R.createContext(void 0);Md.displayName="FrameworkContext";function By(){let r=R.useContext(Md);return Ld(r,"You must render this element inside a <HydratedRouter> element"),r}function kx(r,t){let a=R.useContext(Md),[s,o]=R.useState(!1),[u,f]=R.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:b}=t,_=R.useRef(null);R.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let x=j=>{j.forEach(N=>{f(N.isIntersecting)})},C=new IntersectionObserver(x,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[r]),R.useEffect(()=>{if(s){let x=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(x)}}},[s]);let S=()=>{o(!0)},E=()=>{o(!1),f(!1)};return a?r!=="intent"?[u,_,{}]:[u,_,{onFocus:qs(h,S),onBlur:qs(p,E),onMouseEnter:qs(m,S),onMouseLeave:qs(v,E),onTouchStart:qs(b,S)}]:[!1,_,{}]}function qs(r,t){return a=>{r&&r(a),a.defaultPrevented||t(a)}}function Ux({page:r,...t}){let{router:a}=zy(),s=R.useMemo(()=>Ty(a.routes,r,a.basename),[a.routes,r,a.basename]);return s?R.createElement(Ix,{page:r,matches:s,...t}):null}function Dx(r){let{manifest:t,routeModules:a}=By(),[s,o]=R.useState([]);return R.useEffect(()=>{let u=!1;return Ox(r,t,a).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,a]),s}function Ix({page:r,matches:t,...a}){let s=xr(),{future:o,manifest:u,routeModules:f}=By(),{basename:h}=zy(),{loaderData:p,matches:m}=Nx(),v=R.useMemo(()=>Ev(r,t,m,u,s,"data"),[r,t,m,u,s]),b=R.useMemo(()=>Ev(r,t,m,u,s,"assets"),[r,t,m,u,s]),_=R.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let x=new Set,C=!1;if(t.forEach(N=>{let L=u.routes[N.route.id];!L||!L.hasLoader||(!v.some($=>$.route.id===N.route.id)&&N.route.id in p&&f[N.route.id]?.shouldRevalidate||L.hasClientLoader?C=!0:x.add(N.route.id))}),x.size===0)return[];let j=xx(r,h,o.unstable_trailingSlashAwareDataRequests,"data");return C&&x.size>0&&j.searchParams.set("_routes",t.filter(N=>x.has(N.route.id)).map(N=>N.route.id).join(",")),[j.pathname+j.search]},[h,o.unstable_trailingSlashAwareDataRequests,p,s,u,v,t,r,f]),S=R.useMemo(()=>Ax(b,u),[b,u]),E=Dx(b);return R.createElement(R.Fragment,null,_.map(x=>R.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...a})),S.map(x=>R.createElement("link",{key:x,rel:"modulepreload",href:x,...a})),E.map(({key:x,link:C})=>R.createElement("link",{key:x,nonce:a.nonce,...C})))}function Lx(...r){return t=>{r.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var Mx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mx&&(window.__reactRouterVersion="7.12.0")}catch{}function $x({basename:r,children:t,unstable_useTransitions:a,window:s}){let o=R.useRef();o.current==null&&(o.current=mS({window:s,v5Compat:!0}));let u=o.current,[f,h]=R.useState({action:u.action,location:u.location}),p=R.useCallback(m=>{a===!1?h(m):R.startTransition(()=>h(m))},[a]);return R.useLayoutEffect(()=>u.listen(p),[u,p]),R.createElement(dx,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:a})}var Hy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Py=R.forwardRef(function({onClick:t,discover:a="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:h,target:p,to:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...S},E){let{basename:x,unstable_useTransitions:C}=R.useContext(_n),j=typeof m=="string"&&Hy.test(m),N=Ry(m,x);m=N.to;let L=YS(m,{relative:o}),[$,Y,G]=kx(s,S),F=Px(m,{replace:f,state:h,target:p,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:_,unstable_useTransitions:C});function le(de){t&&t(de),de.defaultPrevented||F(de)}let oe=R.createElement("a",{...S,...G,href:N.absoluteURL||L,onClick:N.isExternal||u?t:le,ref:Lx(E,Y),target:p,"data-discover":!j&&a==="render"?"true":void 0});return $&&!j?R.createElement(R.Fragment,null,oe,R.createElement(Ux,{page:L})):oe});Py.displayName="Link";var zx=R.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:h,children:p,...m},v){let b=ul(f,{relative:m.relative}),_=xr(),S=R.useContext(tu),{navigator:E,basename:x}=R.useContext(_n),C=S!=null&&Jx(b)&&h===!0,j=E.encodeLocation?E.encodeLocation(b).pathname:b.pathname,N=_.pathname,L=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;a||(N=N.toLowerCase(),L=L?L.toLowerCase():null,j=j.toLowerCase()),L&&x&&(L=Sr(L,x)||L);const $=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let Y=N===j||!o&&N.startsWith(j)&&N.charAt($)==="/",G=L!=null&&(L===j||!o&&L.startsWith(j)&&L.charAt(j.length)==="/"),F={isActive:Y,isPending:G,isTransitioning:C},le=Y?t:void 0,oe;typeof s=="function"?oe=s(F):oe=[s,Y?"active":null,G?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let de=typeof u=="function"?u(F):u;return R.createElement(Py,{...m,"aria-current":le,className:oe,ref:v,style:de,to:f,viewTransition:h},typeof p=="function"?p(F):p)});zx.displayName="NavLink";var Bx=R.forwardRef(({discover:r="render",fetcherKey:t,navigate:a,reloadDocument:s,replace:o,state:u,method:f=Ho,action:h,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...S},E)=>{let{unstable_useTransitions:x}=R.useContext(_n),C=Gx(),j=Fx(h,{relative:m}),N=f.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&Hy.test(h),$=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let G=Y.nativeEvent.submitter,F=G?.getAttribute("formmethod")||f,le=()=>C(G||Y.currentTarget,{fetcherKey:t,method:F,navigate:a,replace:o,state:u,relative:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_});x&&a!==!1?R.startTransition(()=>le()):le()};return R.createElement("form",{ref:E,method:N,action:j,onSubmit:s?p:$,...S,"data-discover":!L&&r==="render"?"true":void 0})});Bx.displayName="Form";function Hx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qy(r){let t=R.useContext(Hi);return Ze(t,Hx(r)),t}function Px(r,{target:t,replace:a,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:p}={}){let m=qi(),v=xr(),b=ul(r,{relative:u});return R.useCallback(_=>{if(yx(_,t)){_.preventDefault();let S=a!==void 0?a:el(v)===el(b),E=()=>m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:h});p?R.startTransition(()=>E()):E()}},[v,m,b,a,s,t,r,o,u,f,h,p])}function Vy(r){nn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=R.useRef(ad(r)),a=R.useRef(!1),s=xr(),o=R.useMemo(()=>bx(s.search,a.current?null:t.current),[s.search]),u=qi(),f=R.useCallback((h,p)=>{const m=ad(typeof h=="function"?h(new URLSearchParams(o)):h);a.current=!0,u("?"+m,p)},[u,o]);return[o,f]}var qx=0,Vx=()=>`__${String(++qx)}__`;function Gx(){let{router:r}=qy("useSubmit"),{basename:t}=R.useContext(_n),a=ox(),s=r.fetch,o=r.navigate;return R.useCallback(async(u,f={})=>{let{action:h,method:p,encType:m,formData:v,body:b}=Sx(u,t);if(f.navigate===!1){let _=f.fetcherKey||Vx();await s(_,a,f.action||h,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:b,formMethod:f.method||p,formEncType:f.encType||m,flushSync:f.flushSync})}else await o(f.action||h,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:b,formMethod:f.method||p,formEncType:f.encType||m,replace:f.replace,state:f.state,fromRouteId:a,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,a])}function Fx(r,{relative:t}={}){let{basename:a}=R.useContext(_n),s=R.useContext(Vn);Ze(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ul(r||".",{relative:t})},f=xr();if(r==null){u.search=f.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(v=>v==="")){h.delete("index"),p.filter(b=>b).forEach(b=>h.append("index",b));let v=h.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:wr([a,u.pathname])),el(u)}function Jx(r,{relative:t}={}){let a=R.useContext(ky);Ze(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=qy("useViewTransitionState"),o=ul(r,{relative:t});if(!a.isTransitioning)return!1;let u=Sr(a.currentLocation.pathname,s)||a.currentLocation.pathname,f=Sr(a.nextLocation.pathname,s)||a.nextLocation.pathname;return Jo(o.pathname,f)!=null||Jo(o.pathname,u)!=null}var id=function(r,t){return id=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])},id(r,t)};function be(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");id(r,t);function a(){this.constructor=r}r.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var Je=function(){return Je=Object.assign||function(t){for(var a,s=1,o=arguments.length;s<o;s++){a=arguments[s];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(t[u]=a[u])}return t},Je.apply(this,arguments)};function ru(r,t){var a={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(a[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(a[s[o]]=r[s[o]]);return a}function J(r,t,a,s){function o(u){return u instanceof a?u:new a(function(f){f(u)})}return new(a||(a=Promise))(function(u,f){function h(v){try{m(s.next(v))}catch(b){f(b)}}function p(v){try{m(s.throw(v))}catch(b){f(b)}}function m(v){v.done?u(v.value):o(v.value).then(h,p)}m((s=s.apply(r,t||[])).next())})}function K(r,t){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=h(0),f.throw=h(1),f.return=h(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(m){return function(v){return p([m,v])}}function p(m){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(a=0)),a;)try{if(s=1,o&&(u=m[0]&2?o.return:m[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,m[1])).done)return u;switch(o=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return a.label++,{value:m[1],done:!1};case 5:a.label++,o=m[1],m=[0];continue;case 7:m=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){a=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){a.label=m[1];break}if(m[0]===6&&a.label<u[1]){a.label=u[1],u=m;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(m);break}u[2]&&a.ops.pop(),a.trys.pop();continue}m=t.call(r,a)}catch(v){m=[6,v],o=0}finally{s=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function cl(r){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&r[t],s=0;if(a)return a.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(r,t){var a=typeof Symbol=="function"&&r[Symbol.iterator];if(!a)return r;var s=a.call(r),o,u=[],f;try{for(;(t===void 0||t-- >0)&&!(o=s.next()).done;)u.push(o.value)}catch(h){f={error:h}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(f)throw f.error}}return u}function ut(r,t,a){if(a||arguments.length===2)for(var s=0,o=t.length,u;s<o;s++)(u||!(s in t))&&(u||(u=Array.prototype.slice.call(t,0,s)),u[s]=t[s]);return r.concat(u||Array.prototype.slice.call(t))}function Kx(r,t){return Object.defineProperty?Object.defineProperty(r,"raw",{value:t}):r.raw=t,r}const Yx=r=>r?(...t)=>r(...t):(...t)=>fetch(...t);class $d extends Error{constructor(t,a="FunctionsError",s){super(t),this.name=a,this.context=s}}class Xx extends $d{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Tv extends $d{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ov extends $d{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var sd;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(sd||(sd={}));class Qx{constructor(t,{headers:a={},customFetch:s,region:o=sd.Any}={}){this.url=t,this.headers=a,this.region=o,this.fetch=Yx(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return J(this,arguments,void 0,function*(a,s={}){var o;let u,f;try{const{headers:h,method:p,body:m,signal:v,timeout:b}=s;let _={},{region:S}=s;S||(S=this.region);const E=new URL(`${this.url}/${a}`);S&&S!=="any"&&(_["x-region"]=S,E.searchParams.set("forceFunctionRegion",S));let x;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",x=m):typeof m=="string"?(_["Content-Type"]="text/plain",x=m):typeof FormData<"u"&&m instanceof FormData?x=m:(_["Content-Type"]="application/json",x=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?x=JSON.stringify(m):x=m;let C=v;b&&(f=new AbortController,u=setTimeout(()=>f.abort(),b),v?(C=f.signal,v.addEventListener("abort",()=>f.abort())):C=f.signal);const j=yield this.fetch(E.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),h),body:x,signal:C}).catch(Y=>{throw new Xx(Y)}),N=j.headers.get("x-relay-error");if(N&&N==="true")throw new Tv(j);if(!j.ok)throw new Ov(j);let L=((o=j.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),$;return L==="application/json"?$=yield j.json():L==="application/octet-stream"||L==="application/pdf"?$=yield j.blob():L==="text/event-stream"?$=j:L==="multipart/form-data"?$=yield j.formData():$=yield j.text(),{data:$,error:null,response:j}}catch(h){return{data:null,error:h,response:h instanceof Ov||h instanceof Tv?h.context:void 0}}finally{u&&clearTimeout(u)}})}}var Zx=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},Wx=class{constructor(r){var t,a;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(t=r.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=r.signal,this.isMaybeSingle=(a=r.isMaybeSingle)!==null&&a!==void 0?a:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,t){return this.headers=new Headers(this.headers),this.headers.set(r,t),this}then(r,t){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let f=null,h=null,p=null,m=u.status,v=u.statusText;if(u.ok){var b,_;if(a.method!=="HEAD"){var S;const j=await u.text();j===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((S=a.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?h=j:h=JSON.parse(j))}const x=(b=a.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),C=(_=u.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");x&&C&&C.length>1&&(p=parseInt(C[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(h)&&(h.length>1?(f={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,m=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var E;const x=await u.text();try{f=JSON.parse(x),Array.isArray(f)&&u.status===404&&(h=[],f=null,m=200,v="OK")}catch{u.status===404&&x===""?(m=204,v="No Content"):f={message:x}}if(f&&a.isMaybeSingle&&(!(f==null||(E=f.details)===null||E===void 0)&&E.includes("0 rows"))&&(f=null,m=200,v="OK"),f&&a.shouldThrowOnError)throw new Zx(f)}return{error:f,data:h,count:p,status:m,statusText:v}});return this.shouldThrowOnError||(o=o.catch(u=>{var f;let h="";const p=u?.cause;if(p){var m,v,b,_;const E=(m=p?.message)!==null&&m!==void 0?m:"",x=(v=p?.code)!==null&&v!==void 0?v:"";h=`${(b=u?.name)!==null&&b!==void 0?b:"FetchError"}: ${u?.message}`,h+=`

Caused by: ${(_=p?.name)!==null&&_!==void 0?_:"Error"}: ${E}`,x&&(h+=` (${x})`),p?.stack&&(h+=`
${p.stack}`)}else{var S;h=(S=u?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(r,t)}returns(){return this}overrideTypes(){return this}},e1=class extends Wx{select(r){let t=!1;const a=(r??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:t=!0,nullsFirst:a,foreignTable:s,referencedTable:o=s}={}){const u=o?`${o}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${r}.${t?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:t,referencedTable:a=t}={}){const s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${r}`),this}range(r,t,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${r}`),this.url.searchParams.set(u,`${t-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:t=!1,settings:a=!1,buffers:s=!1,wal:o=!1,format:u="text"}={}){var f;const h=[r?"analyze":null,t?"verbose":null,a?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Av=new RegExp("[,()]");var Ci=class extends e1{eq(r,t){return this.url.searchParams.append(r,`eq.${t}`),this}neq(r,t){return this.url.searchParams.append(r,`neq.${t}`),this}gt(r,t){return this.url.searchParams.append(r,`gt.${t}`),this}gte(r,t){return this.url.searchParams.append(r,`gte.${t}`),this}lt(r,t){return this.url.searchParams.append(r,`lt.${t}`),this}lte(r,t){return this.url.searchParams.append(r,`lte.${t}`),this}like(r,t){return this.url.searchParams.append(r,`like.${t}`),this}likeAllOf(r,t){return this.url.searchParams.append(r,`like(all).{${t.join(",")}}`),this}likeAnyOf(r,t){return this.url.searchParams.append(r,`like(any).{${t.join(",")}}`),this}ilike(r,t){return this.url.searchParams.append(r,`ilike.${t}`),this}ilikeAllOf(r,t){return this.url.searchParams.append(r,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(r,t){return this.url.searchParams.append(r,`ilike(any).{${t.join(",")}}`),this}regexMatch(r,t){return this.url.searchParams.append(r,`match.${t}`),this}regexIMatch(r,t){return this.url.searchParams.append(r,`imatch.${t}`),this}is(r,t){return this.url.searchParams.append(r,`is.${t}`),this}isDistinct(r,t){return this.url.searchParams.append(r,`isdistinct.${t}`),this}in(r,t){const a=Array.from(new Set(t)).map(s=>typeof s=="string"&&Av.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(r,`in.(${a})`),this}notIn(r,t){const a=Array.from(new Set(t)).map(s=>typeof s=="string"&&Av.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(r,`not.in.(${a})`),this}contains(r,t){return typeof t=="string"?this.url.searchParams.append(r,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(r,`cs.{${t.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(t)}`),this}containedBy(r,t){return typeof t=="string"?this.url.searchParams.append(r,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(r,`cd.{${t.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(t)}`),this}rangeGt(r,t){return this.url.searchParams.append(r,`sr.${t}`),this}rangeGte(r,t){return this.url.searchParams.append(r,`nxl.${t}`),this}rangeLt(r,t){return this.url.searchParams.append(r,`sl.${t}`),this}rangeLte(r,t){return this.url.searchParams.append(r,`nxr.${t}`),this}rangeAdjacent(r,t){return this.url.searchParams.append(r,`adj.${t}`),this}overlaps(r,t){return typeof t=="string"?this.url.searchParams.append(r,`ov.${t}`):this.url.searchParams.append(r,`ov.{${t.join(",")}}`),this}textSearch(r,t,{config:a,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(r,`${o}fts${u}.${t}`),this}match(r){return Object.entries(r).forEach(([t,a])=>{this.url.searchParams.append(t,`eq.${a}`)}),this}not(r,t,a){return this.url.searchParams.append(r,`not.${t}.${a}`),this}or(r,{foreignTable:t,referencedTable:a=t}={}){const s=a?`${a}.or`:"or";return this.url.searchParams.append(s,`(${r})`),this}filter(r,t,a){return this.url.searchParams.append(r,`${t}.${a}`),this}},t1=class{constructor(r,{headers:t={},schema:a,fetch:s}){this.url=r,this.headers=new Headers(t),this.schema=a,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,t){const{head:a=!1,count:s}=t??{},o=a?"HEAD":"GET";let u=!1;const f=(r??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join(""),{url:h,headers:p}=this.cloneRequestState();return h.searchParams.set("select",f),s&&p.append("Prefer",`count=${s}`),new Ci({method:o,url:h,headers:p,schema:this.schema,fetch:this.fetch})}insert(r,{count:t,defaultToNull:a=!0}={}){var s;const o="POST",{url:u,headers:f}=this.cloneRequestState();if(t&&f.append("Prefer",`count=${t}`),a||f.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(h.length>0){const p=[...new Set(h)].map(m=>`"${m}"`);u.searchParams.set("columns",p.join(","))}}return new Ci({method:o,url:u,headers:f,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(r,{onConflict:t,ignoreDuplicates:a=!1,count:s,defaultToNull:o=!0}={}){var u;const f="POST",{url:h,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),t!==void 0&&h.searchParams.set("on_conflict",t),s&&p.append("Prefer",`count=${s}`),o||p.append("Prefer","missing=default"),Array.isArray(r)){const m=r.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(m.length>0){const v=[...new Set(m)].map(b=>`"${b}"`);h.searchParams.set("columns",v.join(","))}}return new Ci({method:f,url:h,headers:p,schema:this.schema,body:r,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(r,{count:t}={}){var a;const s="PATCH",{url:o,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new Ci({method:s,url:o,headers:u,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:r}={}){var t;const a="DELETE",{url:s,headers:o}=this.cloneRequestState();return r&&o.append("Prefer",`count=${r}`),new Ci({method:a,url:s,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},n1=class Gy{constructor(t,{headers:a={},schema:s,fetch:o}={}){this.url=t,this.headers=new Headers(a),this.schemaName=s,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new t1(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Gy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,a={},{head:s=!1,get:o=!1,count:u}={}){var f;let h;const p=new URL(`${this.url}/rpc/${t}`);let m;const v=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(v)),b=s&&Object.values(a).some(v);b?(h="POST",m=a):s||o?(h=s?"HEAD":"GET",Object.entries(a).filter(([S,E])=>E!==void 0).map(([S,E])=>[S,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([S,E])=>{p.searchParams.append(S,E)})):(h="POST",m=a);const _=new Headers(this.headers);return b?_.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&_.set("Prefer",`count=${u}`),new Ci({method:h,url:p,headers:_,schema:this.schemaName,body:m,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class r1{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const a=globalThis.process;if(a){const s=a.versions;if(s&&s.node){const o=s.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const s=this.getWebSocketConstructor();return new s(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const a1="2.90.1",i1=`realtime-js/${a1}`,Fy="1.0.0",s1="2.0.0",Cv=Fy,ld=1e4,l1=1e3,o1=100;var Zr;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Zr||(Zr={}));var yt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(yt||(yt={}));var Pn;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Pn||(Pn={}));var od;(function(r){r.websocket="websocket"})(od||(od={}));var Ta;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Ta||(Ta={}));class u1{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,a){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return a(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var a;return this._isArrayBuffer((a=t.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var a,s;const o=(s=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var a,s;const o=(s=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&s!==void 0?s:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(t,a,s){var o,u;const f=t.topic,h=(o=t.ref)!==null&&o!==void 0?o:"",p=(u=t.join_ref)!==null&&u!==void 0?u:"",m=t.payload.event,v=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+h.length+f.length+m.length+b.length,S=new ArrayBuffer(this.HEADER_LENGTH+_);let E=new DataView(S),x=0;E.setUint8(x++,this.KINDS.userBroadcastPush),E.setUint8(x++,p.length),E.setUint8(x++,h.length),E.setUint8(x++,f.length),E.setUint8(x++,m.length),E.setUint8(x++,b.length),E.setUint8(x++,a),Array.from(p,j=>E.setUint8(x++,j.charCodeAt(0))),Array.from(h,j=>E.setUint8(x++,j.charCodeAt(0))),Array.from(f,j=>E.setUint8(x++,j.charCodeAt(0))),Array.from(m,j=>E.setUint8(x++,j.charCodeAt(0))),Array.from(b,j=>E.setUint8(x++,j.charCodeAt(0)));var C=new Uint8Array(S.byteLength+s.byteLength);return C.set(new Uint8Array(S),0),C.set(new Uint8Array(s),S.byteLength),C.buffer}decode(t,a){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return a(s)}if(typeof t=="string"){const s=JSON.parse(t),[o,u,f,h,p]=s;return a({join_ref:o,ref:u,topic:f,event:h,payload:p})}return a({})}_binaryDecode(t){const a=new DataView(t),s=a.getUint8(0),o=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,a,o)}_decodeUserBroadcast(t,a,s){const o=a.getUint8(1),u=a.getUint8(2),f=a.getUint8(3),h=a.getUint8(4);let p=this.HEADER_LENGTH+4;const m=s.decode(t.slice(p,p+o));p=p+o;const v=s.decode(t.slice(p,p+u));p=p+u;const b=s.decode(t.slice(p,p+f));p=p+f;const _=t.slice(p,t.byteLength),S=h===this.JSON_ENCODING?JSON.parse(s.decode(_)):_,E={type:this.BROADCAST_EVENT,event:v,payload:S};return f>0&&(E.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var a;return t instanceof ArrayBuffer||((a=t?.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(t,a){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>a.includes(s)))}}class Jy{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ve||(Ve={}));const jv=(r,t,a={})=>{var s;const o=(s=a.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((u,f)=>(u[f]=c1(f,r,t,o),u),{}):{}},c1=(r,t,a,s)=>{const o=t.find(h=>h.name===r),u=o?.type,f=a[r];return u&&!s.includes(u)?Ky(u,f):ud(f)},Ky=(r,t)=>{if(r.charAt(0)==="_"){const a=r.slice(1,r.length);return p1(t,a)}switch(r){case Ve.bool:return f1(t);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return d1(t);case Ve.json:case Ve.jsonb:return h1(t);case Ve.timestamp:return m1(t);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return ud(t);default:return ud(t)}},ud=r=>r,f1=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},d1=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},h1=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},p1=(r,t)=>{if(typeof r!="string")return r;const a=r.length-1,s=r[a];if(r[0]==="{"&&s==="}"){let u;const f=r.slice(1,a);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(h=>Ky(t,h))}return r},m1=r=>typeof r=="string"?r.replace(" ","T"):r,Yy=r=>{const t=new URL(r);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class If{constructor(t,a,s={},o=ld){this.channel=t,this.event=a,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var s;return this._hasReceived(t)&&a((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rv;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Rv||(Rv={}));class Ks{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:u,onLeave:f,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ks.syncState(this.state,o,u,f),this.pendingDiffs.forEach(p=>{this.state=Ks.syncDiff(this.state,p,u,f)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},o=>{const{onJoin:u,onLeave:f,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ks.syncDiff(this.state,o,u,f),h())}),this.onJoin((o,u,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:f})}),this.onLeave((o,u,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,s,o){const u=this.cloneDeep(t),f=this.transformState(a),h={},p={};return this.map(u,(m,v)=>{f[m]||(p[m]=v)}),this.map(f,(m,v)=>{const b=u[m];if(b){const _=v.map(C=>C.presence_ref),S=b.map(C=>C.presence_ref),E=v.filter(C=>S.indexOf(C.presence_ref)<0),x=b.filter(C=>_.indexOf(C.presence_ref)<0);E.length>0&&(h[m]=E),x.length>0&&(p[m]=x)}else h[m]=v}),this.syncDiff(u,{joins:h,leaves:p},s,o)}static syncDiff(t,a,s,o){const{joins:u,leaves:f}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(u,(h,p)=>{var m;const v=(m=t[h])!==null&&m!==void 0?m:[];if(t[h]=this.cloneDeep(p),v.length>0){const b=t[h].map(S=>S.presence_ref),_=v.filter(S=>b.indexOf(S.presence_ref)<0);t[h].unshift(..._)}s(h,v,p)}),this.map(f,(h,p)=>{let m=t[h];if(!m)return;const v=p.map(b=>b.presence_ref);m=m.filter(b=>v.indexOf(b.presence_ref)<0),t[h]=m,o(h,m,p),m.length===0&&delete t[h]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(s=>a(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,s)=>{const o=t[s];return"metas"in o?a[s]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[s]=o,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nv;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Nv||(Nv={}));var Ys;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ys||(Ys={}));var br;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(br||(br={}));class Di{constructor(t,a={config:{}},s){var o,u;if(this.topic=t,this.params=a,this.socket=s,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new If(this,Pn.join,this.params,this.timeout),this.rejoinTimer=new Jy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pn.reply,{},(f,h)=>{this._trigger(this._replyEventName(h),f)}),this.presence=new Ks(this),this.broadcastEndpointURL=Yy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var s,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==yt.closed){const{config:{broadcast:f,presence:h,private:p}}=this.params,m=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(S=>S.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[Ys.PRESENCE]&&this.bindings[Ys.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},_={broadcast:f,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(S=>t?.(br.CHANNEL_ERROR,S)),this._onClose(()=>t?.(br.CLOSED)),this.updateJoinPayload(Object.assign({config:_},b)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:S})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){t?.(br.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,C=(E=x?.length)!==null&&E!==void 0?E:0,j=[];for(let N=0;N<C;N++){const L=x[N],{filter:{event:$,schema:Y,table:G,filter:F}}=L,le=S&&S[N];if(le&&le.event===$&&Di.isFilterValueEqual(le.schema,Y)&&Di.isFilterValueEqual(le.table,G)&&Di.isFilterValueEqual(le.filter,F))j.push(Object.assign(Object.assign({},L),{id:le.id}));else{this.unsubscribe(),this.state=yt.errored,t?.(br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(br.SUBSCRIBED);return}}).receive("error",S=>{this.state=yt.errored,t?.(br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t?.(br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,s){return this.state===yt.joined&&t===Ys.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,a,s)}async httpSend(t,a,s={}){var o;if(a==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let p=h.statusText;try{const m=await h.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(t,a={}){var s,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:f}=t,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,h,p;const m=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(h=(f=this.params)===null||f===void 0?void 0:f.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=yt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new If(this,Pn.leave,{},t),s.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yt.closed,this.bindings={}}async _fetchWithTimeout(t,a,s){const o=new AbortController,u=setTimeout(()=>o.abort(),s),f=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:o.signal}));return clearTimeout(u),f}_push(t,a,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new If(this,t,a,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>o1){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,s){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,s){var o,u;const f=t.toLocaleLowerCase(),{close:h,error:p,leave:m,join:v}=Pn;if(s&&[h,p,m,v].indexOf(f)>=0&&s!==this._joinRef())return;let _=this._onMessage(f,a,s);if(a&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var E,x,C;return((E=S.filter)===null||E===void 0?void 0:E.event)==="*"||((C=(x=S.filter)===null||x===void 0?void 0:x.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===f}).map(S=>S.callback(_,s)):(u=this.bindings[f])===null||u===void 0||u.filter(S=>{var E,x,C,j,N,L,$,Y;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const G=S.id,F=(E=S.filter)===null||E===void 0?void 0:E.event;return G&&((x=a.ids)===null||x===void 0?void 0:x.includes(G))&&(F==="*"||F?.toLocaleLowerCase()===((C=a.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))&&(!(!((j=S.filter)===null||j===void 0)&&j.table)||S.filter.table===((N=a.data)===null||N===void 0?void 0:N.table))}else{const G=($=(L=S?.filter)===null||L===void 0?void 0:L.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return G==="*"||G===((Y=a?.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof _=="object"&&"ids"in _){const E=_.data,{schema:x,table:C,commit_timestamp:j,type:N,errors:L}=E;_=Object.assign(Object.assign({},{schema:x,table:C,commit_timestamp:j,eventType:N,new:{},old:{},errors:L}),this._getPayloadRecords(E))}S.callback(_,s)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,s){const o=t.toLocaleLowerCase(),u={type:o,filter:a,callback:s};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(t,a){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===s&&Di.isEqual(o.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const s in t)if(t[s]!==a[s])return!1;return!0}static isFilterValueEqual(t,a){return(t??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pn.close,{},t)}_onError(t){this._on(Pn.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=jv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=jv(t.columns,t.old_record)),a}}const Lf=()=>{},Uo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},g1=[1e3,2e3,5e3,1e4],v1=1e4,y1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class b1{constructor(t,a){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ld,this.transport=null,this.heartbeatIntervalMs=Uo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lf,this.ref=0,this.reconnectTimer=null,this.vsn=Cv,this.logger=Lf,this.conn=null,this.sendBuffer=[],this.serializer=new u1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((s=a?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${od.websocket}`,this.httpEndpoint=Yy(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=r1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,s){this.logger(t,a,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Zr.connecting:return Ta.Connecting;case Zr.open:return Ta.Open;case Zr.closing:return Ta.Closing;default:return Ta.Closed}}isConnected(){return this.connectionState()===Ta.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const s=`realtime:${t}`,o=this.getChannels().find(u=>u.topic===s);if(o)return o;{const u=new Di(`realtime:${t}`,a,this);return this.channels.push(u),u}}push(t){const{topic:a,event:s,payload:o,ref:u}=t,f=()=>{this.encode(t,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${a} ${s} (${u})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(l1,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Uo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply"&&a.ref&&a.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error",m)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:u,ref:f}=a,h=f?`(${f})`:"",p=u.status||"";this.log("receive",`${p} ${s} ${o} ${h}`.trim(),u),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(o,u,f)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Zr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zr.open||this.conn.readyState===Zr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pn.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const s=t.match(/\?/)?"&":"?",o=new URLSearchParams(a);return`${t}${s}${o}`}_workerObjectUrl(t){let a;if(t)a=t;else{const s=new Blob([y1],{type:"application/javascript"});a=URL.createObjectURL(s)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a,s=!1;if(t)a=t,s=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),a=this.accessTokenValue}else a=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(o=>{const u={access_token:a,version:i1};a&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(Pn.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(a)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Jy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Uo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,s,o,u,f,h,p,m,v,b,_,S;switch(this.transport=(a=t?.transport)!==null&&a!==void 0?a:null,this.timeout=(s=t?.timeout)!==null&&s!==void 0?s:ld,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Uo.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=t?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(h=t?.heartbeatCallback)!==null&&h!==void 0?h:Lf,this.vsn=(p=t?.vsn)!==null&&p!==void 0?p:Cv,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t?.reconnectAfterMs)!==null&&m!==void 0?m:(E=>g1[E-1]||v1),this.vsn){case Fy:this.encode=(v=t?.encode)!==null&&v!==void 0?v:((E,x)=>x(JSON.stringify(E))),this.decode=(b=t?.decode)!==null&&b!==void 0?b:((E,x)=>x(JSON.parse(E)));break;case s1:this.encode=(_=t?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(S=t?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var tl=class extends Error{constructor(r,t){super(r),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function w1(r,t,a){const s=new URL(t,r);if(a)for(const[o,u]of Object.entries(a))u!==void 0&&s.searchParams.set(o,u);return s.toString()}async function _1(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function S1(r){const t=r.fetchImpl??globalThis.fetch;return{async request({method:a,path:s,query:o,body:u,headers:f}){const h=w1(r.baseUrl,s,o),p=await _1(r.auth),m=await t(h,{method:a,headers:{...u?{"Content-Type":"application/json"}:{},...p,...f},body:u?JSON.stringify(u):void 0}),v=await m.text(),b=(m.headers.get("content-type")||"").includes("application/json"),_=b&&v?JSON.parse(v):v;if(!m.ok){const S=b?_:void 0,E=S?.error;throw new tl(E?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:E?.type,icebergCode:E?.code,details:S})}return{status:m.status,headers:m.headers,data:_}}}}function Do(r){return r.join("")}var x1=class{constructor(r,t=""){this.client=r,this.prefix=t}async listNamespaces(r){const t=r?{parent:Do(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(r,t){const a={namespace:r.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Do(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Do(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Do(r.namespace)}`}),!0}catch(t){if(t instanceof tl&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(r,t){try{return await this.createNamespace(r,t)}catch(a){if(a instanceof tl&&a.status===409)return;throw a}}};function _i(r){return r.join("")}var E1=class{constructor(r,t="",a){this.client=r,this.prefix=t,this.accessDelegation=a}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_i(r.namespace)}/tables`})).data.identifiers}async createTable(r,t){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_i(r.namespace)}/tables`,body:t,headers:a})).data.metadata}async updateTable(r,t){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_i(r.namespace)}/tables/${r.name}`,body:t});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(r,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_i(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(r){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_i(r.namespace)}/tables/${r.name}`,headers:t})).data.metadata}async tableExists(r){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_i(r.namespace)}/tables/${r.name}`,headers:t}),!0}catch(a){if(a instanceof tl&&a.status===404)return!1;throw a}}async createTableIfNotExists(r,t){try{return await this.createTable(r,t)}catch(a){if(a instanceof tl&&a.status===409)return await this.loadTable({namespace:r.namespace,name:t.name});throw a}}},T1=class{constructor(r){let t="v1";r.catalogName&&(t+=`/${r.catalogName}`);const a=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=S1({baseUrl:a,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new x1(this.client,t),this.tableOps=new E1(this.client,t,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,t){return this.namespaceOps.createNamespace(r,t)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,t){return this.tableOps.createTable(r,t)}async updateTable(r,t){return this.tableOps.updateTable(r,t)}async dropTable(r,t){await this.tableOps.dropTable(r,t)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,t){return this.namespaceOps.createNamespaceIfNotExists(r,t)}async createTableIfNotExists(r,t){return this.tableOps.createTableIfNotExists(r,t)}},au=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function We(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var O1=class extends au{constructor(r,t,a){super(r),this.name="StorageApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cd=class extends au{constructor(r,t){super(r),this.name="StorageUnknownError",this.originalError=t}};const zd=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),A1=()=>Response,fd=r=>{if(Array.isArray(r))return r.map(a=>fd(a));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([a,s])=>{const o=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[o]=fd(s)}),t},C1=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},j1=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function nl(r){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(r)}function R1(r,t){if(nl(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,t);if(nl(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function N1(r){var t=R1(r,"string");return nl(t)=="symbol"?t:t+""}function k1(r,t,a){return(t=N1(t))in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}function kv(r,t){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),a.push.apply(a,s)}return a}function se(r){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?kv(Object(a),!0).forEach(function(s){k1(r,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):kv(Object(a)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(a,s))})}return r}const Mf=r=>{var t;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(t=r.error)===null||t===void 0?void 0:t.message)||JSON.stringify(r)},U1=async(r,t,a)=>{r instanceof await A1()&&!a?.noResolveJson?r.json().then(s=>{const o=r.status||500,u=s?.statusCode||o+"";t(new O1(Mf(s),o,u))}).catch(s=>{t(new cd(Mf(s),s))}):t(new cd(Mf(r),r))},D1=(r,t,a,s)=>{const o={method:r,headers:t?.headers||{}};return r==="GET"||!s?o:(C1(s)?(o.headers=se({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(s)):o.body=s,t?.duplex&&(o.duplex=t.duplex),se(se({},o),a))};async function fl(r,t,a,s,o,u){return new Promise((f,h)=>{r(a,D1(t,s,o,u)).then(p=>{if(!p.ok)throw p;return s?.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>U1(p,h,s))})}async function rl(r,t,a,s){return fl(r,"GET",t,a,s)}async function Hn(r,t,a,s,o){return fl(r,"POST",t,s,o,a)}async function dd(r,t,a,s,o){return fl(r,"PUT",t,s,o,a)}async function I1(r,t,a,s){return fl(r,"HEAD",t,se(se({},a),{},{noResolveJson:!0}),s)}async function Bd(r,t,a,s,o){return fl(r,"DELETE",t,s,o,a)}var L1=class{constructor(r,t){this.downloadFn=r,this.shouldThrowOnError=t}then(r,t){return this.execute().then(r,t)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(t){if(r.shouldThrowOnError)throw t;if(We(t))return{data:null,error:t};throw t}}};let Xy;Xy=Symbol.toStringTag;var M1=class{constructor(r,t){this.downloadFn=r,this.shouldThrowOnError=t,this[Xy]="BlobDownloadBuilder",this.promise=null}asStream(){return new L1(this.downloadFn,this.shouldThrowOnError)}then(r,t){return this.getPromise().then(r,t)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(t){if(r.shouldThrowOnError)throw t;if(We(t))return{data:null,error:t};throw t}}};const $1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Uv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var z1=class{constructor(r,t={},a,s){this.shouldThrowOnError=!1,this.url=r,this.headers=t,this.bucketId=a,this.fetch=zd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,t,a,s){var o=this;try{let u;const f=se(se({},Uv),s);let h=se(se({},o.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),p&&u.append("metadata",o.encodeMetadata(p)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.has("cacheControl")||u.append("cacheControl",f.cacheControl),p&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(p))):(u=a,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType,p&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!f.duplex&&(f.duplex="half")),s?.headers&&(h=se(se({},h),s.headers));const m=o._removeEmptyFolders(t),v=o._getFinalPath(m),b=await(r=="PUT"?dd:Hn)(o.fetch,`${o.url}/object/${v}`,u,se({headers:h},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(We(u))return{data:null,error:u};throw u}}async upload(r,t,a){return this.uploadOrUpdate("POST",r,t,a)}async uploadToSignedUrl(r,t,a,s){var o=this;const u=o._removeEmptyFolders(r),f=o._getFinalPath(u),h=new URL(o.url+`/object/upload/sign/${f}`);h.searchParams.set("token",t);try{let p;const m=se({upsert:Uv.upsert},s),v=se(se({},o.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&a instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",a)):typeof FormData<"u"&&a instanceof FormData?(p=a,p.append("cacheControl",m.cacheControl)):(p=a,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType),{data:{path:u,fullPath:(await dd(o.fetch,h.toString(),p,{headers:v})).Key},error:null}}catch(p){if(o.shouldThrowOnError)throw p;if(We(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(r,t){var a=this;try{let s=a._getFinalPath(r);const o=se({},a.headers);t?.upsert&&(o["x-upsert"]="true");const u=await Hn(a.fetch,`${a.url}/object/upload/sign/${s}`,{},{headers:o}),f=new URL(a.url+u.url),h=f.searchParams.get("token");if(!h)throw new au("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:h},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}async update(r,t,a){return this.uploadOrUpdate("PUT",r,t,a)}async move(r,t,a){var s=this;try{return{data:await Hn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:r,destinationKey:t,destinationBucket:a?.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}}async copy(r,t,a){var s=this;try{return{data:{path:(await Hn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:r,destinationKey:t,destinationBucket:a?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}}async createSignedUrl(r,t,a){var s=this;try{let o=s._getFinalPath(r),u=await Hn(s.fetch,`${s.url}/object/sign/${o}`,se({expiresIn:t},a?.transform?{transform:a.transform}:{}),{headers:s.headers});const f=a?.download?`&download=${a.download===!0?"":a.download}`:"";return u={signedUrl:encodeURI(`${s.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}}async createSignedUrls(r,t,a){var s=this;try{const o=await Hn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:r},{headers:s.headers}),u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(f=>se(se({},f),{},{signedUrl:f.signedURL?encodeURI(`${s.url}${f.signedURL}${u}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}}download(r,t){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),o=s?`?${s}`:"",u=this._getFinalPath(r),f=()=>rl(this.fetch,`${this.url}/${a}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new M1(f,this.shouldThrowOnError)}async info(r){var t=this;const a=t._getFinalPath(r);try{return{data:fd(await rl(t.fetch,`${t.url}/object/info/${a}`,{headers:t.headers})),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}async exists(r){var t=this;const a=t._getFinalPath(r);try{return await I1(t.fetch,`${t.url}/object/${a}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(We(s)&&s instanceof cd){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}}getPublicUrl(r,t){const a=this._getFinalPath(r),s=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&s.push(o);const u=typeof t?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(t?.transform||{});f!==""&&s.push(f);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${a}${h}`)}}}async remove(r){var t=this;try{return{data:await Bd(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:r},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(We(a))return{data:null,error:a};throw a}}async list(r,t,a){var s=this;try{const o=se(se(se({},$1),t),{},{prefix:r||""});return{data:await Hn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},a),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}}async listV2(r,t){var a=this;try{const s=se({},r);return{data:await Hn(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,s,{headers:a.headers},t),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const t=[];return r.width&&t.push(`width=${r.width}`),r.height&&t.push(`height=${r.height}`),r.resize&&t.push(`resize=${r.resize}`),r.format&&t.push(`format=${r.format}`),r.quality&&t.push(`quality=${r.quality}`),t.join("&")}};const Qy="2.90.1",Zy={"X-Client-Info":`storage-js/${Qy}`};var B1=class{constructor(r,t={},a,s){this.shouldThrowOnError=!1;const o=new URL(r);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=se(se({},Zy),t),this.fetch=zd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var t=this;try{const a=t.listBucketOptionsToQueryString(r);return{data:await rl(t.fetch,`${t.url}/bucket${a}`,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(We(a))return{data:null,error:a};throw a}}async getBucket(r){var t=this;try{return{data:await rl(t.fetch,`${t.url}/bucket/${r}`,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(We(a))return{data:null,error:a};throw a}}async createBucket(r,t={public:!1}){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/bucket`,{id:r,name:r,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}async updateBucket(r,t){var a=this;try{return{data:await dd(a.fetch,`${a.url}/bucket/${r}`,{id:r,name:r,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}async emptyBucket(r){var t=this;try{return{data:await Hn(t.fetch,`${t.url}/bucket/${r}/empty`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(We(a))return{data:null,error:a};throw a}}async deleteBucket(r){var t=this;try{return{data:await Bd(t.fetch,`${t.url}/bucket/${r}`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(We(a))return{data:null,error:a};throw a}}listBucketOptionsToQueryString(r){const t={};return r&&("limit"in r&&(t.limit=String(r.limit)),"offset"in r&&(t.offset=String(r.offset)),r.search&&(t.search=r.search),r.sortColumn&&(t.sortColumn=r.sortColumn),r.sortOrder&&(t.sortOrder=r.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},H1=class{constructor(r,t={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=se(se({},Zy),t),this.fetch=zd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var t=this;try{return{data:await Hn(t.fetch,`${t.url}/bucket`,{name:r},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(We(a))return{data:null,error:a};throw a}}async listBuckets(r){var t=this;try{const a=new URLSearchParams;r?.limit!==void 0&&a.set("limit",r.limit.toString()),r?.offset!==void 0&&a.set("offset",r.offset.toString()),r?.sortColumn&&a.set("sortColumn",r.sortColumn),r?.sortOrder&&a.set("sortOrder",r.sortOrder),r?.search&&a.set("search",r.search);const s=a.toString(),o=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return{data:await rl(t.fetch,o,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(We(a))return{data:null,error:a};throw a}}async deleteBucket(r){var t=this;try{return{data:await Bd(t.fetch,`${t.url}/bucket/${r}`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(We(a))return{data:null,error:a};throw a}}from(r){var t=this;if(!j1(r))throw new au("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new T1({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(a,{get(o,u){const f=o[u];return typeof f!="function"?f:async(...h)=>{try{return{data:await f.apply(o,h),error:null}}catch(p){if(s)throw p;return{data:null,error:p}}}}})}};const Hd={"X-Client-Info":`storage-js/${Qy}`,"Content-Type":"application/json"};var Wy=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function bn(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var $f=class extends Wy{constructor(r,t,a){super(r),this.name="StorageVectorsApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},P1=class extends Wy{constructor(r,t){super(r),this.name="StorageVectorsUnknownError",this.originalError=t}};const Pd=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),q1=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Dv=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),V1=async(r,t,a)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!a?.noResolveJson){const s=r.status||500,o=r;if(typeof o.json=="function")o.json().then(u=>{const f=u?.statusCode||u?.code||s+"";t(new $f(Dv(u),s,f))}).catch(()=>{const u=s+"";t(new $f(o.statusText||`HTTP ${s} error`,s,u))});else{const u=s+"";t(new $f(o.statusText||`HTTP ${s} error`,s,u))}}else t(new P1(Dv(r),r))},G1=(r,t,a,s)=>{const o={method:r,headers:t?.headers||{}};return s?(q1(s)?(o.headers=se({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(s)):o.body=s,se(se({},o),a)):o};async function F1(r,t,a,s,o,u){return new Promise((f,h)=>{r(a,G1(t,s,o,u)).then(p=>{if(!p.ok)throw p;if(s?.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>f(p)).catch(p=>V1(p,h,s))})}async function wn(r,t,a,s,o){return F1(r,"POST",t,s,o,a)}var J1=class{constructor(r,t={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=se(se({},Hd),t),this.fetch=Pd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var t=this;try{return{data:await wn(t.fetch,`${t.url}/CreateIndex`,r,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}}async getIndex(r,t){var a=this;try{return{data:await wn(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:r,indexName:t},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(bn(s))return{data:null,error:s};throw s}}async listIndexes(r){var t=this;try{return{data:await wn(t.fetch,`${t.url}/ListIndexes`,r,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}}async deleteIndex(r,t){var a=this;try{return{data:await wn(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:r,indexName:t},{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(bn(s))return{data:null,error:s};throw s}}},K1=class{constructor(r,t={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=se(se({},Hd),t),this.fetch=Pd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var t=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await wn(t.fetch,`${t.url}/PutVectors`,r,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}}async getVectors(r){var t=this;try{return{data:await wn(t.fetch,`${t.url}/GetVectors`,r,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}}async listVectors(r){var t=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await wn(t.fetch,`${t.url}/ListVectors`,r,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}}async queryVectors(r){var t=this;try{return{data:await wn(t.fetch,`${t.url}/QueryVectors`,r,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}}async deleteVectors(r){var t=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await wn(t.fetch,`${t.url}/DeleteVectors`,r,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}}},Y1=class{constructor(r,t={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=se(se({},Hd),t),this.fetch=Pd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var t=this;try{return{data:await wn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}}async getBucket(r){var t=this;try{return{data:await wn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:r},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}}async listBuckets(r={}){var t=this;try{return{data:await wn(t.fetch,`${t.url}/ListVectorBuckets`,r,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}}async deleteBucket(r){var t=this;try{return{data:await wn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}}},X1=class extends Y1{constructor(r,t={}){super(r,t.headers||{},t.fetch)}from(r){return new Q1(this.url,this.headers,r,this.fetch)}async createBucket(r){var t=()=>super.createBucket,a=this;return t().call(a,r)}async getBucket(r){var t=()=>super.getBucket,a=this;return t().call(a,r)}async listBuckets(r={}){var t=()=>super.listBuckets,a=this;return t().call(a,r)}async deleteBucket(r){var t=()=>super.deleteBucket,a=this;return t().call(a,r)}},Q1=class extends J1{constructor(r,t,a,s){super(r,t,s),this.vectorBucketName=a}async createIndex(r){var t=()=>super.createIndex,a=this;return t().call(a,se(se({},r),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(r={}){var t=()=>super.listIndexes,a=this;return t().call(a,se(se({},r),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(r){var t=()=>super.getIndex,a=this;return t().call(a,a.vectorBucketName,r)}async deleteIndex(r){var t=()=>super.deleteIndex,a=this;return t().call(a,a.vectorBucketName,r)}index(r){return new Z1(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},Z1=class extends K1{constructor(r,t,a,s,o){super(r,t,o),this.vectorBucketName=a,this.indexName=s}async putVectors(r){var t=()=>super.putVectors,a=this;return t().call(a,se(se({},r),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(r){var t=()=>super.getVectors,a=this;return t().call(a,se(se({},r),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(r={}){var t=()=>super.listVectors,a=this;return t().call(a,se(se({},r),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(r){var t=()=>super.queryVectors,a=this;return t().call(a,se(se({},r),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(r){var t=()=>super.deleteVectors,a=this;return t().call(a,se(se({},r),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},W1=class extends B1{constructor(r,t={},a,s){super(r,t,a,s)}from(r){return new z1(this.url,this.headers,r,this.fetch)}get vectors(){return new X1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new H1(this.url+"/iceberg",this.headers,this.fetch)}};const e0="2.90.1",ji=30*1e3,hd=3,zf=hd*ji,eE="http://localhost:9999",tE="supabase.auth.token",nE={"X-Client-Info":`gotrue-js/${e0}`},pd="X-Supabase-Api-Version",t0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aE=600*1e3;class al extends Error{constructor(t,a,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=s}}function te(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class iE extends al{constructor(t,a,s){super(t,a,s),this.name="AuthApiError",this.status=a,this.code=s}}function sE(r){return te(r)&&r.name==="AuthApiError"}class Oa extends al{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class Er extends al{constructor(t,a,s,o){super(t,s,o),this.name=a,this.status=s}}class gn extends Er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lE(r){return te(r)&&r.name==="AuthSessionMissingError"}class Si extends Er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Io extends Er{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Lo extends Er{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oE(r){return te(r)&&r.name==="AuthImplicitGrantRedirectError"}class Iv extends Er{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uE extends Er{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class md extends Er{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function Bf(r){return te(r)&&r.name==="AuthRetryableFetchError"}class Lv extends Er{constructor(t,a,s){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=s}}class gd extends Er{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ko="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mv=` 	
\r=`.split(""),cE=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<Mv.length;t+=1)r[Mv[t].charCodeAt(0)]=-2;for(let t=0;t<Ko.length;t+=1)r[Ko[t].charCodeAt(0)]=t;return r})();function $v(r,t,a){if(r!==null)for(t.queue=t.queue<<8|r,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;a(Ko[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;a(Ko[s]),t.queuedBits-=6}}function n0(r,t,a){const s=cE[r];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function zv(r){const t=[],a=f=>{t.push(String.fromCodePoint(f))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=f=>{hE(f,s,a)};for(let f=0;f<r.length;f+=1)n0(r.charCodeAt(f),o,u);return t.join("")}function fE(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function dE(r,t){for(let a=0;a<r.length;a+=1){let s=r.charCodeAt(a);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(r.charCodeAt(a+1)-56320&65535|o)+65536,a+=1}fE(s,t)}}function hE(r,t,a){if(t.utf8seq===0){if(r<=127){a(r);return}for(let s=1;s<6;s+=1)if((r>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function Ii(r){const t=[],a={queue:0,queuedBits:0},s=o=>{t.push(o)};for(let o=0;o<r.length;o+=1)n0(r.charCodeAt(o),a,s);return new Uint8Array(t)}function pE(r){const t=[];return dE(r,a=>t.push(a)),new Uint8Array(t)}function ja(r){const t=[],a={queue:0,queuedBits:0},s=o=>{t.push(o)};return r.forEach(o=>$v(o,a,s)),$v(null,a,s),t.join("")}function mE(r){return Math.round(Date.now()/1e3)+r}function gE(){return Symbol("auth-callback")}const Dt=()=>typeof window<"u"&&typeof document<"u",_a={tested:!1,writable:!1},r0=()=>{if(!Dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_a.tested)return _a.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),_a.tested=!0,_a.writable=!0}catch{_a.tested=!0,_a.writable=!1}return _a.writable};function vE(r){const t={},a=new URL(r);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((o,u)=>{t[u]=o})}catch{}return a.searchParams.forEach((s,o)=>{t[o]=s}),t}const a0=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),yE=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Ri=async(r,t,a)=>{await r.setItem(t,JSON.stringify(a))},Sa=async(r,t)=>{const a=await r.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},kt=async(r,t)=>{await r.removeItem(t)};class iu{constructor(){this.promise=new iu.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}iu.promiseConstructor=Promise;function Hf(r){const t=r.split(".");if(t.length!==3)throw new gd("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!rE.test(t[s]))throw new gd("JWT not in base64url format");return{header:JSON.parse(zv(t[0])),payload:JSON.parse(zv(t[1])),signature:Ii(t[2]),raw:{header:t[0],payload:t[1]}}}async function bE(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function wE(r,t){return new Promise((s,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await r(u);if(!t(u,null,f)){s(f);return}}catch(f){if(!t(u,f)){o(f);return}}})()})}function _E(r){return("0"+r.toString(16)).substr(-2)}function SE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=a.length;let o="";for(let u=0;u<56;u++)o+=a.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(t),Array.from(t,_E).join("")}async function xE(r){const a=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",a),o=new Uint8Array(s);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function EE(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const a=await xE(r);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xi(r,t,a=!1){const s=SE();let o=s;a&&(o+="/PASSWORD_RECOVERY"),await Ri(r,`${t}-code-verifier`,o);const u=await EE(s);return[u,s===u?"plain":"s256"]}const TE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OE(r){const t=r.headers.get(pd);if(!t||!t.match(TE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function AE(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function CE(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ei(r){if(!jE.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pf(){const r={};return new Proxy(r,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function RE(r,t){return new Proxy(r,{get:(a,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const u=s.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,s,o)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,s,o)}})}function Bv(r){return JSON.parse(JSON.stringify(r))}const Ea=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),NE=[502,503,504];async function Hv(r){var t;if(!yE(r))throw new md(Ea(r),0);if(NE.includes(r.status))throw new md(Ea(r),r.status);let a;try{a=await r.json()}catch(u){throw new Oa(Ea(u),u)}let s;const o=OE(r);if(o&&o.getTime()>=t0["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?s=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(s=a.error_code),s){if(s==="weak_password")throw new Lv(Ea(a),r.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new gn}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new Lv(Ea(a),r.status,a.weak_password.reasons);throw new iE(Ea(a),r.status||500,s)}const kE=(r,t,a,s)=>{const o={method:r,headers:t?.headers||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),a))};async function ie(r,t,a,s){var o;const u=Object.assign({},s?.headers);u[pd]||(u[pd]=t0["2024-01-01"].name),s?.jwt&&(u.Authorization=`Bearer ${s.jwt}`);const f=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(f.redirect_to=s.redirectTo);const h=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await UE(r,t,a+h,{headers:u,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(p):{data:Object.assign({},p),error:null}}async function UE(r,t,a,s,o,u){const f=kE(t,s,o,u);let h;try{h=await r(a,Object.assign({},f))}catch(p){throw console.error(p),new md(Ea(p),0)}if(h.ok||await Hv(h),s?.noResolveJson)return h;try{return await h.json()}catch(p){await Hv(p)}}function Bn(r){var t;let a=null;LE(r)&&(a=Object.assign({},r),r.expires_at||(a.expires_at=mE(r.expires_in)));const s=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:a,user:s},error:null}}function Pv(r){const t=Bn(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0)&&(t.data.weak_password=r.weak_password),t}function Wr(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function DE(r){return{data:r,error:null}}function IE(r){const{action_link:t,email_otp:a,hashed_token:s,redirect_to:o,verification_type:u}=r,f=ru(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:a,hashed_token:s,redirect_to:o,verification_type:u},p=Object.assign({},f);return{data:{properties:h,user:p},error:null}}function qv(r){return r}function LE(r){return r.access_token&&r.refresh_token&&r.expires_in}const qf=["global","local","others"];class ME{constructor({url:t="",headers:a={},fetch:s}){this.url=t,this.headers=a,this.fetch=a0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=qf[0]){if(qf.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qf.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,a={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Wr})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:a}=t,s=ru(t,["options"]),o=Object.assign(Object.assign({},s),a);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:IE,redirectTo:a?.redirectTo})}catch(a){if(te(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wr})}catch(a){if(te(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,s,o,u,f,h,p;try{const m={nextPage:null,lastPage:0,total:0},v=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=t?.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:qv});if(v.error)throw v.error;const b=await v.json(),_=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(p=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(E=>{const x=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);m[`${C}Page`]=x}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(te(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){Ei(t);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wr})}catch(a){if(te(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){Ei(t);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:Wr})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,a=!1){Ei(t);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:Wr})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ei(t.userId);try{const{data:a,error:s}=await ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:a,error:s}}catch(a){if(te(a))return{data:null,error:a};throw a}}async _deleteFactor(t){Ei(t.userId),Ei(t.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(te(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,s,o,u,f,h,p;try{const m={nextPage:null,lastPage:0,total:0},v=await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=t?.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:qv});if(v.error)throw v.error;const b=await v.json(),_=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(p=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(E=>{const x=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);m[`${C}Page`]=x}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(te(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(te(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(te(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(te(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(te(a))return{data:null,error:a};throw a}}}function Vv(r={}){return{getItem:t=>r[t]||null,setItem:(t,a)=>{r[t]=a},removeItem:t=>{delete r[t]}}}const Ti={debug:!!(globalThis&&r0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class i0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class $E extends i0{}async function zE(r,t,a){Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await a()}finally{Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(t===0)throw Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new $E(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Ti.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function BE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function s0(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function HE(r){return parseInt(r,16)}function PE(r){const t=new TextEncoder().encode(r);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function qE(r){var t;const{chainId:a,domain:s,expirationTime:o,issuedAt:u=new Date,nonce:f,notBefore:h,requestId:p,resources:m,scheme:v,uri:b,version:_}=r;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((t=r.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const S=s0(r.address),E=v?`${v}://${s}`:s,x=r.statement?`${r.statement}
`:"",C=`${E} wants you to sign in with your Ethereum account:
${S}

${x}`;let j=`URI: ${b}
Version: ${_}
Chain ID: ${a}${f?`
Nonce: ${f}`:""}
Issued At: ${u.toISOString()}`;if(o&&(j+=`
Expiration Time: ${o.toISOString()}`),h&&(j+=`
Not Before: ${h.toISOString()}`),p&&(j+=`
Request ID: ${p}`),m){let N=`
Resources:`;for(const L of m){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);N+=`
- ${L}`}j+=N}return`${C}
${j}`}class gt extends Error{constructor({message:t,code:a,cause:s,name:o}){var u;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(u=o??(s instanceof Error?s.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=a}}class Yo extends gt{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function VE({error:r,options:t}){var a,s,o;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((a=u.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(t.mediation==="conditional"&&((s=u.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new gt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return u.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const f=window.location.hostname;if(l0(f)){if(u.rp.id!==f)return new gt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function GE({error:r,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new gt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const s=window.location.hostname;if(l0(s)){if(a.rpId!==s)return new gt({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class FE{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const JE=new FE;function KE(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:t,user:a,excludeCredentials:s}=r,o=ru(r,["challenge","user","excludeCredentials"]),u=Ii(t).buffer,f=Object.assign(Object.assign({},a),{id:Ii(a.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:u,user:f});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let p=0;p<s.length;p++){const m=s[p];h.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:Ii(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function YE(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:t,allowCredentials:a}=r,s=ru(r,["challenge","allowCredentials"]),o=Ii(t).buffer,u=Object.assign(Object.assign({},s),{challenge:o});if(a&&a.length>0){u.allowCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const h=a[f];u.allowCredentials[f]=Object.assign(Object.assign({},h),{id:Ii(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function XE(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const a=r;return{id:r.id,rawId:r.id,response:{attestationObject:ja(new Uint8Array(r.response.attestationObject)),clientDataJSON:ja(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function QE(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const a=r,s=r.getClientExtensionResults(),o=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:ja(new Uint8Array(o.authenticatorData)),clientDataJSON:ja(new Uint8Array(o.clientDataJSON)),signature:ja(new Uint8Array(o.signature)),userHandle:o.userHandle?ja(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function l0(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Gv(){var r,t;return!!(Dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function ZE(r){try{const t=await navigator.credentials.create(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yo("Browser returned unexpected credential type",t)}:{data:null,error:new Yo("Empty credential response",t)}}catch(t){return{data:null,error:VE({error:t,options:r})}}}async function WE(r){try{const t=await navigator.credentials.get(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yo("Browser returned unexpected credential type",t)}:{data:null,error:new Yo("Empty credential response",t)}}catch(t){return{data:null,error:GE({error:t,options:r})}}}const eT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},tT={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xo(...r){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),a=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of r)if(o)for(const u in o){const f=o[u];if(f!==void 0)if(Array.isArray(f))s[u]=f;else if(a(f))s[u]=f;else if(t(f)){const h=s[u];t(h)?s[u]=Xo(h,f):s[u]=Xo(f)}else s[u]=f}return s}function nT(r,t){return Xo(eT,r,t||{})}function rT(r,t){return Xo(tT,r,t||{})}class aT{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:s,signal:o},u){try{const{data:f,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!f)return{data:null,error:h};const p=o??JE.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:m}=f.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${s}`),m.displayName||(m.displayName=m.name)}switch(f.webauthn.type){case"create":{const m=nT(f.webauthn.credential_options.publicKey,u?.create),{data:v,error:b}=await ZE({publicKey:m,signal:p});return v?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}case"request":{const m=rT(f.webauthn.credential_options.publicKey,u?.request),{data:v,error:b}=await WE(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:m,signal:p}));return v?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}}}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new Oa("Unexpected error in challenge",f)}}}async _verify({challengeId:t,factorId:a,webauthn:s}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!a)return{data:null,error:new al("rpId is required for WebAuthn authentication")};try{if(!Gv())return{data:null,error:new Oa("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:s},signal:o},{request:u});if(!f)return{data:null,error:h};const{webauthn:p}=f;return this._verify({factorId:t,challengeId:f.challengeId,webauthn:{type:p.type,rpId:a,rpOrigins:s,credential_response:p.credential_response}})}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new Oa("Unexpected error in authenticate",f)}}}async _register({friendlyName:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!a)return{data:null,error:new al("rpId is required for WebAuthn registration")};try{if(!Gv())return{data:null,error:new Oa("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this._enroll({friendlyName:t});if(!f)return await this.client.mfa.listFactors().then(v=>{var b;return(b=v.data)===null||b===void 0?void 0:b.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===t&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:h};const{data:p,error:m}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:a,rpOrigins:s},signal:o},{create:u});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:a,rpOrigins:s,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new Oa("Unexpected error in register",f)}}}}BE();const iT={url:eE,storageKey:tE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Fv(r,t,a){return await a()}const Oi={};class il{get jwks(){var t,a;return(a=(t=Oi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){Oi[this.storageKey]=Object.assign(Object.assign({},Oi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=Oi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Oi[this.storageKey]=Object.assign(Object.assign({},Oi[this.storageKey]),{cachedAt:t})}constructor(t){var a,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},iT),t);if(this.storageKey=u.storageKey,this.instanceID=(a=il.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,il.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Dt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new ME({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=a0(u.fetch),this.lock=u.lock||Fv,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&Dt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=zE:this.lock=Fv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new aT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:r0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vv(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Vv(this.memoryStorage)),Dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${e0}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},s="none";if(Dt()&&(a=vE(window.location.href),this._isImplicitGrantCallback(a)?s="implicit":await this._isPKCECallback(a)&&(s="pkce")),Dt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:u}=await this._getSessionFromURL(a,s);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),oE(u)){const p=(t=u.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:f,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",h),await this._saveSession(f),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return te(a)?this._returnResult({error:a}):this._returnResult({error:new Oa("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,s,o;try{const u=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(a=t?.options)===null||a===void 0?void 0:a.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Bn}),{data:f,error:h}=u;if(h||!f)return this._returnResult({data:{user:null,session:null},error:h});const p=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var a,s,o;try{let u;if("email"in t){const{email:v,password:b,options:_}=t;let S=null,E=null;this.flowType==="pkce"&&([S,E]=await xi(this.storage,this.storageKey)),u=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:b,data:(a=_?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:S,code_challenge_method:E},xform:Bn})}else if("phone"in t){const{phone:v,password:b,options:_}=t;u=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:b,data:(s=_?.data)!==null&&s!==void 0?s:{},channel:(o=_?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Bn})}else throw new Io("You must provide either an email or phone number and a password");const{data:f,error:h}=u;if(h||!f)return await kt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const p=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(await kt(this.storage,`${this.storageKey}-code-verifier`),te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let a;if("email"in t){const{email:u,password:f,options:h}=t;a=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Pv})}else if("phone"in t){const{phone:u,password:f,options:h}=t;a=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Pv})}else throw new Io("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const u=new Si;return this._returnResult({data:{user:null,session:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(a){if(te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,s,o,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,s,o,u,f,h,p,m,v,b,_;let S,E;if("message"in t)S=t.message,E=t.signature;else{const{chain:x,wallet:C,statement:j,options:N}=t;let L;if(Dt())if(typeof C=="object")L=C;else{const oe=window;if("ethereum"in oe&&typeof oe.ethereum=="object"&&"request"in oe.ethereum&&typeof oe.ethereum.request=="function")L=oe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=C}const $=new URL((a=N?.url)!==null&&a!==void 0?a:window.location.href),Y=await L.request({method:"eth_requestAccounts"}).then(oe=>oe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=s0(Y[0]);let F=(s=N?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!F){const oe=await L.request({method:"eth_chainId"});F=HE(oe)}const le={domain:$.host,address:G,statement:j,uri:$.href,version:"1",chainId:F,nonce:(o=N?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=N?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=N?.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=qE(le),E=await L.request({method:"personal_sign",params:[PE(S),G]})}try{const{data:x,error:C}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:E},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Bn});if(C)throw C;if(!x||!x.session||!x.user){const j=new Si;return this._returnResult({data:{user:null,session:null},error:j})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:C})}catch(x){if(te(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var a,s,o,u,f,h,p,m,v,b,_,S;let E,x;if("message"in t)E=t.message,x=t.signature;else{const{chain:C,wallet:j,statement:N,options:L}=t;let $;if(Dt())if(typeof j=="object")$=j;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))$=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=j}const Y=new URL((a=L?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in $&&$.signIn){const G=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L?.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),N?{statement:N}:null));let F;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")F=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)F=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)E=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),x=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${Y.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(o=(s=L?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=L?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((f=L?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((h=L?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((p=L?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((m=L?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((b=(v=L?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||b===void 0)&&b.length?["Resources",...L.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const G=await $.signMessage(new TextEncoder().encode(E),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=G}}try{const{data:C,error:j}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:ja(x)},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Bn});if(j)throw j;if(!C||!C.session||!C.user){const N=new Si;return this._returnResult({data:{user:null,session:null},error:N})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:j})}catch(C){if(te(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(t){const a=await Sa(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(a??"").split("/");try{if(!s&&this.flowType==="pkce")throw new uE;const{data:u,error:f}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Bn});if(await kt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!u||!u.session||!u.user){const h=new Si;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:f})}catch(u){if(await kt(this.storage,`${this.storageKey}-code-verifier`),te(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:a,provider:s,token:o,access_token:u,nonce:f}=t,h=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Bn}),{data:p,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const v=new Si;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(a){if(te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,s,o,u,f;try{if("email"in t){const{email:h,options:p}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await xi(this.storage,this.storageKey));const{error:b}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(s=p?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:h,options:p}=t,{data:m,error:v}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new Io("You must provide either an email or phone number.")}catch(h){if(await kt(this.storage,`${this.storageKey}-code-verifier`),te(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(t){var a,s;try{let o,u;"options"in t&&(o=(a=t.options)===null||a===void 0?void 0:a.redirectTo,u=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:f,error:h}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Bn});if(h)throw h;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,m=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(o){if(te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var a,s,o,u,f;try{let h=null,p=null;this.flowType==="pkce"&&([h,p]=await xi(this.storage,this.storageKey));const m=await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:DE});return!((u=m.data)===null||u===void 0)&&u.url&&Dt()&&!(!((f=t.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await kt(this.storage,`${this.storageKey}-code-verifier`),te(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:s}=t;if(s)throw s;if(!a)throw new gn;const{error:o}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:s,type:o,options:u}=t,{error:f}=await ie(this.fetch,"POST",a,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in t){const{phone:s,type:o,options:u}=t,{data:f,error:h}=await ie(this.fetch,"POST",a,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:h})}throw new Io("You must provide either an email or phone number and a type")}catch(a){if(te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await a()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=a();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await Sa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<zf:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const f=await Sa(this.userStorage,this.storageKey+"-user");f?.user?t.user=f.user:t.user=Pf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};t.user=RE(t.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const a=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(t){try{return t?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wr}):await this._useSession(async a=>{var s,o,u;const{data:f,error:h}=a;if(h)throw h;return!(!((s=f.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gn}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Wr})})}catch(a){if(te(a))return lE(a)&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async s=>{const{data:o,error:u}=s;if(u)throw u;if(!o.session)throw new gn;const f=o.session;let h=null,p=null;this.flowType==="pkce"&&t.email!=null&&([h,p]=await xi(this.storage,this.storageKey));const{data:m,error:v}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:p}),jwt:f.access_token,xform:Wr});if(v)throw v;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(s){if(await kt(this.storage,`${this.storageKey}-code-verifier`),te(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new gn;const a=Date.now()/1e3;let s=a,o=!0,u=null;const{payload:f}=Hf(t.access_token);if(f.exp&&(s=f.exp,o=s<=a),o){const{data:h,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:p}=await this._getUser(t.access_token);if(p)throw p;u={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:s-a,expires_at:s},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(a){if(te(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var s;if(!t){const{data:f,error:h}=a;if(h)throw h;t=(s=f.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new gn;const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!Dt())throw new Lo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Lo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Iv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lo("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Iv("No code detected.");const{data:N,error:L}=await this._exchangeCodeForSession(t.code);if(L)throw L;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:u,refresh_token:f,expires_in:h,expires_at:p,token_type:m}=t;if(!u||!h||!f||!m)throw new Lo("No session defined in URL");const v=Math.round(Date.now()/1e3),b=parseInt(h);let _=v+b;p&&(_=parseInt(p));const S=_-v;S*1e3<=ji&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const E=_-b;v-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,_,v):v-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,_,v);const{data:x,error:C}=await this._getUser(u);if(C)throw C;const j={provider_token:s,provider_refresh_token:o,access_token:u,expires_in:b,expires_at:_,refresh_token:f,token_type:m,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(s){if(te(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await Sa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var s;const{data:o,error:u}=a;if(u)return this._returnResult({error:u});const f=(s=o.session)===null||s===void 0?void 0:s.access_token;if(f){const{error:h}=await this.admin.signOut(f,t);if(h&&!(sE(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return t!=="others"&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=gE(),s={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async a=>{var s,o;try{const{data:{session:u},error:f}=a;if(f)throw f;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,a={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await xi(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(await kt(this.storage,`${this.storageKey}-code-verifier`),te(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:a,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:s,error:o}=await this._useSession(async u=>{var f,h,p,m,v;const{data:b,error:_}=u;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(f=t.options)===null||f===void 0?void 0:f.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return Dt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:t.provider,url:s?.url},error:null})}catch(s){if(te(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var s;try{const{error:o,data:{session:u}}=a;if(o)throw o;const{options:f,provider:h,token:p,access_token:m,nonce:v}=t,b=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=u?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:p,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Bn}),{data:_,error:S}=b;return S?this._returnResult({data:{user:null,session:null},error:S}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Si}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:S}))}catch(o){if(await kt(this.storage,`${this.storageKey}-code-verifier`),te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var s,o;const{data:u,error:f}=a;if(f)throw f;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const s=Date.now();return await wE(async o=>(o>0&&await bE(200*Math.pow(2,o-1)),this._debug(a,"refreshing attempt",o),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Bn})),(o,u)=>{const f=200*Math.pow(2,o);return u&&Bf(u)&&Date.now()+f-s<ji})}catch(s){if(this._debug(a,"error",s),te(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",s),Dt()&&!a.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,a;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Sa(this.storage,this.storageKey);if(o&&this.userStorage){let f=await Sa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await Ri(this.userStorage,this.storageKey+"-user",f)),o.user=(t=f?.user)!==null&&t!==void 0?t:Pf()}else if(o&&!o.user&&!o.user){const f=await Sa(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await kt(this.storage,this.storageKey+"-user"),await Ri(this.storage,this.storageKey,o)):o.user=Pf()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const u=((a=o.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<zf;if(this._debug(s,`session has${u?"":" not"} expired with margin of ${zf}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),Bf(f)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:h}=await this._getUser(o.access_token);!h&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(s,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var a,s;if(!t)throw new gn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new iu;const{data:u,error:f}=await this._refreshAccessToken(t);if(f)throw f;if(!u.session)throw new gn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={data:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(o,"error",u),te(u)){const f={data:null,error:u};return Bf(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(f),f}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,a,s=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",a,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:a});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,a)}catch(p){u.push(p)}});if(await Promise.all(f),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await kt(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},t),s=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&a.user&&await Ri(this.userStorage,this.storageKey+"-user",{user:a.user});const o=Object.assign({},a);delete o.user;const u=Bv(o);await Ri(this.storage,this.storageKey,u)}else{const o=Bv(a);await Ri(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await kt(this.storage,this.storageKey),await kt(this.storage,this.storageKey+"-code-verifier"),await kt(this.storage,this.storageKey+"-user"),this.userStorage&&await kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ji);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const a=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const a=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,a&&clearTimeout(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:s}}=a;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-t)/ji);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ji}ms, refresh threshold is ${hd} ticks`),o<=hd&&await this._callRefreshToken(s.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof i0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,s){const o=[`provider=${encodeURIComponent(a)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[u,f]=await xi(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(h.toString())}if(s?.queryParams){const u=new URLSearchParams(s.queryParams);o.push(u.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var s;const{data:o,error:u}=a;return u?this._returnResult({data:null,error:u}):await ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var s,o;const{data:u,error:f}=a;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:m}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&p.type==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var s;const{data:o,error:u}=a;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?XE(t.webauthn.credential_response):QE(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:p}=await ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:f,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:p}))})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var s;const{data:o,error:u}=a;if(u)return this._returnResult({data:null,error:u});const f=await ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(f.error)return f;const{data:h}=f;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:KE(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:YE(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=a?.factors)!==null&&t!==void 0?t:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,a;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Hf(s.access_token);let f=null;u.aal&&(f=u.aal);let h=f;((a=(t=s.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(h="aal2");const m=u.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;return o?this._returnResult({data:null,error:o}):s?await ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new gn})})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async s=>{const{data:{session:o},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new gn});const f=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&Dt()&&!a?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(te(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,a){try{return await this._useSession(async s=>{const{data:{session:o},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new gn});const f=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&Dt()&&!a?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(te(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:a},error:s}=t;return s?this._returnResult({data:null,error:s}):a?await ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new gn})})}catch(t){if(te(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;return o?this._returnResult({data:null,error:o}):s?(await ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new gn})})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,a={keys:[]}){let s=a.keys.find(h=>h.kid===t);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(h=>h.kid===t),s&&this.jwks_cached_at+aE>o)return s;const{data:u,error:f}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,s=u.keys.find(h=>h.kid===t),!s)?null:s}async getClaims(t,a={}){try{let s=t;if(!s){const{data:S,error:E}=await this.getSession();if(E||!S.session)return this._returnResult({data:null,error:E});s=S.session.access_token}const{header:o,payload:u,signature:f,raw:{header:h,payload:p}}=Hf(s);a?.allowExpired||AE(u.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!m){const{error:S}=await this.getUser(s);if(S)throw S;return{data:{claims:u,header:o,signature:f},error:null}}const v=CE(o.alg),b=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,b,f,pE(`${h}.${p}`)))throw new gd("Invalid JWT signature");return{data:{claims:u,header:o,signature:f},error:null}}catch(s){if(te(s))return this._returnResult({data:null,error:s});throw s}}}il.nextInstanceID={};const sT=il,lT="2.90.1";let Js="";typeof Deno<"u"?Js="deno":typeof document<"u"?Js="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Js="react-native":Js="node";const oT={"X-Client-Info":`supabase-js-${Js}/${lT}`},uT={headers:oT},cT={schema:"public"},fT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dT={};function sl(r){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(r)}function hT(r,t){if(sl(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,t);if(sl(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function pT(r){var t=hT(r,"string");return sl(t)=="symbol"?t:t+""}function mT(r,t,a){return(t=pT(t))in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}function Jv(r,t){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),a.push.apply(a,s)}return a}function at(r){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Jv(Object(a),!0).forEach(function(s){mT(r,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Jv(Object(a)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(a,s))})}return r}const gT=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),vT=()=>Headers,yT=(r,t,a)=>{const s=gT(a),o=vT();return async(u,f)=>{var h;const p=(h=await t())!==null&&h!==void 0?h:r;let m=new o(f?.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),s(u,at(at({},f),{},{headers:m}))}};function bT(r){return r.endsWith("/")?r:r+"/"}function wT(r,t){var a,s;const{db:o,auth:u,realtime:f,global:h}=r,{db:p,auth:m,realtime:v,global:b}=t,_={db:at(at({},p),o),auth:at(at({},m),u),realtime:at(at({},v),f),storage:{},global:at(at(at({},b),h),{},{headers:at(at({},(a=b?.headers)!==null&&a!==void 0?a:{}),(s=h?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return r.accessToken?_.accessToken=r.accessToken:delete _.accessToken,_}function _T(r){const t=r?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(bT(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ST=class extends sT{constructor(r){super(r)}},xT=class{constructor(r,t,a){var s,o;this.supabaseUrl=r,this.supabaseKey=t;const u=_T(r);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:cT,realtime:dT,auth:at(at({},fT),{},{storageKey:f}),global:uT},p=wT(a??{},h);if(this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=p.auth)!==null&&m!==void 0?m:{},this.headers,p.global.fetch)}this.fetch=yT(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(at({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new n1(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new W1(this.storageUrl.href,this.headers,this.fetch,a?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Qx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,t={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,t,a)}channel(r,t={config:{}}){return this.realtime.channel(r,t)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,t,a;if(r.accessToken)return await r.accessToken();const{data:s}=await r.auth.getSession();return(t=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&t!==void 0?t:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:t,detectSessionInUrl:a,storage:s,userStorage:o,storageKey:u,flowType:f,lock:h,debug:p,throwOnError:m},v,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ST({url:this.authUrl.href,headers:at(at({},_),v),storageKey:u,autoRefreshToken:r,persistSession:t,detectSessionInUrl:a,storage:s,userStorage:o,flowType:f,lock:h,debug:p,throwOnError:m,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new b1(this.realtimeUrl.href,at(at({},r),{},{params:at(at({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,t)=>{this._handleTokenChanged(r,"CLIENT",t?.access_token)})}_handleTokenChanged(r,t,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ET=(r,t,a)=>new xT(r,t,a);function TT(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const t=r.version;if(t==null)return!1;const a=t.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}TT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const OT="https://kyprnvazjyilthdzhqxh.supabase.co",AT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5cHJudmF6anlpbHRoZHpocXhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0Njg4NDAsImV4cCI6MjA4NDA0NDg0MH0.04WXE3feJa8s2jBe6kmUPH00jufK8nvjSMvNmG_oFPs",Li=ET(OT,AT);var It=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},Kt={searchParams:"URLSearchParams"in It,iterable:"Symbol"in It&&"iterator"in Symbol,blob:"FileReader"in It&&"Blob"in It&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in It,arrayBuffer:"ArrayBuffer"in It};function CT(r){return r&&DataView.prototype.isPrototypeOf(r)}if(Kt.arrayBuffer)var jT=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],RT=ArrayBuffer.isView||function(r){return r&&jT.indexOf(Object.prototype.toString.call(r))>-1};function Vi(r){if(typeof r!="string"&&(r=String(r)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(r)||r==="")throw new TypeError('Invalid character in header field name: "'+r+'"');return r.toLowerCase()}function qd(r){return typeof r!="string"&&(r=String(r)),r}function Vd(r){var t={next:function(){var a=r.shift();return{done:a===void 0,value:a}}};return Kt.iterable&&(t[Symbol.iterator]=function(){return t}),t}function wt(r){this.map={},r instanceof wt?r.forEach(function(t,a){this.append(a,t)},this):Array.isArray(r)?r.forEach(function(t){if(t.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])},this):r&&Object.getOwnPropertyNames(r).forEach(function(t){this.append(t,r[t])},this)}wt.prototype.append=function(r,t){r=Vi(r),t=qd(t);var a=this.map[r];this.map[r]=a?a+", "+t:t};wt.prototype.delete=function(r){delete this.map[Vi(r)]};wt.prototype.get=function(r){return r=Vi(r),this.has(r)?this.map[r]:null};wt.prototype.has=function(r){return this.map.hasOwnProperty(Vi(r))};wt.prototype.set=function(r,t){this.map[Vi(r)]=qd(t)};wt.prototype.forEach=function(r,t){for(var a in this.map)this.map.hasOwnProperty(a)&&r.call(t,this.map[a],a,this)};wt.prototype.keys=function(){var r=[];return this.forEach(function(t,a){r.push(a)}),Vd(r)};wt.prototype.values=function(){var r=[];return this.forEach(function(t){r.push(t)}),Vd(r)};wt.prototype.entries=function(){var r=[];return this.forEach(function(t,a){r.push([a,t])}),Vd(r)};Kt.iterable&&(wt.prototype[Symbol.iterator]=wt.prototype.entries);function Vf(r){if(!r._noBody){if(r.bodyUsed)return Promise.reject(new TypeError("Already read"));r.bodyUsed=!0}}function o0(r){return new Promise(function(t,a){r.onload=function(){t(r.result)},r.onerror=function(){a(r.error)}})}function NT(r){var t=new FileReader,a=o0(t);return t.readAsArrayBuffer(r),a}function kT(r){var t=new FileReader,a=o0(t),s=/charset=([A-Za-z0-9_-]+)/.exec(r.type),o=s?s[1]:"utf-8";return t.readAsText(r,o),a}function UT(r){for(var t=new Uint8Array(r),a=new Array(t.length),s=0;s<t.length;s++)a[s]=String.fromCharCode(t[s]);return a.join("")}function Kv(r){if(r.slice)return r.slice(0);var t=new Uint8Array(r.byteLength);return t.set(new Uint8Array(r)),t.buffer}function u0(){return this.bodyUsed=!1,this._initBody=function(r){this.bodyUsed=this.bodyUsed,this._bodyInit=r,r?typeof r=="string"?this._bodyText=r:Kt.blob&&Blob.prototype.isPrototypeOf(r)?this._bodyBlob=r:Kt.formData&&FormData.prototype.isPrototypeOf(r)?this._bodyFormData=r:Kt.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)?this._bodyText=r.toString():Kt.arrayBuffer&&Kt.blob&&CT(r)?(this._bodyArrayBuffer=Kv(r.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Kt.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(r)||RT(r))?this._bodyArrayBuffer=Kv(r):this._bodyText=r=Object.prototype.toString.call(r):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof r=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Kt.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Kt.blob&&(this.blob=function(){var r=Vf(this);if(r)return r;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var r=Vf(this);return r||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(Kt.blob)return this.blob().then(NT);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var r=Vf(this);if(r)return r;if(this._bodyBlob)return kT(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(UT(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Kt.formData&&(this.formData=function(){return this.text().then(LT)}),this.json=function(){return this.text().then(JSON.parse)},this}var DT=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function IT(r){var t=r.toUpperCase();return DT.indexOf(t)>-1?t:r}function Na(r,t){if(!(this instanceof Na))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var a=t.body;if(r instanceof Na){if(r.bodyUsed)throw new TypeError("Already read");this.url=r.url,this.credentials=r.credentials,t.headers||(this.headers=new wt(r.headers)),this.method=r.method,this.mode=r.mode,this.signal=r.signal,!a&&r._bodyInit!=null&&(a=r._bodyInit,r.bodyUsed=!0)}else this.url=String(r);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new wt(t.headers)),this.method=IT(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||(function(){if("AbortController"in It){var u=new AbortController;return u.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&a)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(a),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var s=/([?&])_=[^&]*/;if(s.test(this.url))this.url=this.url.replace(s,"$1_="+new Date().getTime());else{var o=/\?/;this.url+=(o.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Na.prototype.clone=function(){return new Na(this,{body:this._bodyInit})};function LT(r){var t=new FormData;return r.trim().split("&").forEach(function(a){if(a){var s=a.split("="),o=s.shift().replace(/\+/g," "),u=s.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(u))}}),t}function MT(r){var t=new wt,a=r.replace(/\r?\n[\t ]+/g," ");return a.split("\r").map(function(s){return s.indexOf(`
`)===0?s.substr(1,s.length):s}).forEach(function(s){var o=s.split(":"),u=o.shift().trim();if(u){var f=o.join(":").trim();try{t.append(u,f)}catch(h){console.warn("Response "+h.message)}}}),t}u0.call(Na.prototype);function Xn(r,t){if(!(this instanceof Xn))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new wt(t.headers),this.url=t.url||"",this._initBody(r)}u0.call(Xn.prototype);Xn.prototype.clone=function(){return new Xn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new wt(this.headers),url:this.url})};Xn.error=function(){var r=new Xn(null,{status:200,statusText:""});return r.ok=!1,r.status=0,r.type="error",r};var $T=[301,302,303,307,308];Xn.redirect=function(r,t){if($T.indexOf(t)===-1)throw new RangeError("Invalid status code");return new Xn(null,{status:t,headers:{location:r}})};var Aa=It.DOMException;try{new Aa}catch{Aa=function(t,a){this.message=t,this.name=a;var s=Error(t);this.stack=s.stack},Aa.prototype=Object.create(Error.prototype),Aa.prototype.constructor=Aa}function c0(r,t){return new Promise(function(a,s){var o=new Na(r,t);if(o.signal&&o.signal.aborted)return s(new Aa("Aborted","AbortError"));var u=new XMLHttpRequest;function f(){u.abort()}u.onload=function(){var m={statusText:u.statusText,headers:MT(u.getAllResponseHeaders()||"")};o.url.indexOf("file://")===0&&(u.status<200||u.status>599)?m.status=200:m.status=u.status,m.url="responseURL"in u?u.responseURL:m.headers.get("X-Request-URL");var v="response"in u?u.response:u.responseText;setTimeout(function(){a(new Xn(v,m))},0)},u.onerror=function(){setTimeout(function(){s(new TypeError("Network request failed"))},0)},u.ontimeout=function(){setTimeout(function(){s(new TypeError("Network request timed out"))},0)},u.onabort=function(){setTimeout(function(){s(new Aa("Aborted","AbortError"))},0)};function h(m){try{return m===""&&It.location.href?It.location.href:m}catch{return m}}if(u.open(o.method,h(o.url),!0),o.credentials==="include"?u.withCredentials=!0:o.credentials==="omit"&&(u.withCredentials=!1),"responseType"in u&&(Kt.blob?u.responseType="blob":Kt.arrayBuffer&&(u.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof wt||It.Headers&&t.headers instanceof It.Headers)){var p=[];Object.getOwnPropertyNames(t.headers).forEach(function(m){p.push(Vi(m)),u.setRequestHeader(m,qd(t.headers[m]))}),o.headers.forEach(function(m,v){p.indexOf(v)===-1&&u.setRequestHeader(v,m)})}else o.headers.forEach(function(m,v){u.setRequestHeader(v,m)});o.signal&&(o.signal.addEventListener("abort",f),u.onreadystatechange=function(){u.readyState===4&&o.signal.removeEventListener("abort",f)}),u.send(typeof o._bodyInit>"u"?null:o._bodyInit)})}c0.polyfill=!0;It.fetch||(It.fetch=c0,It.Headers=wt,It.Request=Na,It.Response=Xn);var Ca;(function(r){r[r.DEBUG=1]="DEBUG",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR"})(Ca||(Ca={}));var zT=(function(){function r(t){t===void 0&&(t=Ca.INFO),this.logLevel=t,this._debug=console.debug,this._info=console.info,this._warn=console.warn,this._error=console.error}return r.prototype.debug=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];this.logLevel<=Ca.DEBUG&&(t.unshift("[DEBUG]"),this._debug.apply(this,ut([],Te(t),!1)))},r.prototype.info=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];this.logLevel<=Ca.INFO&&(t.unshift("[INFO]"),this._info.apply(this,ut([],Te(t),!1)))},r.prototype.warn=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];this.logLevel<=Ca.WARN&&(t.unshift("[WARN]"),this._warn.apply(this,ut([],Te(t),!1)))},r.prototype.error=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];this.logLevel<=Ca.ERROR&&(t.unshift("[ERROR]"),this._error.apply(this,ut([],Te(t),!1)))},r})(),Oe=new zT(3),BT=function(r,t){this._driver=r,this.liff=t,this.hooks=this._driver.hooks,this.internalHooks=this._driver.internalHooks},HT=function(r,t){this._driver=r,this.liff=t,this.hooks=this._driver.hooks},PT=(function(){function r(t,a){this.pluginCtx=new HT(t,a),this.moduleCtx=new BT(t,a)}return Object.defineProperty(r.prototype,"pluginContext",{get:function(){return this.pluginCtx},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"moduleContext",{get:function(){return this.moduleCtx},enumerable:!1,configurable:!0}),r})(),qT=(function(){function r(){this.modules=new Map,this.hooks={},this.internalHooks={}}return r.prototype.addModule=function(t,a){this.modules.set(t,a),a.hooks&&(this.hooks[t]=Object.entries(a.hooks).reduce((function(s,o){var u,f=Te(o,2),h=f[0],p=f[1];return Je(Je({},s),((u={})[h]=p.on.bind(p),u))}),{})),"internalHooks"in a&&a.internalHooks&&(this.internalHooks[t]=Object.entries(a.internalHooks).reduce((function(s,o){var u,f=Te(o,2),h=f[0],p=f[1];return Je(Je({},s),((u={})[h]=p.on.bind(p),u))}),{}))},r.prototype.hasModule=function(t){return this.modules.has(t)},r})(),ge=function(){},Yv=function(r){return r instanceof ge},f0=(function(r){function t(a,s,o){var u=r.call(this)||this;return u.driver=a,u.contextHolder=s,u.option=o,u}return be(t,r),t.prototype.install=function(){return this.factory(this.driver,this.contextHolder)},Object.defineProperty(t.prototype,"name",{get:function(){return"use"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultOption",{get:function(){return{namespacePrefix:"$"}},enumerable:!1,configurable:!0}),t.prototype.factory=function(a,s){var o=Object.assign({},this.defaultOption,this.option).namespacePrefix;return function(u,f){if(!u||typeof u.install!="function"||typeof u.name!="string")return Oe.warn("To install the plugin, you need to define the `name` property and the `install` method."),this;var h=Yv(u)?u.name:"".concat(o).concat(u.name);if(a.hasModule(h))return this;var p=Yv(u)?u.install.call(u,s.moduleContext,f):u.install.call(u,s.pluginContext,f);return this["".concat(h)]?(Oe.warn("There is a duplicate plugin name. `".concat(h,"` plugin namespace will be override.")),this["".concat(h)]=p):p!==void 0&&(this["".concat(h)]=p),a.addModule(h,u),this}},t})(ge),d0,VT=new Promise((function(r){d0=r})),Lt="UNKNOWN",bt="UNAUTHORIZED",Qe="INVALID_ARGUMENT",ct="INIT_FAILED",De="FORBIDDEN",Qn="INVALID_CONFIG",xa="INVALID_ID_TOKEN",vd="CREATE_SUBWINDOW_FAILED",yd="EXCEPTION_IN_SUBWINDOW",h0="liffEvent",qn="LIFF_STORE",Qo="https://liff.".concat("line.me","/"),bd="https://miniapp.".concat("line.me","/"),Ce={ACCESS_TOKEN:"accessToken",ID_TOKEN:"IDToken",DECODED_ID_TOKEN:"decodedIDToken",FEATURE_TOKEN:"featureToken",LOGIN_TMP:"loginTmp",CONFIG:"config",CONTEXT:"context",EXPIRES:"expires",RAW_CONTEXT:"rawContext",CLIENT_ID:"clientId",IS_SUBSEQUENT_LIFF_APP:"isSubsequentLiffApp",MST_CHALLENGE:"mstChallenge",MSIT:"msit",MST:"mst",MST_VERIFIER:"mstVerifier",APP_DATA:"appData"},Xv="isInClient",Gd=["context_token","feature_token","access_token","id_token","client_id","mst_verifier","mst_challenge","msit"],GT=5,FT=["liff.ref.source","liff.ref.medium","liff.ref.campaign","liff.ref.term","liff.ref.content"],JT="liff://subwindow",He={INIT:"init",SUBMIT:"submit",CANCEL:"cancel",CLOSE:"close",ERROR:"error"},KT=100,p0=100,m0="liff.subwindow",Zo="healthCheck",YT=["profile","chat_message.write","openid","email"];function Qv(r){return window.atob(r.replace(/-/g,"+").replace(/_/g,"/"))}var Gf={decode:Qv,encode:function(r){return window.btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},decodeUnicode:function(r){var t=Qv(r).split("").map((function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)})).join("");return decodeURIComponent(t)}};function Ln(r,t){if(r===t)return 0;for(var a=r.split("."),s=t.split("."),o=Math.max(a.length,s.length),u=0;u<o;u++){a[u]||(a[u]="0"),s[u]||(s[u]="0");var f=parseInt(a[u])-parseInt(s[u]);if(f!==0)return f>0?1:-1}return 0}function Zv(r){var t=r.replace("#","").match(/.{2}/g)||[];if(t.length!==4)return Oe.warn("convertArgbToRgba: Received invalid ARGB color"),"";var a=(function(f){var h=Ra(f);return Math.round(h/255*100)/100})(t[0]),s=Ra(t[1]),o=Ra(t[2]),u=Ra(t[3]);return"rgba(".concat(s,", ").concat(o,", ").concat(u,", ").concat(a,")")}function Ra(r){return parseInt(r,16)}function Wv(r){var t=r.replace("#","").match(/.{2}/g)||[];if(t.length!==3)return Oe.warn("convertArgbToRgba: Received invalid hex color"),"";var a=Ra(t[0]),s=Ra(t[1]),o=Ra(t[2]);return"".concat(a,", ").concat(s,", ").concat(o)}function ey(r){for(var t=r.length,a=new ArrayBuffer(t),s=new Uint8Array(a),o=0;o<t;o++)s[o]=r.charCodeAt(o);return a}var Fd={get:function(r){var t=new RegExp("(?:(?:^|.*;\\s*)".concat(r,"\\s*\\=\\s*([^;]*).*$)|^.*$"));return document.cookie.replace(t,"$1")},set:function(r,t,a){var s=r+"="+t;if(a)for(var o in a){var u=a[o]?"=".concat(a[o]):"";s+="; ".concat(o).concat(u)}Oe.debug("set cookie",s),document.cookie=s},remove:function(r,t){var a="".concat(r,"=; expires=Thu, 01 Jan 1970 00:00:00 GMT");if(t)for(var s in t)a+="; ".concat(s,"=").concat(t[s]);document.cookie=a}},XT=new Set(["400","401","403","404","429","500"]),g0=(function(r){function t(a,s,o){var u=r.call(this,s,o)||this;return u.code=a,u}return be(t,r),t})(Error);function P(r,t,a){return a?.cause&&console.error("This is the cause of LiffError described below.",a.cause),new g0(r,t||"",a||{})}function Jd(r){var t=r.match(/([^-]+)-[^-]+/);return t&&t[1]}function QT(r){var t="";return r.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ").forEach((function(a){t+=String.fromCharCode(parseInt(a))})),window.btoa(t)}var v0=(function(){function r(){this.map={}}return r.prototype.clear=function(){this.map={}},r.prototype.getItem=function(t){var a=this.map[t];return a===void 0?null:a},r.prototype.setItem=function(t,a){this.map[t]=a},r.prototype.removeItem=function(t){delete this.map[t]},r.prototype.key=function(t){var a=Object.keys(this.map)[t];return a===void 0?null:a},Object.defineProperty(r.prototype,"length",{get:function(){return Object.keys(this.map).length},enumerable:!1,configurable:!0}),r})(),Ff,Bt={parse:function(r){return r.replace(/^\?/,"").replace(/^#\/?/,"").split(/&+/).filter((function(t){return t.length>0})).reduce((function(t,a){var s=Te(a.split("=").map(decodeURIComponent),2),o=s[0],u=s[1],f=t[o];return Array.isArray(f)?f.push(u):Object.prototype.hasOwnProperty.call(t,o)?t[o]=[f,u]:t[o]=u,t}),{})},stringify:function(r){return Object.keys(r).map((function(t){var a=r[t],s=function(o){return o!==void 0?"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(o)):encodeURIComponent(t)};return Array.isArray(a)?a.map((function(o){return s(o)})).join("&"):s(a)})).join("&")}},ty="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function ZT(){return window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967296}function zi(r){for(var t="",a=0;a<r;a++)t+=ty[Math.floor(ZT()*ty.length)];return t}function y0(r){var t=new URL(r),a=t.hash.slice(1).split("&").filter((function(s){return!Gd.some((function(o){return s.startsWith("".concat(o,"="))}))})).join("&");return t.hash=a,t.toString()}function WT(r){var t=new URL(r);return t.toString().replace(new RegExp(String.raw(ny||(ny=Kx(["^",""],["^",""])),t.origin)),"")}var e2=function(r){var t=y0(r);if(t!==r){var a=WT(t);window.history.replaceState(history.state,"",a)}};function ll(r,t){if(!r)throw new Error("addParamsToUrl: invalid URL");var a=new URL(r);return Object.entries(t).forEach((function(s){var o=Te(s,2),u=o[0],f=o[1];a.searchParams.set(u,f)})),a.toString()}var ny,ry=((Ff={})[Qo]=function(){var r=ay(Qo);return new RegExp("^".concat(r,"(\\d+-\\w+)"))},Ff[bd]=function(){var r=ay(bd);return new RegExp("^".concat(r,"((\\d+-\\w+)|(\\w+$))"))},Ff);function Kd(r){for(var t in ry){var a=r.match(ry[t]());if(a)return a[1]}return null}function ay(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function t2(r){var t=r.match(/^(https?:\/\/.*?)\//);return t&&t[1]||""}function wd(r){return r.startsWith("line:")}function Yd(r){return r===void 0&&(r=window.navigator.userAgent),/ipad/.test(r.toLowerCase())}function b0(r){return r===void 0&&(r=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+/.test(r)}function w0(r){return r===void 0&&(r=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+ LIFF/.test(r)}function n2(r){return r===void 0&&(r=window.navigator.userAgent),/LIFF\/SubWindow/.test(r)}var _0=function(){return typeof window>"u"},Mo=null;function ke(){return Mo===null&&(Mo=w0()||b0()&&/[#|&]access_token=/.test(location.hash)||sessionStorage.getItem("".concat(qn,":").concat(Xv))==="1",sessionStorage.setItem("".concat(qn,":").concat(Xv),Mo?"1":"0")),!!Mo}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"isInClient"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return ke()}},t})(ge);function it(){var r;return(r=window.__liffConfig)!==null&&r!==void 0?r:{}}function r2(r){window.__liffConfig=r}function a2(r,t){if(!t)throw P(Qn,"liffId is necessary for liff.init()");var a=(ke()?sessionStorage:localStorage).getItem("".concat(qn,":").concat(t,":").concat(r));try{return a===null?null:JSON.parse(a)}catch{return null}}function rn(r){return a2(r,it().liffId)}function Sn(r,t){var a=it().liffId;if(!a)throw P(Qn,"liffId is necessary for liff.init()");(ke()?sessionStorage:localStorage).setItem("".concat(qn,":").concat(a,":").concat(r),JSON.stringify(t))}function _t(){return rn(Ce.CONTEXT)}function Xd(r){Sn(Ce.CONTEXT,r)}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"getContext"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return _t()}},t})(ge);function S0(){return((_t()||{}).d||{}).aId}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"getAId"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return S0()}},t})(ge);function x0(){return((_t()||{}).d||{}).autoplay||!1}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"getIsVideoAutoPlay"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return x0()}},t})(ge);function E0(){return(_t()||{}).profilePlus}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"getProfilePlus"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return E0()}},t})(ge);function i2(){return!!rn(Ce.IS_SUBSEQUENT_LIFF_APP)}function s2(r){Sn(Ce.IS_SUBSEQUENT_LIFF_APP,r)}function l2(){return rn(Ce.APP_DATA)}function _d(r){Sn(Ce.APP_DATA,r)}function o2(){return rn(Ce.MST_VERIFIER)}function u2(r){Sn(Ce.MST_VERIFIER,r)}function c2(){return rn(Ce.MSIT)}function f2(r){Sn(Ce.MSIT,r)}function su(){return rn(Ce.MST)}function d2(r){Sn(Ce.MST,r)}function T0(){return rn(Ce.MST_CHALLENGE)}function h2(r){Sn(Ce.MST_CHALLENGE,r)}function p2(){return rn(Ce.CLIENT_ID)}function O0(r){Sn(Ce.CLIENT_ID,r)}function m2(){return rn(Ce.RAW_CONTEXT)}function dl(){return rn(Ce.FEATURE_TOKEN)}function iy(r){Sn(Ce.FEATURE_TOKEN,r)}function lu(){return rn(Ce.ID_TOKEN)}function A0(r){Sn(Ce.ID_TOKEN,r)}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"getIDToken"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return lu()}},t})(ge);function Zn(){return rn(Ce.ACCESS_TOKEN)}function Qd(r){Sn(Ce.ACCESS_TOKEN,r)}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"getAccessToken"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Zn()}},t})(ge);function C0(r){var t=it().liffId;if(!t)throw P(Qn,"liffId is necessary for liff.init()");(ke()?sessionStorage:localStorage).removeItem("".concat(qn,":").concat(t,":").concat(r))}function j0(){return rn(Ce.LOGIN_TMP)}function g2(r){Sn(Ce.LOGIN_TMP,r)}function sy(){C0(Ce.LOGIN_TMP)}function R0(r){var t=it();Fd.set("".concat(qn,":").concat(Ce.EXPIRES,":").concat(t.liffId),r.getTime(),{expires:r.toUTCString(),path:"/",secure:null})}function v2(){var r=it();return Fd.get("".concat(qn,":").concat(Ce.EXPIRES,":").concat(r.liffId))}function y2(){var r=it();Fd.remove("".concat(qn,":").concat(Ce.EXPIRES,":").concat(r.liffId),{path:"/"})}function ou(){return rn(Ce.DECODED_ID_TOKEN)}function N0(r){Sn(Ce.DECODED_ID_TOKEN,r)}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"getDecodedIDToken"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return ou()}},t})(ge);function b2(){Object.keys(Ce).forEach((function(r){C0(Ce[r])})),y2()}function Mt(){return!!Zn()}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"isLoggedIn"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Mt()}},t})(ge);function uu(){return"2.27.3"}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"getVersion"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return"2.27.3"}},t})(ge);var w2=(function(){function r(){}return r.prototype.invoke=function(){return n2()},r})(),_2=(function(){function r(t){this.storage=t}return Object.defineProperty(r,"IN_SUB_WINDOW_KEY",{get:function(){return"inSubWindow"},enumerable:!1,configurable:!0}),r.prototype.invoke=function(){return new URLSearchParams(window.location.search).has(m0)&&this.setInSubWindow(!0),!(!this.getInSubWindow()&&!this.getSubWindowIdentifier())},r.prototype.getInSubWindow=function(){var t=this.storage.getItem("".concat(qn,":").concat(this.getLiffId(),":").concat(r.IN_SUB_WINDOW_KEY));return t!==null&&JSON.parse(t)},r.prototype.getSubWindowIdentifier=function(){var t,a,s="liff.subwindow.identifier",o=new URLSearchParams(window.location.search);return o.get(s)||(t=s,(a=o.get("liff.state"))?new URLSearchParams(a).get(t):null)||null},r.prototype.setInSubWindow=function(t){this.storage.setItem("".concat(qn,":").concat(this.getLiffId(),":").concat(r.IN_SUB_WINDOW_KEY),String(t))},r.prototype.getLiffId=function(){var t=it().liffId;if(!t)throw P(Qn,"liffId is necessary for liff.init()");return t},r})(),S2=(function(r){function t(){var a=r.call(this)||this;return _0()?a.impl={invoke:function(){return!1}}:ke()?a.impl=new w2:a.impl=new _2(window.sessionStorage),a}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"isSubWindow"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return this.impl.invoke.bind(this.impl)},t})(ge),k0=new S2,Yn=k0.install();function Wn(){var r=navigator.userAgent.match(/Line\/\d+(\.\d+)*/i);return r?r[0].slice(5):null}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"getLineVersion"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Wn()}},t})(ge);var Jf;function Ht(){if(!Jf){var r=window.navigator.userAgent.toLowerCase();Jf=/iphone|ipad|ipod/.test(r)?"ios":/android/.test(r)?"android":"web"}return Jf}(function(r){function t(){return r.call(this)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"getOS"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Ht()}},t})(ge);function U0(r){var t,a=_t();return(t=a?.availability)===null||t===void 0?void 0:t[r]}function In(r,t,a){var s=U0(r),o=a||r;if(!s)return{available:!1,error:{code:De,message:"".concat(o," is not allowed in this LIFF app")}};var u=s.minVer,f=s.unsupportedFromVer,h=!u||(function(m,v){var b=Wn();return!!b&&!(v&&Ln(b,v)>0)&&Ln(b,m)>=0})(u,f),p=ke();return p&&!h?{available:!1,error:{code:De,message:"".concat(o," is unavailable in this client version.")}}:s.permission?p&&h||t?{available:!0}:{available:!1,error:{code:De,message:"".concat(o," is not allowed in external browser")}}:{available:!1,error:{code:De,message:"".concat(o," is not allowed in this LIFF app")}}}var ly=function(){return Mt()?!w0()&&b0()?{available:!1,error:{code:De,message:"Subwindow is not supported in this browser"}}:Yn()?{available:!1,error:{code:De,message:"this api can be only called in parent window"}}:In("subwindowOpen",!0):{available:!1,error:{code:bt,message:"Need access_token for api call, Please login first"}}},x2=["subwindowOpen","shareTargetPicker","multipleLiffTransition","scanCode","scanCodeV2","getAdvertisingId","addToHomeScreen","bluetoothLeFunction","skipChannelVerificationScreen","createShortcutOnHomeScreen","internalCreateShortcutOnHomeScreen","iap"],vn={scanCode:function(){return In("scanCode")},getAdvertisingId:function(){return In("getAdvertisingId")},bluetoothLeFunction:function(){return In("bluetoothLeFunction")},shareTargetPicker:function(){return Yn()?{available:!1,error:{code:De,message:"this api can be only called in parent window"}}:Mt()?In("shareTargetPicker",!0):{available:!1,error:{code:bt,message:"Need access_token for api call, Please login first"}}},multipleLiffTransition:function(){var r=U0("multipleLiffTransition");return r&&r.permission?ke()?{available:!0}:{available:!1,error:{code:De,message:"multipleLiffTransition is available only in the LINE App browser"}}:{available:!1,error:{code:De,message:"multipleLiffTransition is not allowed in this LIFF app"}}},subwindowOpen:ly,scanCodeV2:function(){if(!Mt())return{available:!1,error:{code:bt,message:"Need access_token for api call, Please login first"}};var r=ly();return r.available?In("scanCodeV2",!0):r},addToHomeScreen:function(){return Yn()?{available:!1,error:{code:De,message:"this api can be only called in parent window"}}:In("addToHomeScreen")},skipChannelVerificationScreen:function(){var r=_t();return r?r.type==="square_chat"?{available:!1,error:{code:De,message:"skipChannelVerificationScreen is not allowed in OpenChat"}}:In("skipChannelVerificationScreen"):{available:!1,error:{code:De,message:"Context is not found"}}},createShortcutOnHomeScreen:function(){if(Yn())return{available:!1,error:{code:De,message:"this api can be only called in parent window"}};if(!Mt())return{available:!1,error:{code:bt,message:"Need access_token for api call, Please login first"}};var r=Ht();return r!=="android"&&r!=="ios"?{available:!1,error:{code:De,message:"this api can be only called in mobile device"}}:In("addToHomeV2",!0,"createShortcutOnHomeScreen")},internalCreateShortcutOnHomeScreen:function(){if(Yn())return{available:!1,error:{code:De,message:"this api can be only called in parent window"}};if(!Mt())return{available:!1,error:{code:bt,message:"Need access_token for api call, Please login first"}};var r=Ht();if(r!=="android"&&r!=="ios")return{available:!1,error:{code:De,message:"this api can be only called in mobile device"}};var t=In("addToHomeV2",!0,"internalCreateShortcutOnHomeScreen");return t.available?In("addToHomeLineScheme",!0,"internalCreateShortcutOnHomeScreen"):t},iap:function(){return ke()?Mt()?Yn()?{available:!1,error:{code:De,message:"this api can be only called in parent window"}}:In("iap",!1,"In-App Purchase"):{available:!1,error:{code:bt,message:"Need access_token for api call, Please login first"}}:{available:!1,error:{code:De,message:"In-App Purchase is not allowed in external browser"}}}},Dn=function(r){return function(){var t=r();if(!t.available)throw P(t.error.code,t.error.message)}},_r={scanCode:Dn(vn.scanCode),getAdvertisingId:Dn(vn.getAdvertisingId),bluetoothLeFunction:Dn(vn.bluetoothLeFunction),shareTargetPicker:Dn(vn.shareTargetPicker),multipleLiffTransition:Dn(vn.multipleLiffTransition),subwindowOpen:Dn(vn.subwindowOpen),scanCodeV2:Dn(vn.scanCodeV2),addToHomeScreen:Dn(vn.addToHomeScreen),skipChannelVerificationScreen:Dn(vn.skipChannelVerificationScreen),createShortcutOnHomeScreen:Dn(vn.createShortcutOnHomeScreen),internalCreateShortcutOnHomeScreen:Dn(vn.internalCreateShortcutOnHomeScreen),iap:Dn(vn.iap)};function hl(r){if(!(function(a){return x2.some((function(s){return s===a}))})(r))throw P(Qe,"Unexpected API name.");var t=vn[r];return!t||t().available}(function(r){function t(){var a=r.apply(this,ut([],Te(arguments),!1))||this;return a.hooks={},a}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"isApiAvailable"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(a){return hl(a)}},t})(ge);var E2=(function(){function r(){}return r.prototype.invoke=function(t){var a=_r[t];return!!a&&(a(),!0)},r})(),T2=(function(){function r(t){this.liff=t}return r.prototype.invoke=function(t){return this.liff.checkFeature(t)},r})(),Kf=(function(){function r(t){Ln(uu(),r.SDK_VERSION_SUPPORTING_NEW)>=0?this.impl=new E2:this.impl=new T2(t)}return Object.defineProperty(r,"SDK_VERSION_SUPPORTING_NEW",{get:function(){return"2.11.0"},enumerable:!1,configurable:!0}),r.prototype.invoke=function(t){return this.impl.invoke(t)},r})(),Sd=function(r,t){return Sd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])},Sd(r,t)};function O2(r,t,a,s){return new(a||(a=Promise))((function(o,u){function f(m){try{p(s.next(m))}catch(v){u(v)}}function h(m){try{p(s.throw(m))}catch(v){u(v)}}function p(m){var v;m.done?o(m.value):(v=m.value,v instanceof a?v:new a((function(b){b(v)}))).then(f,h)}p((s=s.apply(r,[])).next())}))}function A2(r,t){var a,s,o,u,f={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(m){return(function(v){if(a)throw new TypeError("Generator is already executing.");for(;f;)try{if(a=1,s&&(o=2&v[0]?s.return:v[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,v[1])).done)return o;switch(s=0,o&&(v=[2&v[0],o.value]),v[0]){case 0:case 1:o=v;break;case 4:return f.label++,{value:v[1],done:!1};case 5:f.label++,s=v[1],v=[0];continue;case 7:v=f.ops.pop(),f.trys.pop();continue;default:if(o=f.trys,!((o=o.length>0&&o[o.length-1])||v[0]!==6&&v[0]!==2)){f=0;continue}if(v[0]===3&&(!o||v[1]>o[0]&&v[1]<o[3])){f.label=v[1];break}if(v[0]===6&&f.label<o[1]){f.label=o[1],o=v;break}if(o&&f.label<o[2]){f.label=o[2],f.ops.push(v);break}o[2]&&f.ops.pop(),f.trys.pop();continue}v=t.call(r,f)}catch(b){v=[6,b],s=0}finally{a=o=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}})([p,m])}}}var D0=!1,C2=function(){return D0},j2=(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function o(){this.constructor=a}Sd(a,s),a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)})(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"_legacyExtensionsEnabled"},enumerable:!1,configurable:!0}),t.prototype.install=function(){D0=!0},t})(ge);function R2(){var r;return Ht()==="ios"?(r=Wn())&&Ln(r,"9.19.0")<0?"https://static.line-scdn.net/liff/edge/2/ios-918-extensions_2_22_0.js":"https://static.line-scdn.net/liff/edge/2/ios-extensions_2_22_0.js":"https://static.line-scdn.net/liff/edge/2/non-ios-extensions_2_22_0.js"}function N2(){return C2()?(function(){return O2(this,void 0,void 0,(function(){return A2(this,(function(r){switch(r.label){case 0:return[3,2];case 1:return[2,r.sent().default];case 2:return[2,new Promise((function(t,a){var s=document.createElement("script"),o=R2();s.onload=function(){var u=window.liffClientExtension;u?t(u):a(P(ct,"Unable to load client features. (Extension is empty)"))},s.onerror=function(u){a(P(ct,"Unable to load client features.",{cause:u}))},s.src=o,s.type="text/javascript",document.body.appendChild(s)}))]}}))}))})():Promise.resolve(void 0)}function Zd(){b2()}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"logout"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Zd()}},t})(ge);var k2=/([\x90\x9D\x81\x8D\x8F<"{|}>\\^`]|\n|.*#.*#|%(?![0-9A-Fa-f]{2})[^%]{0,2})/,I0=function(r){if(k2.test(r))throw P(Qe,"invalid URL.");var t=new URL(r),a=t.username,s=t.password,o=t.hash,u=t.search;return{username:a,password:s,pathname:t.pathname,hash:o,origin:t.origin,search:u}},oy=function(r){return r.substring(1).split("&").filter((function(t){return!/^liff\./.test(t)&&!!t}))},U2=function(r,t){var a=r.substring(t.length);return a==="/"?"":(a.length>0&&a[0]!=="/"&&(a="/"+a),a)},uy=function(r){return encodeURIComponent(r).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))},D2=function(r,t){var a=(function(s,o){for(var u=ut([],Te(s),!1),f=0;f<o.length;f++){var h=o[f],p=u.indexOf(h);p>-1&&u.splice(p,1)}return u})((function(s){var o,u,f=s.replace(/\+/g,"%2B"),h=new URLSearchParams(f),p=[];try{for(var m=cl(h.entries()),v=m.next();!v.done;v=m.next()){var b=Te(v.value,2),_=b[0],S=b[1];p.push("".concat(uy(_),"=").concat(uy(S)))}}catch(x){o={error:x}}finally{try{v&&!v.done&&(u=m.return)&&u.call(m)}finally{if(o)throw o.error}}if(p.length===0)return[""];var E=s.split("&");return p.map((function(x,C){return x.endsWith("=")&&!E[C].endsWith("=")?x.slice(0,-1):x}))})(oy(r).join("&")),oy(t)).join("&");return a!==""?"?".concat(a):""},I2=function(r){var t=new RegExp("^".concat(Gd.join("|"))),a=r.substring(1).split("&").filter((function(s){return!t.test(s)&&!!s})).join("&");return a?"#".concat(a):""},L0=function(r,t){return t.indexOf(r)===0&&(r.endsWith("/")&&(r=r.substring(0,r.length-1)),t[r.length]===void 0||t[r.length]==="/")},Wd=function(r,t){var a=I0(r),s=new URL(t);if(a.username!==s.username||a.password!==s.password||s.origin!==a.origin||!L0(s.pathname,a.pathname))throw P(Qe,"invalid URL.")},L2=(function(r){function t(){var a=r.apply(this,ut([],Te(arguments),!1))||this;return a.extraParams="",a.getAndValidateContext=function(){var s=_t();if(!s)throw P(ct,"Could not get Context from server.");if(!s.endpointUrl)throw P(ct,"Could not get endpointUrl from server.");if(!s.permanentLinkPattern)throw P(ct,"Could not get permanentLinkPattern from server.");return s},a.createUrl=function(){var s=a.getAndValidateContext(),o=window.location,u=o.pathname,f=o.search,h=o.hash,p=o.origin,m=new URL(s.endpointUrl);if(m.origin!==p||!L0(m.pathname,u))throw P(Qn,"Current page is not under entrypoint.");var v=u.substring(m.pathname.length);v.length>0&&v[0]!=="/"&&(v="/"+v);var b=new RegExp("^".concat(Gd.join("|"))),_=h.substring(1).split("&").filter((function(G){return!b.test(G)&&!!G})).join("&"),S=_===m.hash.substring(1)?"":_,E=function(G){return G.substring(1).split("&").filter((function(F){return!/liff\.state/.test(F)&&!!F}))},x=E(f),C=E(m.search);a.extraParams&&x.push(a.extraParams);for(var j=0;j<C.length;j++){var N=C[j],L=x.indexOf(N);L>-1&&x.splice(L,1)}var $=x.join("&"),Y="".concat(v).concat($!==""?"?".concat($):"").concat(S?"#".concat(S):"");return"".concat(Qo).concat(it().liffId).concat(Y)},a.createUrlBy=function(s){return J(a,void 0,void 0,(function(){var o,u,f,h,p,m;return K(this,(function(v){if(!(o=it().liffId))throw P(ct,"Should run after liff init.");return u=this.getAndValidateContext(),Wd(s,u.endpointUrl),f=I0(s),h=new URL(u.endpointUrl),p=u.miniDomainAllowed?bd:Qo,m=u.miniDomainAllowed&&u.miniAppId?u.miniAppId:o,[2,p.concat(m,U2(f.pathname,h.pathname),D2(f.search,h.search),I2(f.hash))]}))}))},a.setExtraQueryParam=function(s){a.extraParams=s},a.install=function(){return{createUrl:a.createUrl,createUrlBy:a.createUrlBy,setExtraQueryParam:a.setExtraQueryParam}},a}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"permanentLink"},enumerable:!1,configurable:!0}),t})(ge),M2=new L2;function $2(r){return J(this,void 0,void 0,(function(){var t,a,s;return K(this,(function(o){switch(o.label){case 0:if(!r.ok)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,r.json()];case 2:return[2,o.sent()];case 3:return o.sent(),[2,r];case 4:return t=String(r.status),a=XT.has(t)?t:Lt,[4,r.json().catch((function(){throw P(a,r.statusText)}))];case 5:throw s=o.sent(),P(s.error||s.errorCode||a,s.error_description||s.message)}}))}))}function M0(r){var t=(function(a){if(a)return a;var s=Zn();if(!s)throw P(bt,"Need access_token for api call, Please login first");return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(s)}})(r&&r.headers);return Je(Je({},r),{headers:t})}function ft(r,t){var a;try{a=M0(t)}catch(s){return Promise.reject(s)}return fetch(r,a).then($2)}function z2(r,t){var a;try{a=M0(t)}catch(s){return Promise.reject(s)}return fetch(r,a)}function rt(r){var t=r.subdomain,a=t===void 0?"api":t,s=r.pathname;return"https://".concat(a,".").concat("line.me","/").concat(s)}var B2={token:rt({pathname:"oauth2/v2.1/token"}),certs:rt({pathname:"oauth2/v2.1/certs"}),"openid-configuration":rt({subdomain:"access",pathname:".well-known/openid-configuration"}),authorize:rt({subdomain:"access",pathname:"liff/v1/authorize"}),profile:rt({pathname:"v2/profile"}),message:rt({pathname:"message/v3/share"}),friendship:rt({pathname:"friendship/v1/status"}),shareTargetPicker:rt({subdomain:"access",pathname:"oauth2/v2.1/liff/shareTargetPicker"}),shareTargetPickerOtt:rt({pathname:"liff/v2/apps"}),shareTargetPickerResult:rt({subdomain:"access",pathname:"oauth2/v2.1/liff/shareTargetPicker/result"}),apps:rt({pathname:"liff/v2/apps"}),subWindowGetMSIT:rt({pathname:"liff/v2/sub/msit"}),subWindowGetMSTByMSIT:rt({pathname:"liff/v2/sub/mst"}),subWindowSubscribe:rt({subdomain:"liff",pathname:"liff/v2/sub/waitResult"}),subWindowPost:rt({pathname:"liff/v2/sub/result"}),subWindowGetAppData:rt({pathname:"liff/v2/sub/appData"}),subWindowGetOrigin:function(r){return rt({pathname:"liff/v2/sub/".concat(r,"/origin")})},accessTokenVerify:rt({pathname:"oauth2/v2.1/verify"}),unauthorizedPermissions:rt({subdomain:"liff",pathname:"liff/v2/incrementalAgreement/unauthorizedPermissions"}),permanentLink:rt({subdomain:"liff",pathname:"liff/v2/permanentLink"}),createShortcutOnHomeScreen:rt({subdomain:"liff-shortcut",pathname:"api/shortcut"}),iapVirtualConfirm:rt({pathname:"iap/v1/product/virtualConfirm"})};function et(r){return B2[r]}function eh(r){return ft("".concat(et("accessTokenVerify"),"?access_token=").concat(encodeURIComponent(r)),{headers:{"Content-Type":"application/json",Accept:"application/json"}})}var $0="liff.subwindow.identifier",xd="liff.subwindow.cryptokey",qo=Je(Je({},He),{GET_DATA:"getData",SET_DATA:"setData",NOT_FOUND:"notFound",TEARDOWN:"teardown"}),Wo={BROADCAST:"broadcast",COMMAND:"command"},Xs={MAIN:"main",SUB:"sub"},z0=function(r){return J(void 0,void 0,void 0,(function(){var t;return K(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,window.crypto.subtle.importKey("jwk",{kty:"oct",k:r,alg:"A128GCM",ext:!0},{name:"AES-GCM"},!1,["encrypt","decrypt"])];case 1:return[2,a.sent()];case 2:throw t=a.sent(),P(Lt,t);case 3:return[2]}}))}))},H2=function(r,t,a){return J(void 0,void 0,void 0,(function(){var s,o,u,f;return K(this,(function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),s=new TextEncoder().encode(r),[4,z0(t)];case 1:return o=h.sent(),[4,window.crypto.subtle.encrypt({name:"AES-GCM",iv:s},o,new TextEncoder().encode(a))];case 2:return u=h.sent(),[2,btoa(new Uint8Array(u).reduce((function(p,m){return p+String.fromCharCode(m)}),""))];case 3:throw f=h.sent(),P(Lt,f);case 4:return[2]}}))}))},P2=function(r,t,a){return J(void 0,void 0,void 0,(function(){var s,o,u,f,h,p,m;return K(this,(function(v){switch(v.label){case 0:return v.trys.push([0,3,,4]),s=new TextEncoder().encode(r),[4,z0(t)];case 1:for(o=v.sent(),u=atob(a),f=new Uint8Array(u.length),h=0;h<u.length;h++)f[h]=u.charCodeAt(h);return[4,window.crypto.subtle.decrypt({name:"AES-GCM",iv:s},o,f.buffer)];case 2:return p=v.sent(),[2,new TextDecoder().decode(new Uint8Array(p))];case 3:throw m=v.sent(),P(Lt,m);case 4:return[2]}}))}))},q2=function(r,t){return Qs(r)===Qs(t)},Qs=function(r){return"".concat(r.identifier,"-").concat(r.action,"-").concat(r.timestamp)},V2=function(r){return Object.keys(He).map((function(t){return He[t]})).includes(r)?Wo.BROADCAST:Wo.COMMAND};function G2(){var r=document.createElement("form");r.method="POST",r.action="$MESSAGE_HANDLER_URL";var t=document.createElement("input");t.type="hidden",t.name="identifier",t.value="$IDENTIFIER",r.appendChild(t),document.body.appendChild(r),r.submit()}var F2=function(r){r===void 0&&(r=Xs.MAIN);var t=this;this.identification={identifier:"",cryptoKey:""},this.messageHandlerInstance=null,this.listeners=new Map,this.sentMessages=[],this.generateIdentification=function(){return J(t,void 0,void 0,(function(){var a,s,o,u,f;return K(this,(function(h){switch(h.label){case 0:return a=new URLSearchParams(window.location.search),s=function(p){var m=a.get("liff.state");return m?new URLSearchParams(m).get(p):null},o=this,f={identifier:this.windowType===Xs.MAIN?zi(12):a.get("liff.subwindow.identifier")||s("liff.subwindow.identifier")||""},this.windowType!==Xs.MAIN?[3,2]:[4,J(void 0,void 0,void 0,(function(){var p,m,v;return K(this,(function(b){switch(b.label){case 0:return b.trys.push([0,3,,4]),[4,window.crypto.subtle.generateKey({name:"AES-GCM",length:128},!0,["encrypt","decrypt"])];case 1:return p=b.sent(),[4,window.crypto.subtle.exportKey("jwk",p)];case 2:if(!(m=b.sent())||!m.k)throw P(Lt,"failed to generate key");return[2,m.k];case 3:throw v=b.sent(),P(Lt,v);case 4:return[2]}}))}))];case 1:return u=h.sent(),[3,3];case 2:u=a.get(xd)||s(xd)||"",h.label=3;case 3:return o.identification=(f.cryptoKey=u,f),[2]}}))}))},this.hasIdentification=function(){var a=t.identification,s=a.identifier,o=a.cryptoKey;return typeof s=="string"&&typeof o=="string"&&s.length>0&&o.length>0},this.isReady=function(){return t.hasIdentification()&&!!t.messageHandlerInstance},this.setup=function(){return J(t,void 0,void 0,(function(){var a,s,o,u,f,h=this;return K(this,(function(p){switch(p.label){case 0:return this.messageHandlerInstance?[2]:[4,this.generateIdentification()];case 1:if(p.sent(),!(a=this.identification.identifier))return[2];if(s=/^[a-zA-Z0-9]+$/gm,!a.match(s))throw P(Lt,"Invalid identifier");return(o=document.createElement("iframe")).style.display="none",o.src="about:blank",document.body.appendChild(o),(f=o?.contentWindow)===null||f===void 0||f.window.eval("(".concat(G2.toString().replace("$MESSAGE_HANDLER_URL","".concat("https://liff-subwindow.line.me/liff/v2/sub/messageHandler")).replace("$IDENTIFIER",a.split("'")[0]),")()")),u="iframe-".concat(a,"-ready"),[4,new Promise((function(m){var v=function(b){b.data[u]&&(h.messageHandlerInstance=o,window.addEventListener("message",h.proxyToListeners),m(),document.removeEventListener("message",v))};window.addEventListener("message",v)}))];case 2:return[2,p.sent()]}}))}))},this.teardown=function(){return J(t,void 0,void 0,(function(){var a,s;return K(this,(function(o){switch(o.label){case 0:return this.isReady()?[4,this.send({eventName:qo.TEARDOWN})]:[3,2];case 1:o.sent(),window.removeEventListener("message",this.proxyToListeners),this.listeners.clear(),(s=(a=this.messageHandlerInstance)===null||a===void 0?void 0:a.parentNode)===null||s===void 0||s.removeChild(this.messageHandlerInstance),this.messageHandlerInstance=null,o.label=2;case 2:return[2]}}))}))},this.listen=function(a){t.listeners.set(a,a)},this.listenRepliedEvent=function(a,s){var o=function(u){u.replyTarget&&q2(u.replyTarget,a)&&(s(u),t.listeners.delete(o))};t.listeners.set(o,o)},this.send=function(a){return J(t,void 0,void 0,(function(){var s,o,u,f,h=this;return K(this,(function(p){switch(p.label){case 0:if(!this.isReady())throw P("message bus is not ready to send message");return o={action:V2(a.eventName),identifier:this.identification.identifier||"",timestamp:new Date().getTime()},[4,this.getEncryptedContext(a)];case 1:return o.context=p.sent(),s=o,(f=(u=this.messageHandlerInstance)===null||u===void 0?void 0:u.contentWindow)===null||f===void 0||f.postMessage({messageBusEvent:s},"*"),this.sentMessages.push(Qs(s)),[4,new Promise((function(m){h.listenRepliedEvent(s,(function(v){m(v.context)}))}))];case 2:return[2,p.sent()]}}))}))},this.reply=function(a,s){return J(t,void 0,void 0,(function(){var o,u,f,h;return K(this,(function(p){switch(p.label){case 0:if(!this.isReady())throw P("message bus is not ready to send message");if(!a.identifier||!a.timestamp)throw P(Lt,"target message is not valid");return u={action:Wo.BROADCAST},[4,this.getEncryptedContext(s)];case 1:return u.context=p.sent(),u.identifier=this.identification.identifier||"",u.timestamp=new Date().getTime(),u.replyTarget={action:a.action,identifier:a.identifier,timestamp:a.timestamp},o=u,(h=(f=this.messageHandlerInstance)===null||f===void 0?void 0:f.contentWindow)===null||h===void 0||h.postMessage({messageBusEvent:o},"*"),this.sentMessages.push(Qs(o)),[2]}}))}))},this.setData=function(a,s){a===void 0&&(a="appData"),t.send({eventName:qo.SET_DATA,key:a,data:s})},this.getData=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return J(t,ut([],Te(a),!1),void 0,(function(o){return o===void 0&&(o="appData"),K(this,(function(u){switch(u.label){case 0:return[4,this.send({eventName:qo.GET_DATA,key:o})];case 1:return[2,u.sent()]}}))}))},this.proxyToListeners=function(a){return J(t,void 0,void 0,(function(){var s,o=this;return K(this,(function(u){return s=a.data.messageBusEvent,a.origin!=="https://liff-subwindow.line.me"?[2]:s?(this.sentMessages.includes(Qs(s))||s.identifier!==this.identification.identifier||s.action!==Wo.BROADCAST&&!s.replyTarget||this.listeners.forEach((function(f){return J(o,void 0,void 0,(function(){var h,p,m;return K(this,(function(v){switch(v.label){case 0:return h=f,p=[Je({},s)],m={},[4,this.getDecryptedContext(s.context)];case 1:return h.apply(void 0,[Je.apply(void 0,p.concat([(m.context=v.sent(),m)]))]),[2]}}))}))})),[2]):[2]}))}))},this.getEncryptedContext=function(a){return J(t,void 0,void 0,(function(){var s,o,u,f,h,p,m;return K(this,(function(v){switch(v.label){case 0:return s=this.identification,o=s.identifier,u=s.cryptoKey,h=(f=JSON).stringify,m={eventName:a.eventName,key:a.key?a.key:void 0},a.data?[4,H2(o,u,JSON.stringify(a.data))]:[3,2];case 1:return p=v.sent(),[3,3];case 2:p=void 0,v.label=3;case 3:return[2,h.apply(f,[(m.data=p,m)])]}}))}))},this.getDecryptedContext=function(a){return J(t,void 0,void 0,(function(){var s,o,u,f,h,p,m,v;return K(this,(function(b){switch(b.label){case 0:return s=this.identification,o=s.identifier,u=s.cryptoKey,(f=JSON.parse(a)).data&&typeof f.data=="string"?(v=(m=JSON).parse,[4,P2(o,u,f.data)]):[3,2];case 1:return p=v.apply(m,[b.sent()]),[3,3];case 2:p=void 0,b.label=3;case 3:return h=p,[2,Je(Je({},f),{data:h})]}}))}))},this.windowType=r};function J2(r){return new CustomEvent(h0,{detail:r})}(function(){if(typeof window<"u"&&typeof window.CustomEvent!="function"){let r=function(t,a){var s=a||{},o=s.bubbles,u=o!==void 0&&o,f=s.cancelable,h=f!==void 0&&f,p=s.detail,m=p===void 0?void 0:p,v=document.createEvent("CustomEvent");return v.initCustomEvent(t,u,h,m),v};r.prototype=Event.prototype,window.CustomEvent=r}})();var Ni={},cy=!1;function th(r,t){cy||(cy=!0,window.addEventListener(h0,(function(a){a&&a.detail&&a.detail.type&&Ni[a.detail.type]&&Ni[a.detail.type].forEach((function(s){return s(a)}))}))),Ni[r]?Ni[r].push(t):Ni[r]=[t]}function nh(r,t){var a=Ni[r];if(a&&Array.isArray(a)){var s=a.indexOf(t);s>=0&&a.splice(s,1)}}function K2(r){var t={};try{t=JSON.parse(r)}catch(s){throw P(Qe,s.message)}var a=J2(t);Oe.debug("[client dispatchEvent to js]",{type:a.type,detail:a.detail}),window.dispatchEvent(a)}function B0(r,t,a){t===void 0&&(t={}),a===void 0&&(a="");var s=dl();if(!s)throw P(De,"Invalid featureToken for client features");if(!window._liff||!window._liff.postMessage)throw P(Qe,"postMessage is not available from client");Oe.debug("[js postMessage to client]",r,a,t),window._liff.postMessage(r,s,a,JSON.stringify(t))}function Gi(r,t,a){return t===void 0&&(t={}),a===void 0&&(a={once:!0}),dl()?(a=Je({callbackId:zi(12),once:!0},a),new Promise((function(s,o){var u=function(f){if(f&&f.detail){var h=f.detail.callbackId===a.callbackId,p=typeof f.detail.callbackId!="string";(h||p)&&(a.once&&nh(r,u),Oe.debug("[callback detail]",f.detail),f.detail.error?o(f.detail.error):f.detail.data?s(f.detail.data):o(f.detail))}o()};th(r,u),B0(r,t,a.callbackId)}))):Promise.reject(P(De,"Invalid featureToken for client features"))}function Mi(){var r=Wn();r!==null&&(Ht()==="ios"&&Ln(r,"9.19")>=0||Ht()==="android"&&Ln(r,"11.6.0")>=0)?location.href="liff://close":window._liff&&window._liff.postMessage?r!==null&&Ln(r,"10.15.0")>=0?Ht()==="ios"?window._liff.postMessage("closeWindow",""):window._liff.postMessage("closeWindow","","",""):Gi("closeWindow"):window.close()}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"closeWindow"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Mi()}},t})(ge);function H0(r){var t=et("subWindowGetOrigin");return ft(t(r))}var ea={};function Bi(r,t){r&&ea[r]&&ea[r].forEach((function(a){a(t)}))}function P0(r,t){ea[r]||(ea[r]=[]),ea[r].push(t)}function q0(r,t){if(ea[r]){var a=ea[r].indexOf(t);a>=0&&ea[r].splice(a,1)}}var V0,G0,F0,J0,Ed,K0=(function(){function r(t){this.storage=t}return r.prototype.getItem=function(t){return this.storage.getItem("".concat(this.getKeyPrefix(),":").concat(t))},r.prototype.setItem=function(t,a){this.storage.setItem("".concat(this.getKeyPrefix(),":").concat(t),a)},r.prototype.removeItem=function(t){this.storage.removeItem("".concat(this.getKeyPrefix(),":").concat(t))},r.prototype.clear=function(){this.storage.clear()},r.prototype.getKeyPrefix=function(){return"".concat(qn,":").concat(this.getLiffId())},r.prototype.getLiffId=function(){var t=it().liffId;if(!t)throw P(Qn,"liffId is necessary for liff.init()");return t},r})(),Y0=new K0(new v0);function eu(){var r=Y0.getItem("subWindowStatusUpdated");return r!==null&&JSON.parse(r)}function ka(r){Y0.setItem("subWindowStatusUpdated",String(r))}function Td(r){V0=r}function Zs(){return V0}function Od(){return F0}function fy(){return J0}function X0(){return J(this,arguments,void 0,(function(r){return r===void 0&&(r=Xs.MAIN),K(this,(function(t){switch(t.label){case 0:return[4,(Ed=new F2(r)).setup()];case 1:return t.sent(),[2,Ed]}}))}))}function Fi(){return Ed}var Y2=new v0,Q0=new K0(_0()?Y2:window.sessionStorage);function X2(r){Q0.setItem("mainWindowOrigin",r)}function Z0(){return Q0.getItem("mainWindowOrigin")}function W0(r){return J(this,arguments,void 0,(function(t,a){var s,o,u,f,h,p,m,v;return a===void 0&&(a={}),K(this,(function(b){switch(b.label){case 0:if((s=Fi())!=null&&s.isReady())return[3,5];if(o=JSON.stringify(a),u=it().liffId,f=Z0(),!window.opener||!f||!u)throw P(yd);h=!1,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,H0(u)];case 2:return p=b.sent(),h=p.subwindowCommonModule,[3,4];case 3:throw m=b.sent(),Oe.debug(m),P(yd);case 4:return v=h?f:location.origin,[2,new Promise((function(_){window.addEventListener("message",(function S(E){Q2(E)&&(window.removeEventListener("message",S),_({status:t,result:o}))})),window.opener.postMessage({status:t,result:o},v)}))];case 5:return s.send({eventName:t,data:a}),[4,new Promise((function(_){setTimeout(_,500)}))];case 6:return b.sent(),[2,{status:t,result:JSON.stringify(a)}]}}))}))}function Q2(r){return!(!r.data||typeof r.data.type!="string"||![He.SUBMIT,He.CANCEL].includes(r.data.type))}function rh(r){var t,a=fy();if(r.origin===a){var s=r.data;if(s){var o,u=s.status,f=s.result;try{o=JSON.parse(f||"{}")}catch{o={}}switch(u){case Zo:window.clearInterval(Od()),ah();break;case He.CANCEL:case He.SUBMIT:ka(!0),window.clearInterval(Od()),window.removeEventListener("message",rh),Bi(u,o),(t=Zs())===null||t===void 0||t.postMessage({type:u},fy());break;default:Oe.debug("unexpected message")}}}}var Z2=function(r){return J(void 0,void 0,void 0,(function(){var t,a,s,o;return K(this,(function(u){if(eu())return[2];switch(t=r.context,a=t.eventName,s=t.data,o=Fi(),a){case He.INIT:tb(!s.hasOpener);break;case He.CANCEL:case He.SUBMIT:ka(!0),Bi(a,s),o?.reply(r,{eventName:a});break;case He.CLOSE:eu()===!1&&(ka(!0),Bi(He.CLOSE,{})),ah()}return[2]}))}))};function eb(){window.clearInterval(G0),window.clearInterval(Od()),window.removeEventListener("message",rh)}function tb(r){if(r===void 0&&(r=!1),eb(),ka(!1),r){var t=Zs();t&&(t.close(),Td(null))}}function ah(){return J(this,void 0,void 0,(function(){var r;return K(this,(function(t){switch(t.label){case 0:return(r=Fi())?[4,r.teardown()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}function W2(r){return J(this,void 0,void 0,(function(){var t,a,s,o,u,f,h,p,m,v,b,_;return K(this,(function(S){switch(S.label){case 0:return(t=Kd(r.url))?(tb(!0),[4,ah()]):[2,Promise.reject(P(Qe,"params.url must be liff url or mini url"))];case 1:return S.sent(),Td(Ht()!=="ios"||Yd()?window.open("","liffsubwindow","width=480, height=640, menubar=no, toolbar=no, scrollbars=yes"):window.open()),a=r.url,s=r.appData,(o=new URL(a)).searchParams.append(m0,"true"),[4,X0()];case 2:return u=S.sent(),o.searchParams.append($0,u.identification.identifier),o.searchParams.append(xd,u.identification.cryptoKey),o.hostname=(function(x){var C=Te(x.split(".")),j=C[0],N=C.slice(1);return ut(["".concat(j,"-ext")],Te(N),!1).join(".")})(o.hostname),f=o.toString(),[4,H0(t)];case 3:if(h=S.sent(),p=h.origin,m=h.subwindowCommonModule,!(v=Zs()))throw P(vd);if(!m)return v.close(),[2];(function(x){J0=x})(p),u.listen(Z2),u.setData("appData",s),window.addEventListener("message",rh),S.label=4;case 4:return S.trys.push([4,6,,7]),[4,(_=r.onBeforeTransition)===null||_===void 0?void 0:_.call(r)];case 5:return S.sent(),[3,7];case 6:throw b=S.sent(),v.close(),b;case 7:return v.location.href=f,E=(function(x,C){var j=Zs(),N={type:Zo};return C&&(N.message=JSON.stringify(C)),window.setInterval((function(){j?.postMessage(N,x)}),p0)})(p,s),F0=E,(function(x){G0=x})(window.setInterval((function(){var x=Zs();x&&x.closed&&(eb(),Td(null),eu()===!1&&(ka(!0),Bi(He.CLOSE,{})))}),KT)),[2]}var E}))}))}var Vs=null;function nb(r){return J(this,void 0,void 0,(function(){var t,a,s,o,u,f,h,p,m,v,b,_,S,E,x=this;return K(this,(function(C){switch(C.label){case 0:if(t=r.msit,a=r.mstChallenge,s=r.reconnectCount,o=s===void 0?0:s,u=function(){return J(x,void 0,void 0,(function(){return K(this,(function(j){switch(j.label){case 0:return[4,(N=1e3,new Promise((function(L){return setTimeout(L,N)})))];case 1:return j.sent(),[4,nb({msit:t,mstChallenge:a,onSuccess:r.onSuccess,onError:r.onError,reconnectCount:o+1})];case 2:return j.sent(),[2]}var N}))}))},f=function(){for(var j=[],N=0;N<arguments.length;N++)j[N]=arguments[N];Vs=null,r.onSuccess.apply(r,ut([],Te(j),!1))},h=function(){for(var j=[],N=0;N<arguments.length;N++)j[N]=arguments[N];Vs=null,r.onError.apply(r,ut([],Te(j),!1))},p=Date.now(),Vs===null&&(Vs=p),m=p-Vs,o>=10||m>6e5)return h(P(Lt,"Failed to connect")),[2];C.label=1;case 1:return C.trys.push([1,3,,5]),[4,z2(et("subWindowSubscribe"),{method:"POST",body:JSON.stringify({msit:t,mstChallenge:a})})];case 2:return v=C.sent(),[3,5];case 3:return C.sent(),[4,u()];case 4:return C.sent(),[2];case 5:return v.status>=500?[4,u()]:[3,7];case 6:return C.sent(),[3,17];case 7:return v.status>=400&&500>v.status?[4,dy(v)]:[3,9];case 8:return _=C.sent(),b=_?P(Qe,_.errorDetail):P(Lt,"Some error happened in the server"),h(b),[3,17];case 9:return v.status!==200?[3,16]:[4,dy(v)];case 10:if(!(_=C.sent()))return h(P(Lt,"Some error happened in the server")),[2];switch(S=_.status,E=_.result,S){case He.ERROR:return[3,11];case He.CLOSE:case He.CANCEL:case He.SUBMIT:return[3,13]}return[3,14];case 11:return[4,u()];case 12:return C.sent(),[3,15];case 13:return f(S,E),[3,15];case 14:h(P(Lt,"Some error happened in the server")),C.label=15;case 15:return[3,17];case 16:h(P(Lt,"Some error happened in the server")),C.label=17;case 17:return[2]}}))}))}function dy(r){return J(this,void 0,void 0,(function(){return K(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,r.json()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,null];case 3:return[2]}}))}))}function eO(r){var t={};return Object.keys(r).forEach((function(a){a==="closeButtonColor"?r[a]==="white"?t[a]="#ffffff":t[a]="#000000":t[a]=r[a]})),t}var tO={height:"full",closeButtonPosition:"right",closeButtonColor:"black",closeButtonLabel:""};function nO(r){var t=r.appData,a=r.native,s=it().liffId,o=T0(),u=Kd(r.url);if(!s)return Promise.reject(P(bt,"liffId is invalid"));if(!o)return Promise.reject(P(bt,"mst_challenge is invalid"));if(!u)return Promise.reject(P(Qe,"params.url must be liff url or mini url"));var f=Object.assign({},tO,a);return(function(h){var p=h.mainLiffId,m=h.subLiffId,v=h.mstChallenge,b=h.appData,_=h.view;return p&&v?ft(et("subWindowGetMSIT"),{method:"POST",body:JSON.stringify({mainLiffId:p,subLiffId:m,mstChallenge:v,appData:b,view:_})}):Promise.reject(P(Qe,"no proper argument"))})({mainLiffId:s,subLiffId:u,mstChallenge:o,appData:t,view:eO(f)}).then((function(h){var p=h.msit;return nb({msit:p,mstChallenge:o,onSuccess:function(m,v){Bi(m,v)},onError:function(m){Bi(He.ERROR,m)}}),p})).then((function(h){return(function(p,m){return J(this,void 0,void 0,(function(){var v,b,_;return K(this,(function(S){switch(S.label){case 0:return v=p.url,(b=new URLSearchParams).set("msit",m),[4,(_=p.onBeforeTransition)===null||_===void 0?void 0:_.call(p)];case 1:return S.sent(),location.href="".concat(JT,"?url=").concat(encodeURIComponent(v),"&").concat(b.toString()),[2]}}))}))})(r,h)}))}function rb(r){return _r.subwindowOpen(),ke()?nO(r):W2(r)}function ih(r){if(!r.mst||!r.status)return Promise.reject(P(Qe,"no proper argument"));var t=JSON.stringify(r);return ft(et("subWindowPost"),{method:"POST",body:t})}function cu(){if(!Yn())throw P(bt,"this api can be only called in child window")}function ab(r){return r===void 0&&(r={}),cu(),ke()?(function(){return J(this,arguments,void 0,(function(t){var a,s;return t===void 0&&(t={}),K(this,(function(o){switch(o.label){case 0:return(a=su())?[4,ih({mst:a,status:He.CANCEL,result:t})]:[2,Promise.reject(P(bt,"mst is invalid"))];case 1:return s=o.sent(),ka(!0),[2,s]}}))}))})(r):(function(t){return t===void 0&&(t={}),W0(He.CANCEL,t)})(r)}function ib(r){return r===void 0&&(r={}),cu(),ke()?(function(){return J(this,arguments,void 0,(function(t){var a,s;return t===void 0&&(t={}),K(this,(function(o){switch(o.label){case 0:return(a=su())?[4,ih({mst:a,status:He.SUBMIT,result:t})]:[2,Promise.reject(P(bt,"mst is invalid"))];case 1:return s=o.sent(),ka(!0),[2,s]}}))}))})(r):(function(t){return t===void 0&&(t={}),W0(He.SUBMIT,t)})(r)}function sb(){return cu(),ke()?(function(){return J(this,void 0,void 0,(function(){var r;return K(this,(function(t){switch(t.label){case 0:return eu()!==!1?[3,2]:(r=su())?[4,ih({mst:r,status:He.CLOSE,result:{}})]:[2,Promise.reject(P(bt,"mst is invalid"))];case 1:t.sent(),t.label=2;case 2:return Mi(),[2]}}))}))})():(function(){return J(this,void 0,void 0,(function(){var r;return K(this,(function(t){return(r=Fi())!=null&&r.isReady()?(r.send({eventName:He.CLOSE}),[2,new Promise((function(a){setTimeout((function(){Mi(),a()}),p0)}))]):(Mi(),[2,Promise.resolve()])}))}))})()}function lb(){return cu(),(function(){var r,t=l2();try{r=t?JSON.parse(t):{}}catch{r={}}return Promise.resolve(r)})()}function rO(r){var t=r.msit,a=r.mstVerifier;return t&&a?ft(et("subWindowGetMSTByMSIT"),{method:"POST",body:JSON.stringify({msit:t,mstVerifier:a})}):Promise.reject(P(Qe,"no proper argument"))}function aO(r){var t=r.mst;return t?ft(et("subWindowGetAppData"),{method:"POST",body:JSON.stringify({mst:t})}):Promise.reject(P(Qe,"no proper argument"))}var yn={on:P0,off:q0,open:rb,cancel:ab,submit:ib,close:sb,getAppData:lb};(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"subWindow"},enumerable:!1,configurable:!0}),t.prototype.install=function(){var a=this;return{on:P0.bind(this),off:q0.bind(this),open:function(s){return rb.call(a,Je(Je({},s),{onBeforeTransition:void 0}))},cancel:ab.bind(this),submit:ib.bind(this),close:sb.bind(this),getAppData:lb.bind(this)}},t})(ge);var Vo={exports:{}},iO=Vo.exports,hy;function sO(){return hy||(hy=1,(function(r){(function(t,a){r.exports?r.exports=a():t.sha256=a()})(iO,function(){var t=function a(s){function o(Pe,we){return Pe>>>we|Pe<<32-we}for(var u=Math.pow,f=u(2,32),h="length",p,m,v="",b=[],_=s[h]*8,S=a.h=a.h||[],E=a.k=a.k||[],x=E[h],C={},j=2;x<64;j++)if(!C[j]){for(p=0;p<313;p+=j)C[p]=j;S[x]=u(j,.5)*f|0,E[x++]=u(j,.3333333333333333)*f|0}for(s+="";s[h]%64-56;)s+="\0";for(p=0;p<s[h];p++){if(m=s.charCodeAt(p),m>>8)return;b[p>>2]|=m<<(3-p)%4*8}for(b[b[h]]=_/f|0,b[b[h]]=_,m=0;m<b[h];){var N=b.slice(m,m+=16),L=S;for(S=S.slice(0,8),p=0;p<64;p++){var $=N[p-15],Y=N[p-2],G=S[0],F=S[4],le=S[7]+(o(F,6)^o(F,11)^o(F,25))+(F&S[5]^~F&S[6])+E[p]+(N[p]=p<16?N[p]:N[p-16]+(o($,7)^o($,18)^$>>>3)+N[p-7]+(o(Y,17)^o(Y,19)^Y>>>10)|0),oe=(o(G,2)^o(G,13)^o(G,22))+(G&S[1]^G&S[2]^S[1]&S[2]);S=[le+oe|0].concat(S),S[4]=S[4]+le|0}for(p=0;p<8;p++)S[p]=S[p]+L[p]|0}for(p=0;p<8;p++)for(m=3;m+1;m--){var de=S[p]>>m*8&255;v+=(de<16?0:"")+de.toString(16)}return v};return t.code='var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\\x80";b[h]%64-56;)b+="\\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};',t})})(Vo)),Vo.exports}var lO=sO();const oO=Ey(lO);var uO=function(){var r=this;this.type="sync",this.fns=new Set,this.on=function(t){r.fns.add(t)},this.call=function(){for(var t,a,s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];try{for(var u=cl(r.fns),f=u.next();!f.done;f=u.next()){var h=f.value;h.apply(void 0,ut([],Te(s),!1))}}catch(p){t={error:p}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(t)throw t.error}}}},Gs=function(){var r=this;this.type="async",this.fns=new Set,this.on=function(t){r.fns.add(t)},this.call=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return J(r,void 0,void 0,(function(){var s,o,u,f,h,p;return K(this,(function(m){switch(m.label){case 0:s=[];try{for(o=cl(this.fns),u=o.next();!u.done;u=o.next())f=u.value,s.push(f.apply(void 0,ut([],Te(t),!1)))}catch(v){h={error:v}}finally{try{u&&!u.done&&(p=o.return)&&p.call(o)}finally{if(h)throw h.error}}return[4,Promise.all(s)];case 1:return m.sent(),[2]}}))}))}},Ws=function(r){var t,a=zi(43),s=QT(oO(a)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),o=it();if(!o||!o.liffId)throw P(Qn,"You need to define `liffId` for liff.login()");var u={app_id:o.liffId,state:zi(12),response_type:"code",code_challenge_method:"S256",code_challenge:s,liff_sdk_version:uu()};r&&r.redirectUri&&(u.redirect_uri=r.redirectUri),Yn()&&!ke()&&(!((t=Fi())===null||t===void 0)&&t.isReady()?u.redirect_uri=window.location.href:u.disable_auto_login="true"),g2({codeVerifier:a});var f=et("authorize")+"?"+Bt.stringify(u);Oe.debug("[Redirect] ".concat(f)),window.location.href=f},cO=(function(r){function t(){var a=r.apply(this,ut([],Te(arguments),!1))||this;return a.hooks={before:new uO},a}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"login"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return this._login.bind(this)},t.prototype._login=function(a){this.hooks.before.call(a),Ws(a)},t})(ge),Yf,Go=typeof navigator>"u"?"en":(Yf=navigator.language)!==null&&Yf!==void 0?Yf:"en",Ad=null;function fO(r){return J(this,void 0,void 0,(function(){return K(this,(function(t){switch(t.label){case 0:return Go=r,[4,ob()];case 1:return t.sent(),[2]}}))}))}function ob(){return J(this,void 0,void 0,(function(){var r,t;return K(this,(function(a){switch(a.label){case 0:return[4,ft("".concat("https://liffsdk.line-scdn.net/xlt/manifest.json"),{method:"GET",headers:{Accept:"application/json"}})];case 1:return r=a.sent(),t="".concat(Go),!r.languages[t]&&Go.includes("-")&&(t=Go.split("-")[0]),r.languages[t]||(t="en"),[4,ft("".concat("https://liffsdk.line-scdn.net/xlt","/").concat(r.languages[t]),{method:"GET",headers:{Accept:"application/json"}})];case 2:return Ad=a.sent(),[2]}}))}))}function Xf(r){if(Ad===null)throw P(ct,"please call xlt after liff.init");return Ad[r]}var dO=(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"i18n"},enumerable:!1,configurable:!0}),t.prototype.install=function(a){return a.internalHooks.init.beforeFinished(this.beforeInitFinished.bind(this)),{setLang:fO}},t.prototype.beforeInitFinished=function(){return J(this,void 0,void 0,(function(){return K(this,(function(a){switch(a.label){case 0:return[4,ob()];case 1:return a.sent(),[2]}}))}))},t})(ge),hO=new dO,py={iconColor:"#111111",statusBarColor:"BLACK",titleTextColor:"#111111",titleSubtextColor:"#B7B7B7",titleButtonColor:"#111111",titleBackgroundColor:"#FFFFFF",progressBarColor:"#06C755",progressBackgroundColor:"#FFFFFF",titleButtonAreaBackgroundColor:"#1FFFFFFF",titleButtonAreaBorderColor:"#26000000",baseBackgroundColor:"#FFFFFF",baseTextColor:"#000000",lightButtonBorderColor:"rgba(0, 0, 0, 0.15)"},my={iconColor:"#FFFFFF",statusBarColor:"WHITE",titleTextColor:"#FFFFFF",titleSubtextColor:"#949494",titleButtonColor:"#FFFFFF",titleBackgroundColor:"#111111",progressBarColor:"#06C755",progressBackgroundColor:"#111111",titleButtonAreaBackgroundColor:"#1FFFFFFF",titleButtonAreaBorderColor:"#26000000",baseBackgroundColor:"#000000",baseTextColor:"#FFFFFF",lightButtonBorderColor:"rgba(255, 255, 255, 0.5)"};function pO(){var r;zt("color-scheme",(((r=_t())==null?void 0:r.menuColorSetting)||{adaptableColorSchemes:["light"]}).adaptableColorSchemes.join(" "));var t=window.matchMedia("(prefers-color-scheme: dark)");Qf({matches:t?.matches,media:t?.media}),t.addEventListener?t.addEventListener("change",Qf):t.addListener&&t.addListener(Qf)}function Qf(r){var t=_t(),a=t?.menuColorSetting||{adaptableColorSchemes:["light"],lightModeColor:py,darkModeColor:my},s=a.adaptableColorSchemes,o=a.lightModeColor,u=a.darkModeColor,f=s.includes("dark");r.matches&&f?gy(Je(Je({},my),u)):gy(Je(Je({},py),o))}function gy(r){var t=r.iconColor,a=r.statusBarColor,s=r.titleTextColor,o=r.titleSubtextColor,u=r.titleButtonColor,f=r.titleBackgroundColor,h=r.progressBarColor,p=r.progressBackgroundColor,m=r.titleButtonAreaBackgroundColor,v=r.titleButtonAreaBorderColor,b=r.baseBackgroundColor,_=r.baseTextColor,S=r.lightButtonBorderColor;zt("--liff-base-background-color",b),zt("--liff-base-text-color",_),zt("--liff-base-background-rgb-color",Wv(b)),zt("--liff-base-text-rgb-color",Wv(_)),zt("--liff-light-button-border-color",S),zt("--liff-title-text-color",s),zt("--liff-title-background-color",f),zt("--liff-title-button-color",u),zt("--liff-icon-color",t),zt("--liff-status-bar-color",a),zt("--liff-title-subtext-color",o),zt("--liff-progress-bar-color",h),zt("--liff-progress-background-color",p),zt("--liff-title-button-area-background-color",Zv(m)),zt("--liff-title-button-area-border-color",Zv(v))}function zt(r,t){document.documentElement.style.setProperty(r,t)}var mO={addToHomeScreen:function(r){if(!new Kf(r).invoke("addToHomeScreen"))throw P(De,"No permission for liff.addToHomeScreen()")},scanCode:function(r){if(!new Kf(r).invoke("scanCode"))return Promise.reject(P(De,"No permission for liff.scanCode()"))},getAdvertisingId:function(r){if(!new Kf(r).invoke("getAdvertisingId"))return Promise.reject(P(De,"No permission for liff.getAdvertisingId()"))},initPlugins:function(){}};function gO(r){return J(this,void 0,void 0,(function(){var t;return K(this,(function(a){switch(a.label){case 0:return[4,N2()];case 1:return(t=a.sent())?(t.install(r,mO),[2]):[2]}}))}))}function vO(){return J(this,void 0,void 0,(function(){return K(this,(function(r){switch(r.label){case 0:return[4,ft(et("certs"))];case 1:return[2,r.sent()]}}))}))}function yO(r,t,a){return J(this,void 0,void 0,(function(){var s;return K(this,(function(o){switch(o.label){case 0:return[4,crypto.subtle.importKey("jwk",r,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"])];case 1:return s=o.sent(),[4,crypto.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},s,a,t)];case 2:return[2,o.sent()]}}))}))}function ub(r,t){return J(this,void 0,void 0,(function(){var a,s,o,u,f,h,p,m,v,b,_,S,E,x,C,j;return K(this,(function(N){switch(N.label){case 0:return a=r.split("."),s=Te(a,3),o=s[0],u=s[1],f=s[2],h=JSON.parse(Gf.decode(o)),p=JSON.parse(Gf.decodeUnicode(u)),m=ey(Gf.decode(f)),v=ey("".concat(o,".").concat(u)),[4,vO()];case 1:if(b=N.sent(),!(_=b.keys.find((function(L){return L.kid===h.kid}))))return[3,6];if(delete _.alg,h.alg!=="ES256")throw P(xa,'Invalid "alg" value in ID_TOKEN');S=void 0,N.label=2;case 2:return N.trys.push([2,4,,5]),[4,yO(_,v,m)];case 3:return S=N.sent(),[3,5];case 4:throw E=N.sent(),P(xa,"".concat("Failed to use Crypto API to verify ID_TOKEN",": ").concat(E));case 5:if(S){if(x=p.iss!=="https://access.".concat("line.me"),C=p.aud!==t,j=1e3*p.exp<Date.now(),x)throw P(xa,'Invalid "iss" value in ID_TOKEN');if(C)throw P(xa,'Invalid "aud" value in ID_TOKEN');if(j)throw P(xa,'Invalid "exp" value in ID_TOKEN');return[2,p]}throw P(xa,"Invalid signature in ID_TOKEN");case 6:throw P(xa,'Invalid "kid" value in ID_TOKEN');case 7:return[2]}}))}))}function sh(r){var t=r.split(".");if(t[1])try{var a=t[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(a))}catch{return null}return null}function cb(r){var t=r.pathname,a=r.query,s=a?"?".concat(Bt.stringify(a)):"",o="".concat("liff://").concat(t).concat(s);location.href=o}var Cd=null;function bO(){typeof Cd=="boolean"&&Oe.warn("liff.init is not expected to be called more than once"),Cd=!!i2()||!(!ke()||Bt.parse(window.location.hash).feature_token||dl())&&(s2(!0),!0)}function jd(){return!!Cd}function wO(r,t){return J(this,void 0,void 0,(function(){var a;return K(this,(function(s){switch(s.label){case 0:return(a=su())?[2,a]:r&&t?[4,rO({msit:r,mstVerifier:t})]:[3,2];case 1:return[2,s.sent().mst];case 2:return[2,null]}}))}))}function _O(r){return ft("".concat(et("apps"),"/").concat(r,"/featureToken"))}function SO(r){return J(this,void 0,void 0,(function(){var t,a,s,o;return K(this,(function(u){switch(u.label){case 0:return t=Bt.parse(window.location.hash),a=(function(f){for(var h,p,m=[],v=1;v<arguments.length;v++)m[v-1]=arguments[v];var b=function(E){Object.keys(E).filter((function(x){return E[x]!==null&&E[x]!==void 0})).forEach((function(x){f[x]=E[x]}))};try{for(var _=cl(m),S=_.next();!S.done;S=_.next())b(S.value)}catch(E){h={error:E}}finally{try{S&&!S.done&&(p=_.return)&&p.call(_)}finally{if(h)throw h.error}}return f})({access_token:Zn(),context_token:m2(),feature_token:dl(),id_token:lu(),client_id:p2(),mst_challenge:T0(),mst_verifier:o2(),msit:c2()},t),jd()?Mt()?[4,_O(r)]:[3,2]:[3,3];case 1:s=u.sent().featureToken,a.feature_token||(a.feature_token=s),u.label=2;case 2:(o=Jd(r))&&(a.client_id=o),u.label=3;case 3:return[2,a]}}))}))}function xO(r){if(r.persisted&&hl("multipleLiffTransition"))if(Ht()==="ios")window.location.reload();else{var t=it().liffId,a=dl();if(!t)throw P(ct,"Invalid LIFF ID.");if(!a)throw P(De,"Invalid featureToken for client features");cb({pathname:"app/".concat(t),query:{feature_token:a}})}}function EO(r){return J(this,void 0,void 0,(function(){var t,a,s,o,u,f,h,p,m,v,b,_,S,E,x,C,j,N,L;return K(this,(function($){switch($.label){case 0:return[4,new Promise((function(Y){var G=Wn();if(!G||Ln(G,"9.5.0")<0)Y();else if(window._liff&&window._liff.features)Y();else{Oe.debug("cannot find window._liff.features, listen to ready event");var F=function(){Oe.debug("ready event is fired"),nh("ready",F),Y()};th("ready",F)}}))];case 1:return $.sent(),bO(),[4,SO(r.liffId)];case 2:if(t=$.sent(),a=t.access_token,s=t.context_token,o=t.feature_token,u=t.id_token,f=t.client_id,h=t.mst_verifier,p=t.mst_challenge,m=t.msit,s){if(typeof s!="string")throw P(ct,"Cannot get context token, perhaps there is an incorrect parameter in permanent link");Xd(sh(s))}if(((N=_t())===null||N===void 0?void 0:N.liffId)!==void 0&&((L=_t())===null||L===void 0?void 0:L.liffId)!==r.liffId)throw P(ct,"Invalid LIFF ID");return!Yn()&&o&&((function(Y,G){hl("multipleLiffTransition")&&cb({pathname:"app/".concat(Y),query:{feature_token:G}})})(r.liffId,o),jd()&&iy(o)),p&&h2(p),h&&u2(h),f&&O0(f),m&&f2(m),window.addEventListener("pageshow",xO),Mt()?[3,5]:o&&a?[3,5]:jd()?(v=ll(location.href,{"liff.hback":"2"}),Ws({redirectUri:v}),[4,new Promise((function(){}))]):[3,4];case 3:$.sent(),$.label=4;case 4:throw Ws(),P(ct,"Failed to parse feature_token or access_token");case 5:return a&&o?[4,eh(a)]:[3,7];case 6:if(b=$.sent(),_=b.client_id,S=b.expires_in,E=Jd(r.liffId),_!==E)throw Ws(),P(ct,"Failed to verify access_token");iy(o),R0(new Date(Date.now()+1e3*S)),Qd(a),$.label=7;case 7:return[4,wO(m,h)];case 8:return(x=$.sent())?(d2(x),[4,aO({mst:x})]):[3,10];case 9:(C=$.sent().data)&&_d(JSON.stringify(C)),$.label=10;case 10:return u&&!lu()&&A0(u),u&&f&&!ou()?[4,ub(u,f)]:[3,12];case 11:(j=$.sent())&&N0(j),$.label=12;case 12:return[2]}}))}))}function TO(r){return J(this,void 0,void 0,(function(){var t,a,s,o,u,f,h;return K(this,(function(p){switch(p.label){case 0:return t=et("apps"),a="".concat(t,"/").concat(r,"/contextToken"),s=Zn(),o={"Content-Type":"application/json",Accept:"application/json"},s&&(o.Authorization="Bearer ".concat(s)),[4,ft(a,{headers:o})];case 1:if(u=p.sent(),!(f=u.contextToken))throw P(ct,"Can not get context from server.");if(!(h=sh(f)))throw P(ct,"Invalid context token.");return[2,h]}}))}))}function fb(){return J(this,void 0,void 0,(function(){var r,t;return K(this,(function(a){switch(a.label){case 0:if(!(r=it().liffId))throw P(ct,"Invalid LIFF ID.");return[4,TO(r)];case 1:return t=a.sent(),Xd(t),[2]}}))}))}function OO(r){return J(this,void 0,void 0,(function(){var t,a,s,o=this;return K(this,(function(u){switch(u.label){case 0:t=function(){return J(o,void 0,void 0,(function(){var f,h,p,m,v,b;return K(this,(function(_){switch(_.label){case 0:return[4,(S=it(),E=Bt.parse(window.location.search),x=j0(),C={grant_type:"authorization_code",client_id:E.liffClientId,appId:S.liffId,code:E.code,code_verifier:x.codeVerifier,redirect_uri:S.redirectUri||E.liffRedirectUri,id_token_key_type:"JWK"},j=Bt.stringify(C),ft(et("token"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:j}))];case 1:return f=_.sent(),h=f.access_token,p=f.id_token,m=f.expires_in,O0(r),Qd(h),R0(new Date(Date.now()+1e3*m)),sy(),p?(A0(p),[4,ub(p,r)]):[3,3];case 2:(v=_.sent())&&N0(v),_.label=3;case 3:return(b=Bt.parse(location.hash).context_token)?(Xd(sh(b)),[3,6]):[3,4];case 4:return[4,fb()];case 5:_.sent(),_.label=6;case 6:return[2]}var S,E,x,C,j}))}))},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,t()];case 2:return u.sent(),[3,4];case 3:throw a=u.sent(),s=a,sy(),s;case 4:return[2]}}))}))}function db(){return J(this,void 0,void 0,(function(){var r,t,a,s,o,u,f=this;return K(this,(function(h){switch(h.label){case 0:return(t=Fi())?[3,2]:[4,X0(Xs.SUB)];case 1:t=h.sent(),h.label=2;case 2:return(r=t).isReady()?(a=zi(8),[4,r.getData("appData")]):[3,8];case 3:return s=h.sent(),o=s.eventName,u=s.data,o!==qo.NOT_FOUND?[3,6]:[4,r.teardown()];case 4:return h.sent(),[4,db()];case 5:return[2,h.sent()];case 6:u&&_d(JSON.stringify(u)),h.label=7;case 7:return r.listen((function(p){return J(f,void 0,void 0,(function(){var m,v;return K(this,(function(b){return m=p.context,v=m.data,m.eventName===He.INIT&&v?.subWindowId!==a&&Mi(),m.eventName!==He.CANCEL&&m.eventName!==He.SUBMIT||r.teardown(),[2]}))}))})),Mt()&&r.send({eventName:He.INIT,data:{subWindowId:a,hasOpener:!!window.opener}}),[3,10];case 8:return Z0()?[3,10]:[4,new Promise((function(p){window.addEventListener("message",(function(m){return function v(b){var _=b.data,S=b.source,E=b.origin;if(_){var x=_.type,C=_.message;x===Zo&&(window.removeEventListener("message",v),C&&_d(C),X2(E),S&&S.postMessage&&S.postMessage({status:Zo},E),m())}}})(p))}))];case 9:return[2,h.sent()];case 10:return[2]}}))}))}var AO=new((function(){function r(){var t=this;this.getAndValidateContext=function(){var a=_t();if(!a)throw P(ct,"Could not get Context from server.");if(!a.endpointUrl)throw P(ct,"Could not get endpointUrl from server.");if(!a.permanentLinkPattern)throw P(ct,"Could not get permanentLinkPattern from server.");return a},this.decodeState=function(a){var s=t.getAndValidateContext();a=a.replace(/\n/g,"%0D%0A");var o=t.hasTrailingSlash(s.endpointUrl)||t.hasTrailingSlash(a),u=new URL(s.endpointUrl),f=u.origin,h=u.pathname,p=u.search,m=new URL("".concat(f).concat(t.attachSlashAtStart(a))),v=m.pathname,b=m.search,_=m.hash,S="".concat(p).concat(p?b.replace(/\?/g,"&"):b),E="".concat(h).concat(t.attachSlashAtStart(v)).replace("//","/");return(E=t.attachSlashAtStart("".concat(E))).endsWith("/")&&!o&&(E=E.substring(0,E.length-1)),"".concat(f).concat(E).concat(S).concat(_).replace(/%0D%0A/g,`
`)}}return r.prototype.attachSlashAtStart=function(t){return"".concat(t&&t.length>0&&!t.startsWith("/")?"/":"").concat(t)},r.prototype.hasTrailingSlash=function(t){var a=t.indexOf("?"),s=t.indexOf("#"),o=-1;return(o=a===-1&&s===-1?t.length:a===-1?s:s===-1?a:Math.min(a,s))>0&&t[o-1]==="/"},r.prototype.invoke=function(){return J(this,void 0,void 0,(function(){var t,a,s,o,u;return K(this,(function(f){switch(f.label){case 0:if(t=Bt.parse(window.location.search),typeof(a=t["liff.state"])!="string")return[2];f.label=1;case 1:return f.trys.push([1,4,,5]),s=location.href,(o=this.decodeState(a))===s?[3,3]:(t["liff.hback"]?location.replace(ll(o,{"liff.hback":t["liff.hback"]})):location.replace(o),[4,new Promise((function(){}))]);case 2:f.sent(),f.label=3;case 3:return[3,5];case 4:if((u=f.sent()).code===ct)throw u;return Oe.debug(u),[3,5];case 5:return[2]}}))}))},r})());function CO(r,t){return J(this,void 0,void 0,(function(){var a,s;return K(this,(function(o){switch(o.label){case 0:if(!r.liffId)throw P(Qn,"liffId is necessary for liff.init()");return r2(r),!ke()&&Mt()&&(v2()||Zd()),a=Bt.parse(window.location.search),!Yn()||ke()?[3,2]:[4,db()];case 1:o.sent(),o.label=2;case 2:if(a.error&&a.liffOAuth2Error)throw h=a.error,p=a.error_description,m=p.replace(/\+/g," "),v="".concat(h,": ").concat(m),P(ct,v);return u=a.code,f=j0(),u&&!Mt()&&f&&f.codeVerifier?[4,OO(a.liffClientId)]:[3,4];case 3:o.sent(),o.label=4;case 4:return ke()?[4,EO(r)]:[3,6];case 5:return o.sent(),[3,8];case 6:return Mt()?[3,8]:[4,fb()];case 7:o.sent(),o.label=8;case 8:return[4,AO.invoke()];case 9:if(o.sent(),s=_t())try{Wd(location.href,s.endpointUrl)}catch{Oe.warn(`liff.init() was called with a current URL that is not related to the endpoint URL.
`.concat(location.href," is not under ").concat(s.endpointUrl))}return[4,t()];case 10:return o.sent(),e2(window.location.href),[2]}var u,f,h,p,m,v}))}))}var hb=function(r,t){return new Promise((function(a,s){if(r){var o=document.createElement("script");o.type="module",o.onload=function(){a()},o.src=r,document.head.appendChild(o)}else s(P(Qn,t))}))},jO=function(r){var t="https://static.line-scdn.net/lui/edge/versions/1.13.0/lui-alert.js";return t&&r&&(t=t.replace(/\d{1,2}\.\d{1,2}\.\d{1,3}/,r)),hb(t,"LUI_ALERT_URL is not defined")},Zf=function(){return J(void 0,void 0,void 0,(function(){var r;return K(this,(function(t){switch(t.label){case 0:return r=(function(){var s,o=document.querySelector('script[src*="luivendor.js"]');if(o&&(!((s=o.src.match(/\d{1,2}\.\d{1,2}\.\d{1,3}/g))===null||s===void 0)&&s.length))return o.src.match(/\d{1,2}\.\d{1,2}\.\d{1,3}/g)[0]})(),r?[3,2]:[4,hb("https://static.line-scdn.net/lui/edge/versions/1.13.0/luivendor.js","LUI_VENDOR_URL is not defined")];case 1:t.sent(),t.label=2;case 2:return[4,jO(r)];case 3:return t.sent(),[4,(a=zi(6),new Promise((function(){var s=document.createElement("div");s.innerHTML='<lui-alert id="'.concat("liffAlert","-").concat(a,'" shown title="').concat(Xf("alert.android.extBrowser.autoLoginWorkaround.title"),'" message="').concat(Xf("alert.android.extBrowser.autoLoginWorkaround.desc"),'" button="').concat(Xf("alert.android.extBrowser.autoLoginWorkaround.button.text"),'"></lui-alert>'),document.body.appendChild(s);var o=document.getElementById("".concat("liffAlert","-").concat(a));o&&o.addEventListener("lui-button-click",(function(){var u=window.open(ll(window.location.href,{liffIsEscapedFromApp:"true"}),"_blank");u&&(u.location.href=ll(window.location.href,{liffIsEscapedFromApp:"true"}),window.close())}))})))];case 4:return t.sent(),[2]}var a}))}))},vy=function(r){try{return new URL(r).searchParams.get("lineAppVersion")}catch{return null}};function RO(){return J(this,void 0,void 0,(function(){var r,t,a;return K(this,(function(s){switch(s.label){case 0:return r=(a=vy(window.location.href))!==null&&a!==void 0?a:vy(window.document.referrer),r&&Ln(r,"13.10.0")>=0?[2]:ke()||Ht()!=="android"||(t=Bt.parse(window.location.search))[$0]||t.liffIsEscapedFromApp?[2]:t.liffClientId&&document.referrer.includes("access.".concat("line.me"))?(window.location.href=ll(window.location.href,{liffIsEscapedFromApp:"true"}),[2]):t.liffClientId&&document.referrer.includes("android-app://")?[4,Zf()]:[3,2];case 1:s.sent(),s.label=2;case 2:return t.liffClientId&&document.referrer===""&&window.history.length===1?[4,Zf()]:[3,4];case 3:s.sent(),s.label=4;case 4:return!document.referrer.includes("liffClientId")||document.referrer.includes("liffIsEscapedFromApp")?[3,6]:[4,Zf()];case 5:s.sent(),s.label=6;case 6:return[2]}}))}))}var NO=(function(r){function t(){var a=r.apply(this,ut([],Te(arguments),!1))||this;return a.hooks={before:new Gs,after:new Gs},a.internalHooks={beforeFinished:new Gs,beforeSuccess:new Gs,error:new Gs},a}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"init"},enumerable:!1,configurable:!0}),t.prototype.install=function(a){var s=a.liff;return this.liffForWindow=s,this.init.bind(this)},t.prototype.init=function(a,s,o){return J(this,void 0,void 0,(function(){var u;return K(this,(function(f){switch(f.label){case 0:return[4,this.hooks.before.call()];case 1:f.sent(),h=this.liffForWindow,window&&!window.liff&&(window.liff=h),f.label=2;case 2:return f.trys.push([2,9,,11]),[4,Promise.all([gO(this.liffForWindow),CO(a,this.internalHooks.beforeFinished.call)])];case 3:return f.sent(),pO(),[4,this.internalHooks.beforeSuccess.call()];case 4:return f.sent(),!a.withLoginOnExternalBrowser||Mt()?[3,6]:(Ws(),[4,new Promise((function(){}))]);case 5:f.sent(),f.label=6;case 6:return[4,RO()];case 7:return f.sent(),[4,this.hooks.after.call()];case 8:return f.sent(),typeof s=="function"&&s(),d0(),[3,11];case 9:return u=f.sent(),[4,this.internalHooks.error.call(u)];case 10:throw f.sent(),typeof o=="function"&&o(u),u;case 11:return[2]}var h}))}))},t})(ge);function pb(){return{liffApp:"https://liff.".concat("line.me"),liffServer:"https://api.".concat("line.me"),miniApp:"https://miniapp.".concat("line.me")}}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"getOrigins"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return pb()}},t})(ge);function mb(){return navigator.language}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"getLanguage"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return mb()}},t})(ge);function gb(){var r=Wn();if(!r||!ke()||Ht()!=="ios")return navigator.language;if(Ln(r,"14.11.0")>=0){var t=window.prompt("LIFF:GET_APP_LANGUAGE");if(t)return t}return navigator.language}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"getAppLanguage"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return gb()}},t})(ge);function vb(r){return J(this,void 0,void 0,(function(){var t,a,s,o,u,f,h;return K(this,(function(p){switch(p.label){case 0:return(function(m){if(!YT.includes(m))throw P(Qe,"Unexpected permission name.");var v=_t();return!!v?.scope.includes(m)})(r)?(t=Zn())?[4,eh(t)]:[3,2]:[2,{state:"unavailable"}];case 1:a=p.sent(),s=unescape(a.scope).split(" ");try{for(o=cl(s),u=o.next();!u.done;u=o.next())if(u.value.includes(r))return[2,{state:"granted"}]}catch(m){f={error:m}}finally{try{u&&!u.done&&(h=o.return)&&h.call(o)}finally{if(f)throw f.error}}return[2,{state:"prompt"}];case 2:throw P(bt,"Need access_token for api call, Please login first")}}))}))}function yb(){var r,t,a=_t();return!!a&&a.type!=="square_chat"&&(hl("skipChannelVerificationScreen")||!ke()&&((t=(r=a.availability)===null||r===void 0?void 0:r.skipChannelVerificationScreen)===null||t===void 0?void 0:t.permission))}function kO(){var r=it().liffId;if(r)return ft("".concat(et("unauthorizedPermissions"),"?liffId=").concat(r),{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(Zn())}});throw P(bt,"liffId is required")}var Fo,$o=yn.on,zo=yn.off,UO=yn.open,DO=(function(){function r(t,a){var s=this;this.onSubmit=function(o){return J(s,[o],void 0,(function(u){var f=u.newAccessToken,h=u.ICA_ERROR;return K(this,(function(p){return f?this.resolve({newAccessToken:f}):h&&this.reject(P(Lt,h)),this.teardown(),[2]}))}))},this.onClose=function(){return J(s,void 0,void 0,(function(){return K(this,(function(o){return this.reject(P(bt,"user didn't allow the agreement")),this.teardown(),[2]}))}))},this.onCancel=function(){return J(s,void 0,void 0,(function(){return K(this,(function(o){return this.reject(P(bt,"user didn't allow the agreement")),this.teardown(),[2]}))}))},this.onError=function(o){return J(s,void 0,void 0,(function(){return K(this,(function(u){return this.reject(o),this.teardown(),[2]}))}))},this.resolve=t,this.reject=a,this.setup()}return r.prototype.setup=function(){$o("submit",this.onSubmit),$o("close",this.onClose),$o("cancel",this.onCancel),$o("error",this.onError)},r.prototype.teardown=function(){zo("submit",this.onSubmit),zo("close",this.onClose),zo("cancel",this.onCancel),zo("error",this.onError),Fo=void 0},r.prototype.open=function(t){var a=it().liffId;a?UO({url:"".concat("https://liff.line.me/1656032314-Xgrw5Pmk"),appData:{liffId:a,channelId:Jd(a),accessToken:Zn()},onBeforeTransition:t}).catch(this.reject):this.reject(P(bt,"liffId is required"))},r})();function bb(){return J(this,void 0,void 0,(function(){var r,t,a=this;return K(this,(function(s){switch(s.label){case 0:if(!yb())throw P(De,"SkipChannelVerificationScreen is unavailable.");return Fo&&Fo.teardown(),r=function(){return J(a,void 0,void 0,(function(){var o;return K(this,(function(u){switch(u.label){case 0:return[4,kO()];case 1:if(o=u.sent(),(ke()?o:o.filter((function(f){return f!=="chat_message.write"}))).length<=0)throw P(De,"All permissions have already been approved.");return[2]}}))}))},[4,new Promise((function(o,u){(Fo=new DO(o,u)).open(r)}))];case 1:return t=s.sent().newAccessToken,Qd(t),[2]}}))}))}function IO(){return J(this,void 0,void 0,(function(){var r,t;return K(this,(function(a){switch(a.label){case 0:if(!(r=Zn()))throw P(bt,"Need access_token for api call, Please login first");return[4,eh(r)];case 1:return t=a.sent(),[2,decodeURIComponent(t.scope).split(" ").filter((function(s){return s!==""}))]}}))}))}function $i(r,t){var a=this;return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return J(a,void 0,void 0,(function(){var u,f,h;return K(this,(function(p){switch(p.label){case 0:return u=(s.length>0?s[s.length-1]:{}).ignorePermissionCheck,f=u!==void 0&&u,[4,vb(t)];case 1:if((h=p.sent().state)!=="unavailable")return[3,2];throw P(De,"The permission is not in LIFF app scope.");case 2:return h!=="prompt"||!yb()||f||!ke()&&t==="chat_message.write"?[3,4]:[4,bb()];case 3:return p.sent(),[3,5];case 4:f&&s.pop(),p.label=5;case 5:return[4,r.apply(void 0,ut([],Te(s),!1))];case 6:return[2,p.sent()]}}))}))}}var LO=(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"permission"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return{query:vb,requestAll:bb,getGrantedAll:IO}},t})(ge),MO=new LO;function lh(){return ft(et("profile"))}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"getProfile"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return $i(lh,"profile")},t})(ge);var $O=function(r,t){return r?"&".concat(r.split("&").filter((function(a){return a.indexOf("is_liff_external_open_window")===-1})).join("&").concat("".concat(t?"#".concat(t):""))):"".concat(t?"#".concat(t):"")};function fu(r){if(!(function(u){if(!u||typeof u!="object")return!1;var f=u,h=f.url,p=f.external,m=Te([typeof h,typeof p],2),v=m[0],b=m[1];return v==="string"&&h!==""&&(b==="undefined"||b==="boolean")})(r))throw P(Qe,"Invalid parameters for liff.openWindow()");var t=Wn();if(ke())if(t!==null&&Ht()==="ios"&&Ln(t,"9.19")>=0||!window._liff.postMessage){var a=r.url,s=r.external,o=s!==void 0&&s;window.open((function(u,f){var h,p,m,v,b,_,S,E,x;(function(j){return j.indexOf("#")!==-1&&j.indexOf("?")!==-1&&j.indexOf("#")<j.indexOf("?")})(u)||(function(j){return j.indexOf("?")===-1&&j.indexOf("#")!==-1})(u)?(S=(h=Te(u.split("#"),2))[0],p=h[1],E=(m=Te((p===void 0?"":p).split("?"),2))[0],x=m[1]):(S=(v=Te(u.split("?"),2))[0],b=v[1],x=(_=Te((b===void 0?"":b).split("#"),2))[0],E=_[1]);var C=$O(x,E);return"".concat(S,"?").concat("is_liff_external_open_window","=").concat(!!f).concat(C)})(a,o))}else Gi("openWindow",r);else window.open(r.url,"_blank")}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"openWindow"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(a){return fu(a)}},t})(ge);var zO=function(r){return typeof r=="object"&&r!==null&&(function(t){return typeof t=="string"||t instanceof String})(r.type)};function yy(r){return Promise.reject(P(Qe,r))}function wb(r){if(!(function(a){return Array.isArray(a)&&a.every(zO)})(r))return yy("Parameter 'messages' must be an array of { type, ... }");var t=r.length;return t<1||t>5?yy("Number of messages should be in range 1 to ".concat(5,".")):ft(et("message"),{method:"POST",body:JSON.stringify({messages:r})}).catch(BO)}var BO=function(r){if(r.code==="403"){var t=Wn()==="12.0.0",a=Ht()==="ios",s=Yd();t&&(a||s)&&window.alert(`LINELINE 12.0.1
Please update your LINE app to LINE 12.0.1 or later.`)}throw r};(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"sendMessages"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return $i(wb,"chat_message.write")},t})(ge);function _b(){return ft(et("friendship"))}(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"getFriendship"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return $i(_b,"profile")},t})(ge);function HO(){return J(this,void 0,void 0,(function(){var r,t;return K(this,(function(a){switch(a.label){case 0:if(!Mt())return[3,6];a.label=1;case 1:return a.trys.push([1,5,,6]),(r=ou())&&r.sub?[2,r.sub]:[3,2];case 2:return[4,lh()];case 3:if((t=a.sent())&&t.userId)return[2,t.userId];a.label=4;case 4:return[3,6];case 5:return a.sent(),Oe.debug("can't retrieve Mid/Uid because of something wrong"),[3,6];case 6:return[2]}}))}))}function PO(){return J(this,void 0,void 0,(function(){var r;return K(this,(function(t){switch(t.label){case 0:return[4,HO()];case 1:return(r=t.sent())&&r.substring(0,1)==="u"?[2,r]:[2]}}))}))}var qO=(function(r){function t(){var a=r.apply(this,ut([],Te(arguments),!1))||this;return a.utsExtra={isLiffSuccessful:!1,isLoggedIn:!1,id:"",version:""},a.injected=!1,a}return be(t,r),Object.defineProperty(t,"CUSTOMPLACEID_INIT",{get:function(){return"liff.init"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CUSTOMTYPE",{get:function(){return"liffSdk"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"LiffUtsLoginStatus",{get:function(){return{isLoggedIn:1,isLiffSuccessful:2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"analytics"},enumerable:!1,configurable:!0}),t.prototype.install=function(a){var s=a.liff,o=a.internalHooks;this.liffCore=s,o.init.beforeFinished(this.beforeInitFinished.bind(this)),o.init.beforeSuccess(this.beforeInitSuccess.bind(this)),o.init.error(this.initError.bind(this))},t.prototype.createDeprecatedUtsProxy=function(a){var s="LIFF Analytics is deprecated and will be removed in a future version. Please migrate to alternative analytics solutions.";return new Proxy(a,{get:function(o,u){var f=o[u];return typeof f=="function"?function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];return Oe.warn("[LIFF Analytics] ".concat(s," Called method: ").concat(String(u))),f.apply(o,h)}:f}})},t.prototype.changeRatioToUTSFormat=function(a){if(a&&Number.isFinite(a))return Math.round(100*a)},t.prototype.setExtra=function(){var a,s=this.utsExtra,o=s.isLiffSuccessful,u=s.isLoggedIn,f=s.id,h=s.version,p=(u?t.LiffUtsLoginStatus.isLoggedIn:0)|(o?t.LiffUtsLoginStatus.isLiffSuccessful:0);(a=this.uts)===null||a===void 0||a.setExtra("liff",{id:f,loginStatus:p,version:h})},t.prototype.assignUtsExtra=function(a){Object.assign(this.utsExtra,a)},t.prototype.setVersion=function(a){this.assignUtsExtra({version:a}),Oe.debug("[LIFFUTS][SDK version] ".concat(a)),this.setExtra()},t.prototype.setLiffId=function(a){this.assignUtsExtra({id:a}),Oe.debug("[LIFFUTS][LIFFID] ".concat(a)),this.setExtra()},t.prototype.setIsLoggedIn=function(a){this.assignUtsExtra({isLoggedIn:a}),Oe.debug("[LIFFUTS][isLoggedIn] ".concat(a)),this.setExtra()},t.prototype.sendLiffInit=function(){var a;Oe.debug("[LIFFUTS][sendCustom] liff.init"),(a=this.uts)===null||a===void 0||a.sendCustom({type:t.CUSTOMTYPE,params:{placeId:t.CUSTOMPLACEID_INIT}})},t.prototype.setIsLiffSuccessful=function(a){this.assignUtsExtra({isLiffSuccessful:a}),Oe.debug("[LIFFUTS][isLiffInitSuccessful] ".concat(a)),this.setExtra()},t.prototype.prepareReferrer=function(a){var s={};Object.keys(a).forEach((function(o){if(FT.includes(o)){var u=a[o];typeof u=="string"&&u&&(s[o.replace(/^liff\.ref\./,"")]=u)}})),Object.keys(s).length>0&&(this.referrer=s)},t.prototype.beforeInitFinished=function(){return J(this,void 0,void 0,(function(){var a,s,o,u,f,h,p,m,v,b,_,S;return K(this,(function(E){switch(E.label){case 0:if(a=Bt.parse(window.location.search),this.prepareReferrer(a),s=_t(),!(o=s?.utsTracking))return[2];if(u=it(),f=u.liffId,h=u.analytics,o.mode!=="auto"||!h)return[3,6];Oe.warn("[LIFF Analytics] LIFF Analytics is deprecated and will be removed in a future version. Please migrate to alternative analytics solutions."),Oe.debug("[LIFFUTS] ".concat(new Date().toUTCString())),E.label=1;case 1:return E.trys.push([1,3,,4]),p=this,[4,new Promise((function(x,C){var j=window.uts,N=document.createElement("script");N.type="text/javascript",N.src="https://static.line-scdn.net/uts/edge/4.1.0/uts.js",N.onload=function(){var L=window.uts;x(L),window.uts=j},N.onerror=function(L){C(L)},document.getElementsByTagName("head")[0].appendChild(N)}))];case 2:return p.uts=E.sent(),[3,4];case 3:return m=E.sent(),Oe.debug("[LIFFUTS] cannot load UTS, reason: ".concat(m)),[2];case 4:return v=Je(Je({},h.context),{utsId:h.context.utsId,appName:h.context.appName,appEnv:h.context.appEnv||"release"}),b=Je(Je({endpoint:"https://uts-front.line-apps.com"},h.options),{sampleRate:this.changeRatioToUTSFormat(o.sendRatio),version:"current"}),this.uts.init(v,b),[4,PO()];case 5:(_=E.sent())&&(Oe.debug("[LIFFUTS][mid] ".concat(_)),this.uts.setMid(_)),s?.tid&&(Oe.debug("[LIFFUTS][tid] ".concat(s.tid)),this.uts.setTid(s.tid)),this.referrer&&(Oe.debug("liff.ref.referrer",this.referrer),this.uts.setSessionParams(this.referrer)),f&&this.setLiffId(f),this.setIsLoggedIn(Mt()),this.setVersion(uu()),S=y0(location.href),Oe.debug("[LIFFUTS][url] ".concat(S)),this.uts.setUrl(S),this.liffCore.analytics=this.createDeprecatedUtsProxy(this.uts),this.injected=!0,E.label=6;case 6:return[2]}}))}))},t.prototype.beforeInitSuccess=function(){return this.injected&&(this.setIsLiffSuccessful(!0),this.sendLiffInit()),Promise.resolve()},t.prototype.initError=function(){return this.injected&&(this.setIsLiffSuccessful(!1),this.sendLiffInit()),Promise.resolve()},t})(ge),VO=function(r){Oe.warn("[LIFF Analytics] LIFF Analytics is deprecated and will be removed in a future version. Please migrate to alternative analytics solutions. Called function: sendShareTargetPicker"),Oe.debug("[LIFFUTS][sendCustom] liff.shareTargetPicker"),r.sendCustom({type:"liffSdk",params:{placeId:"liff.shareTargetPicker"}})},ki,GO=(function(){function r(t,a){var s=this;this.resolve=t,this.reject=a,this.onSubmit=function(o){var u=o.message;s.resolve({value:u}),s.destroy()},this.onClose=function(){s.resolve({value:null}),s.destroy()},this.onCancel=function(){s.resolve({value:null}),s.destroy()},this.onError=function(o){s.reject(o),s.destroy()},this.start()}return r.prototype.start=function(){yn.on("submit",this.onSubmit),yn.on("close",this.onClose),yn.on("cancel",this.onCancel),yn.on("error",this.onError)},r.prototype.destroy=function(){yn.off("submit",this.onSubmit),yn.off("close",this.onClose),yn.off("cancel",this.onCancel),yn.off("error",this.onError),ki=void 0},r})();function FO(){return J(this,void 0,void 0,(function(){return K(this,(function(r){return _r.scanCodeV2(),ki&&ki.destroy(),[2,new Promise((function(t,a){ki=new GO(t,a),yn.open({url:"https://liff.line.me/1656359117-jxmx5e11"}).catch((function(s){ki?.destroy(),a(s)}))}))]}))}))}var JO=(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"scanCodeV2"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return FO},t})(ge),KO=new JO,Sb={};function YO(){return Sb}function XO(r,t){var a=YO(),s=Te(t.split("."),1)[0],o=a[t];o&&r.removeEventListener(s,o),a[t]=null}var by=!1,wy=!1;function QO(r,t,a,s){by||(wy=(function(){var u=!1;try{var f=Object.defineProperty({},"passive",{get:function(){return u=!0,!1}});window.addEventListener("test",f,f),window.removeEventListener("test",f,f)}catch{u=!1}return u})(),by=!0);var o=Te(t.split("."),1)[0];return new Promise((function(u){var f=function(h){u(h),a&&a(h)};(function(h,p){Sb[h]=p})(t,f),r.addEventListener(o,f,!!wy&&s)}))}function _y(r,t,a,s){if(a===void 0&&(a={}),typeof r!="object"||!r.postMessage)throw P(Qe,"target must be window object");if(typeof t!="string")throw P(Qe,"keyname must be string");if(typeof a!="object")throw P(Qe,"incorrect body format. It should be Object or Array comprised of Object");if(!s)throw P(Qe,"serverEndPointUrl isn't passed. please fill up with proper url");if(s==="*")throw new Error("serverEndPointUrl doesn't allow to set '*'");var o={name:t,body:a};r.postMessage(o,s)}function ZO(r,t,a,s){QO(r,"message.".concat(t),(function(o,u,f){return function(h){Oe.debug("messageReceive",h),h.origin===f&&h.data.name===o&&u(h)}})(t,a,s))}var WO=(function(){function r(){this.payloadToShareTargetPicker=null,this.popupWindow=null,this.doesWaitForSubwindowResult=!1}return r.getInstance=function(){return r.instance?r.instance.reset():r.instance=new r,r.instance},r.prototype.init=function(t){return J(this,void 0,void 0,(function(){var a,s;return K(this,(function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.liffId=t.referrer.liffId,this.doesWaitForSubwindowResult=!(!t.options||!t.options.waitForSubwindowResult),this.allowPostMessageOrigin=this.initAllowPostMessageOrigin(),this.payloadToShareTargetPicker=this.buildPayloadToShareTargetPicker(t),window.AbortController&&(this.abortController=new window.AbortController),this.prepareAnotherWindow(),[4,this.initOtt()];case 1:return o.sent(),this.initListener(),this.openAnotherWindow(),this.doesWaitForSubwindowResult?[4,this.pollingShareResult()]:[3,3];case 2:return a=o.sent(),this.finalize(),[2,a];case 3:case 6:return[2];case 4:return[3,6];case 5:if(s=o.sent(),this.finalize(),s.name!=="AbortError")throw s;return[3,6]}}))}))},r.prototype.resetAllVariables=function(){this.liffId="",this.allowPostMessageOrigin="",this.payloadToShareTargetPicker=null,this.ott="",this.popupWindow=null,this.timeoutIDForHealthCheck=null,this.abortController=null,this.internalError=null,this.doesWaitForSubwindowResult=!1},r.prototype.reset=function(){this.finalize(),this.resetAllVariables()},r.prototype.finalize=function(){var t,a;this.abortController&&this.abortController.abort(),ke()||(t=this.timeoutIDForHealthCheck,a=this.popupWindow,XO(window,"message.receivedHealthcheck"),t&&clearTimeout(t),a&&!a.closed&&a.close())},r.prototype.buildPayloadToShareTargetPicker=function(t){return{messages:t.messages,isMultiple:t.isMultiple,referrer:t.referrer}},r.prototype.initAllowPostMessageOrigin=function(t){return t===void 0&&(t=et("shareTargetPicker")),t2(t)},r.prototype.initOtt=function(){return J(this,void 0,void 0,(function(){var t,a,s;return K(this,(function(o){switch(o.label){case 0:return this.abortController&&(t=this.abortController.signal),a="".concat(et("shareTargetPickerOtt"),"/").concat(this.liffId,"/ott"),s=this,[4,ft(a,{method:"GET",signal:t}).then((function(u){return u.ott}))];case 1:return s.ott=o.sent(),[2]}}))}))},r.prototype.prepareAnotherWindow=function(){ke()||(Ht()!=="ios"||Yd()?this.popupWindow=window.open("","liffpopup","width=480, height=640, menubar=no, toolbar=no, scrollbars=yes"):this.popupWindow=window.open())},r.prototype.openAnotherWindow=function(){if(ke()&&this.payloadToShareTargetPicker)t=this.liffId,a=this.ott,s=this.payloadToShareTargetPicker,o={liffId:t,ott:a,data:JSON.stringify(s),closeModals:!1},location.href="".concat("line://picker","?").concat(Bt.stringify(o));else{if(this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),!this.popupWindow)throw P(vd);(function(u,f,h){var p={liffId:f,ott:h};u.location.href="".concat(et("shareTargetPicker"),"?").concat(Bt.stringify(p))})(this.popupWindow,this.liffId,this.ott)}var t,a,s,o},r.prototype.initListener=function(){var t,a;ke()||(t=this.onReceivedHealthcheck.bind(this),a=this.allowPostMessageOrigin,ZO(window,"receivedHealthcheck",t,a))},r.prototype.healthCheck=function(){return J(this,void 0,void 0,(function(){var t;return K(this,(function(a){switch(a.label){case 0:if(this.popupWindow&&!this.popupWindow.closed)return[3,7];if(!this.doesWaitForSubwindowResult)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.onCanceled()];case 2:return a.sent(),[3,4];case 3:return t=a.sent(),this.internalError=t,[3,4];case 4:return[3,6];case 5:this.finalize(),a.label=6;case 6:return[3,8];case 7:s=this.popupWindow,o=this.allowPostMessageOrigin,_y(s,"healthcheck",void 0,o),this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),a.label=8;case 8:return[2]}var s,o}))}))},r.prototype.onReceivedHealthcheck=function(){if(!this.popupWindow||!this.payloadToShareTargetPicker)throw P(vd);var t,a,s;t=this.popupWindow,a=this.payloadToShareTargetPicker,s=this.allowPostMessageOrigin,_y(t,"ready",a,s)},r.prototype.onCanceled=function(){return J(this,void 0,void 0,(function(){var t,a;return K(this,(function(s){switch(s.label){case 0:if(ke()||!this.ott)throw new Error("need to call with ott in client");return this.abortController&&(t=this.abortController.signal),a={liffId:this.liffId,ott:this.ott},[4,ft("".concat(et("shareTargetPickerResult"),"?").concat(Bt.stringify(a)),{method:"POST",signal:t,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:"result=CANCEL"})];case 1:return[2,s.sent().status==="ok"]}}))}))},r.prototype.getShareResult=function(){return J(this,void 0,void 0,(function(){var t,a;return K(this,(function(s){if(!this.ott)throw new Error("need to call with ott in client");return this.abortController&&(t=this.abortController.signal),a={liffId:this.liffId,ott:this.ott},Oe.debug("fetch: getShareResult"),[2,ft("".concat(et("shareTargetPickerResult"),"?").concat(Bt.stringify(a)),{method:"GET",headers:{Accept:"application/json"},signal:t})]}))}))},r.isPollingTimeOut=function(t,a){return(a-t)/6e4>=10},r.prototype.pollingShareResult=function(){return J(this,void 0,void 0,(function(){var t,a;return K(this,(function(s){switch(s.label){case 0:t=Date.now(),s.label=1;case 1:if(r.isPollingTimeOut(t,Date.now()))return[3,4];if(this.internalError)throw this.internalError;return[4,this.getShareResult()];case 2:if((a=s.sent())&&a.result)switch(a.result){case"SUCCESS":return[2,{status:"success"}];case"CANCEL":return[2];default:throw new Error(a.resultDescription)}return[4,new Promise((function(o){setTimeout(o,500)}))];case 3:return s.sent(),[3,1];case 4:throw new Error("Timeout: not finished within ".concat(10,"min"))}}))}))},r})(),eA=(function(r){function t(){var a=r.apply(this,ut([],Te(arguments),!1))||this;return a.shareTargetPicker=function(s){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];return J(a,ut([s],Te(o),!1),void 0,(function(f,h){var p,m,v,b,_,S,E;return h===void 0&&(h={}),K(this,(function(x){switch(x.label){case 0:if(_r.shareTargetPicker(),!f||!Array.isArray(f)||f.length===0)throw P(Qe,"no proper argument");if(f.length>GT)throw P(Qe,"exceed the limit of num of messages");if(!(p=it().liffId))throw P(Qn);window.liff&&(m=window.liff).analytics&&VO(m.analytics),v=h.isMultiple===void 0||h.isMultiple,x.label=1;case 1:return x.trys.push([1,3,,4]),b=WO.getInstance(),_=Wn(),S={waitForSubwindowResult:!0},ke()&&_&&Ln(_,"10.11.0")<0&&(S.waitForSubwindowResult=!1),[4,b.init({messages:f,isMultiple:v,referrer:{liffId:p,url:location.origin},options:S})];case 2:return[2,x.sent()];case 3:throw(E=x.sent())instanceof g0?E:P(yd,E.message);case 4:return[2]}}))}))},a}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"shareTargetPicker"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return this.shareTargetPicker},t})(ge),tA=new eA;function xb(r,t){return J(this,void 0,void 0,(function(){var a,s;return K(this,(function(o){switch(o.label){case 0:return a=et("createShortcutOnHomeScreen"),(s=new URL(a)).searchParams.append("liffId",r),s.searchParams.append("url",t.url),t.description&&s.searchParams.append("description",t.description),[4,ft(s.toString())];case 1:return[2,o.sent().shortcutPageUrl]}}))}))}function Eb(r){if(wd(r))throw P(Qe,"LINE URL scheme are not supported in the current environment.")}function nA(r,t){return J(this,void 0,void 0,(function(){var a;return K(this,(function(s){switch(s.label){case 0:return ke()?[2]:[4,new Promise((function(o){setTimeout(o,1e3)}))];case 1:return s.sent(),document.visibilityState==="hidden"?[2]:(Eb(t.url),[4,xb(r,t)]);case 2:return a=s.sent(),fu({url:a,external:!0}),[2]}}))}))}function rA(r,t){return J(this,void 0,void 0,(function(){var a,s;return K(this,(function(o){switch(o.label){case 0:return a={liffId:r,targetUrl:t.url,description:t.description},s="".concat("line://shortcut/liff","?").concat(Bt.stringify(a)),location.href=s,[4,nA(r,t)];case 1:return o.sent(),[2]}}))}))}function aA(r,t){return J(this,void 0,void 0,(function(){var a;return K(this,(function(s){switch(s.label){case 0:return Eb(t.url),[4,xb(r,t)];case 1:return a=s.sent(),fu({url:a,external:!0}),[2]}}))}))}function Tb(r){var t;if(r.url===void 0||r.url===null||r.url==="")throw P(Qe,"no proper argument");var a=_t();if(!(!((t=a?.availability.addToHomeLineScheme)===null||t===void 0)&&t.permission)){if(wd(r.url))throw P(De,"No permission to specify line schema in url.");if(r.description)throw P(De,"No permission to specify description.")}if(!wd(r.url)){if(!a)throw P(De,"Could not get Context from server.");a.liffId!==Kd(r.url)&&Wd(r.url,a.endpointUrl)}}function iA(r){return J(this,void 0,void 0,(function(){return K(this,(function(t){switch(t.label){case 0:return Tb(r),_r.internalCreateShortcutOnHomeScreen(),[4,Ob(r)];case 1:return t.sent(),[2]}}))}))}function sA(r){return J(this,void 0,void 0,(function(){return K(this,(function(t){switch(t.label){case 0:return Tb(r),_r.createShortcutOnHomeScreen(),[4,Ob(r)];case 1:return t.sent(),[2]}}))}))}function Ob(r){return J(this,void 0,void 0,(function(){var t;return K(this,(function(a){switch(a.label){case 0:if(!(t=it().liffId))throw P(ct,"Invalid LIFF ID.");return Ht()==="ios"?[4,aA(t,r)]:[3,2];case 1:return a.sent(),[3,4];case 2:return[4,rA(t,r)];case 3:a.sent(),a.label=4;case 4:return[2]}}))}))}var lA=(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"createShortcutOnHomeScreen"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(a){return sA(a)}},t})(ge),oA=(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"internalCreateShortcutOnHomeScreen"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(a){return iA(a)}},t})(ge);function uA(r){return J(this,arguments,void 0,(function(t){var a=t.productIds;return K(this,(function(s){switch(s.label){case 0:return[4,Gi("iap.getPlatformProducts",{productIds:a}).catch((function(o){throw o.code&&o.description?P(o.code,o.description):P(Lt,"Failed to get platform products",{cause:o})}))];case 1:return[2,s.sent().products]}}))}))}var cA=function(r){return J(void 0,[r],void 0,(function(t){var a=t.productId,s=t.orderId;return K(this,(function(o){switch(o.label){case 0:if(!window.confirm("Proceed with a test in-app purchase?"))throw P("CANCELED","Transaction was canceled.");return[4,ft(et("iapVirtualConfirm"),{method:"POST",body:JSON.stringify({productId:a,orderId:s})})];case 1:return o.sent(),[2]}}))}))},fA=function(r){return J(void 0,[r],void 0,(function(t){var a,s=t.productId,o=t.orderId;return K(this,(function(u){switch(u.label){case 0:return(a=_t())!=null&&a.isIapSandbox?[4,cA({productId:s,orderId:o})]:[3,2];case 1:case 3:return u.sent(),[2];case 2:return[4,Gi("iap.createPayment",{productId:s,orderId:o}).catch((function(f){throw f.code&&f.description?P(f.code,f.description):P(Lt,"Failed to get platform products",{cause:f})}))]}}))}))},dA=(function(r){function t(){return r!==null&&r.apply(this,arguments)||this}return be(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return"iap"},enumerable:!1,configurable:!0}),t.prototype.install=function(){var a=this;return{getPlatformProducts:function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return J(a,void 0,void 0,(function(){return K(this,(function(u){return _r.iap(),[2,uA.apply(void 0,ut([],Te(s),!1))]}))}))},createPayment:function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return J(a,void 0,void 0,(function(){return K(this,(function(u){return _r.iap(),[2,fA.apply(void 0,ut([],Te(s),!1))]}))}))},requestConsentAgreement:function(){return J(a,void 0,void 0,(function(){return K(this,(function(s){return _r.iap(),[2,J(void 0,void 0,void 0,(function(){return K(this,(function(o){switch(o.label){case 0:return[4,Gi("iap.requestConsentAgreement").catch((function(u){throw u.code&&u.description?P(u.code,u.description):P(Lt,"Failed to request consent agreement",{cause:u})}))];case 1:return o.sent(),[2]}}))}))]}))}))}}},t})(ge),hA={},oh=Object.defineProperties(hA,{getOS:{value:Ht,enumerable:!0,writable:!0},getVersion:{value:uu,enumerable:!0,writable:!0},getLanguage:{value:mb,enumerable:!0,writable:!0},getAppLanguage:{value:gb,enumerable:!0,writable:!0},getOrigins:{value:pb,enumerable:!0,writable:!0},isInClient:{value:ke,enumerable:!0,writable:!0},isLoggedIn:{value:Mt,enumerable:!0,writable:!0},logout:{value:Zd,enumerable:!0,writable:!0},getAccessToken:{value:Zn,enumerable:!0,writable:!0},getIDToken:{value:lu,enumerable:!0,writable:!0},getDecodedIDToken:{value:ou,enumerable:!0,writable:!0},getContext:{value:_t,enumerable:!0,writable:!0},openWindow:{value:fu,enumerable:!0,writable:!0},closeWindow:{value:Mi,enumerable:!0,writable:!0},getFriendship:{value:$i(_b,"profile"),enumerable:!0,writable:!0},getAId:{value:S0,enumerable:!0,writable:!0},getProfilePlus:{value:E0,enumerable:!0,writable:!0},getIsVideoAutoPlay:{value:x0,enumerable:!0,writable:!0},getLineVersion:{value:Wn,enumerable:!0,writable:!0},isApiAvailable:{value:hl,enumerable:!0,writable:!0},getProfile:{value:$i(lh,"profile"),enumerable:!0,writable:!0},sendMessages:{value:$i(wb,"chat_message.write"),enumerable:!0,writable:!0},subWindow:{value:yn,enumerable:!0,writable:!0},ready:{value:VT,enumerable:!0,writable:!0},id:{get:function(){return it().liffId||null},enumerable:!0},_dispatchEvent:{value:K2,enumerable:!0,writable:!0},_call:{value:Gi,enumerable:!0,writable:!0},_addListener:{value:th,enumerable:!0,writable:!0},_removeListener:{value:nh,enumerable:!0,writable:!0},_postMessage:{value:B0,enumerable:!0,writable:!0}}),uh=new qT,Ab=new PT(uh,oh),pA=new f0(uh,Ab).install();function mA(r){pA.call(oh,r)}[new f0(uh,Ab),new cO,new NO,new qO,KO,M2,k0,MO,tA,hO,new j2,new lA,new oA,new dA].forEach(mA);var Bo=oh;const Wf="2009013698-RcmHMN8h",ch=async(r={})=>{console.log("Initializing LIFF with ID:",Wf);try{if(await Bo.init({liffId:Wf}),!Bo.isLoggedIn()){console.log("Not logged in.");const a=new URLSearchParams(window.location.search);if(window.location.hash.includes("?")){const o=window.location.hash.split("?")[1];new URLSearchParams(o).forEach((f,h)=>a.append(h,f))}const s=a.get("userId");return s?(console.log("Found userId in URL, bypassing login for testing."),{userId:s}):r.requireLogin?(console.log("Login required. Calling login()..."),Bo.login(),{userId:null}):(console.log("Login not required. Returning null user."),{userId:null})}const t=await Bo.getProfile();return console.log("LIFF Profile retrieved:",t),{userId:t.userId,displayName:t.displayName,pictureUrl:t.pictureUrl}}catch(t){return console.error("LIFF Init Failed:",t),{userId:new URLSearchParams(window.location.search).get("userId"),error:t.message||"LIFF Init Failed"}}},Cb=R.createContext({liffUser:null,isReady:!1,error:null}),jb=()=>R.useContext(Cb),gA=({children:r})=>{const[t,a]=R.useState(null),[s,o]=R.useState(!1),[u,f]=R.useState(null);return R.useEffect(()=>{(async()=>{try{const p=await ch();p.error&&p.error!=="Missing LIFF ID"&&(console.error("LIFF Provider Init Error:",p.error),f(p.error)),p.userId&&a(p)}catch(p){console.error("LIFF Provider Exception:",p),f(p.message)}finally{o(!0)}})()},[]),y.jsx(Cb.Provider,{value:{liffUser:t,isReady:s,error:u},children:r})};const vA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,s)=>s?s.toUpperCase():a.toLowerCase()),Sy=r=>{const t=yA(r);return t.charAt(0).toUpperCase()+t.slice(1)},Rb=(...r)=>r.filter((t,a,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===a).join(" ").trim(),bA=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var wA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _A=R.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...h},p)=>R.createElement("svg",{ref:p,...wA,width:t,height:t,stroke:r,strokeWidth:s?Number(a)*24/Number(t):a,className:Rb("lucide",o),...!u&&!bA(h)&&{"aria-hidden":"true"},...h},[...f.map(([m,v])=>R.createElement(m,v)),...Array.isArray(u)?u:[u]]));const Da=(r,t)=>{const a=R.forwardRef(({className:s,...o},u)=>R.createElement(_A,{ref:u,iconNode:t,className:Rb(`lucide-${vA(Sy(r))}`,`lucide-${r}`,s),...o}));return a.displayName=Sy(r),a};const SA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xA=Da("circle-check-big",SA);const EA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],TA=Da("copy",EA);const OA=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],AA=Da("gift",OA);const CA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],jA=Da("house",CA);const RA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ed=Da("loader-circle",RA);const NA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],kA=Da("lock",NA);const UA=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],xy=Da("ticket",UA);function DA(){const[r,t]=R.useState(""),[a,s]=R.useState({main:[],on_top:[]}),[o,u]=R.useState(!1),[f,h]=R.useState({campaignId:"",secretCode:""}),[p,m]=R.useState(!1),v=R.useRef(!1),{isReady:b,liffUser:_}=jb();R.useEffect(()=>{if(!b)return;(async()=>{let Y=new URLSearchParams(window.location.search);if(window.location.hash.includes("?")){const de=window.location.hash.split("?")[1];new URLSearchParams(de).forEach((we,xe)=>Y.append(xe,we))}let G=Y.get("userId");const F=Y.get("action"),le=Y.get("code")||"",oe=Y.get("id")||Y.get("campaignId");if(!G&&_?.userId&&(G=_.userId),!G){console.log("Wallet: No User ID found, enforcing LIFF login...");const de=await ch({requireLogin:!0});de.userId&&(G=de.userId)}G?(t(G),C(G),F==="collect"&&oe&&!v.current&&(v.current=!0,S(G,oe,le))):console.warn("Could not identify user even after login attempt.")})()},[b,_]);const S=async($,Y,G)=>{m(!0);try{const{data:{session:F}}=await Li.auth.getSession(),le=F?.access_token??"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5cHJudmF6anlpbHRoZHpocXhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0Njg4NDAsImV4cCI6MjA4NDA0NDg0MH0.04WXE3feJa8s2jBe6kmUPH00jufK8nvjSMvNmG_oFPs",oe=await fetch("https://kyprnvazjyilthdzhqxh.supabase.co/functions/v1/collect-coupon",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`},body:JSON.stringify({userId:$,campaignId:Y,secretCode:G})}),de=await oe.json();if(oe.ok)alert(` !  "${G}"
!`);else if(de.error?.includes("already collected")||de.error?.includes("Limit reached"))console.log("Coupon already collected, skipping alert.");else throw new Error(de.error||"Failed to collect");const we=(window.location.hash||"#/wallet").split("?")[0],xe=`${window.location.pathname}${we}?userId=${$}`;window.history.replaceState({},"",xe),C($)}catch(F){alert(` 
${F.message}`)}finally{m(!1)}},[E,x]=R.useState([]),C=async $=>{if($){u(!0);try{const G=await fetch("https://kyprnvazjyilthdzhqxh.supabase.co/functions/v1/get-my-coupons",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5cHJudmF6anlpbHRoZHpocXhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0Njg4NDAsImV4cCI6MjA4NDA0NDg0MH0.04WXE3feJa8s2jBe6kmUPH00jufK8nvjSMvNmG_oFPs",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5cHJudmF6anlpbHRoZHpocXhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0Njg4NDAsImV4cCI6MjA4NDA0NDg0MH0.04WXE3feJa8s2jBe6kmUPH00jufK8nvjSMvNmG_oFPs","Content-Type":"application/json"},body:JSON.stringify({userId:$})});if(!G.ok)throw new Error("Failed to fetch wallet");const F=await G.json();s(F);const{data:le,error:oe}=await Li.from("campaigns").select("*").eq("is_public",!0).eq("status","active").gt("end_date",new Date().toISOString()).lte("start_date",new Date().toISOString());if(!oe&&le){const de=[...F.main,...F.on_top].map(we=>we.campaign_id),Pe=le.filter(we=>!de.includes(we.id));x(Pe)}}catch(Y){console.error(Y)}finally{u(!1)}}},j=async()=>{if(!r||!f.secretCode){alert(" User ID  ");return}m(!0);try{const{data:{session:$}}=await Li.auth.getSession(),Y=$?.access_token??"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5cHJudmF6anlpbHRoZHpocXhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0Njg4NDAsImV4cCI6MjA4NDA0NDg0MH0.04WXE3feJa8s2jBe6kmUPH00jufK8nvjSMvNmG_oFPs",G=await fetch("https://kyprnvazjyilthdzhqxh.supabase.co/functions/v1/collect-coupon",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Y}`},body:JSON.stringify({userId:r,campaignId:"",secretCode:f.secretCode})}),F=await G.json();if(!G.ok)throw new Error(F.error||"Failed to collect");alert("Coupon Collected Successfully! "),h({campaignId:"",secretCode:""}),C(r)}catch($){alert($.message)}finally{m(!1)}},N=$=>{const Y=`/booking-v3?userId=${r}&couponId=${$.coupon_id}`;window.location.hash=`#${Y}`},L=({coupon:$,type:Y})=>{const G=Y==="Main",F=G?"bg-gradient-to-br from-gray-900 to-gray-800 text-white":"bg-white border border-gray-100 text-gray-900",le=G?"border border-gray-700":"border border-gray-200",oe=G?"text-yellow-400":"text-indigo-500",de=G?"bg-yellow-500 text-black":"bg-indigo-100 text-indigo-700";return y.jsxs("div",{className:`relative p-5 rounded-2xl shadow-lg ${F} ${le} overflow-hidden transition-all hover:scale-[1.02]`,children:[y.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-white opacity-5 rounded-full blur-2xl"}),y.jsx("div",{className:"absolute top-10 -left-10 w-24 h-24 bg-current opacity-5 rounded-full blur-xl"}),y.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[y.jsxs("div",{className:"flex-1 pr-4",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded-full tracking-wider ${de}`,children:Y}),$.benefit.type==="DISCOUNT"&&y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider opacity-70",children:"Discount"})]}),y.jsx("h3",{className:"font-bold text-lg leading-tight mb-1",children:$.name}),y.jsx("p",{className:`text-sm ${G?"text-gray-400":"text-gray-500"}`,children:$.benefit?.type==="DISCOUNT"?$.benefit?.value?.amount?`Save ${$.benefit.value.amount}`:`Save ${$.benefit?.value?.percent??0}%`:`Free ${$.benefit?.value?.item??"Reward"}`})]}),y.jsx("div",{className:`p-3 rounded-full ${G?"bg-white/10":"bg-indigo-50"}`,children:y.jsx(xy,{className:`w-6 h-6 ${oe}`})})]}),y.jsx("div",{className:`my-4 border-t border-dashed ${G?"border-gray-700":"border-gray-200"}`}),y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("div",{className:"text-xs opacity-60",children:[y.jsxs("p",{children:["Code: ",y.jsxs("span",{className:"font-mono tracking-widest font-bold",children:[$.coupon_id.slice(0,8),"..."]})]}),y.jsxs("p",{children:["Exp: ",$.expiry?new Date($.expiry).toLocaleDateString():"No Expiry"]})]}),y.jsx("button",{onClick:()=>N($),className:`text-xs font-bold px-4 py-2 rounded-lg transition-colors ${G?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-gray-900 hover:bg-gray-800 text-white"}`,children:"Use Now"})]})]})};return y.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 font-sans",children:[y.jsx("div",{className:"bg-white pb-6 pt-8 px-6 shadow-sm rounded-b-[2rem] mb-6",children:y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:"Wallet"}),y.jsx("p",{className:"text-gray-500 text-sm",children:"Your premium rewards"})]}),y.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:y.jsx(AA,{className:"w-5 h-5 text-gray-600"})})]})}),y.jsxs("div",{className:"px-5 space-y-8",children:[y.jsxs("section",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-3 px-1",children:[y.jsx("h2",{className:"font-bold text-gray-900",children:""}),a.main.length+a.on_top.length>0&&y.jsx("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-0.5 rounded-full",children:a.main.length+a.on_top.length})]}),o?y.jsx("div",{className:"py-10 text-center",children:y.jsx(ed,{className:"w-8 h-8 animate-spin text-gray-300 mx-auto"})}):y.jsxs("div",{className:"space-y-4",children:[a.main.map($=>y.jsx(L,{coupon:$,type:"Main"},$.coupon_id)),a.on_top.map($=>y.jsx(L,{coupon:$,type:"On-top"},$.coupon_id)),a.main.length===0&&a.on_top.length===0&&y.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-dashed border-gray-200",children:[y.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-3",children:y.jsx(xy,{className:"w-8 h-8 text-gray-300"})}),y.jsx("h3",{className:"text-gray-900 font-medium",children:""}),y.jsx("p",{className:"text-gray-400 text-sm mt-1",children:" "})]})]})]}),y.jsxs("section",{children:[y.jsx("div",{className:"flex justify-between items-center mb-3 px-1",children:y.jsx("h2",{className:"font-bold text-gray-900",children:" "})}),o?y.jsx("div",{className:"text-center py-4",children:y.jsx(ed,{className:"w-6 h-6 animate-spin mx-auto text-gray-300"})}):y.jsx("div",{className:"grid grid-cols-1 gap-4",children:E.length>0&&E.map($=>y.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded-full tracking-wider ${$.is_stackable?"bg-indigo-100 text-indigo-700":"bg-red-100 text-red-700"}`,children:$.is_stackable?"On-Top":"Main"}),y.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:[" ",$.remaining_quantity??""," "]})]}),y.jsx("h3",{className:"font-bold text-gray-900",children:$.name}),y.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:$.description})]}),y.jsx("button",{onClick:()=>S(r,$.id,""),disabled:p,className:"ml-3 bg-gray-900 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-gray-800 transition-colors shadow-lg shadow-gray-200 whitespace-nowrap",children:""})]},$.id))})]}),y.jsx("section",{children:y.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 space-y-3",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx(kA,{className:"w-4 h-4 text-gray-400"}),y.jsx("h2",{className:"font-bold text-gray-900 text-sm",children:""})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{className:"flex-1 bg-gray-50 border-0 rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:" ''",value:f.secretCode,onChange:$=>h({...f,secretCode:$.target.value})}),y.jsx("button",{onClick:j,disabled:p||!f.secretCode,className:"bg-indigo-600 text-white px-5 rounded-xl font-bold shadow-lg shadow-indigo-200 hover:bg-indigo-700 transition-all disabled:opacity-50 whitespace-nowrap",children:p?y.jsx(ed,{className:"w-5 h-5 animate-spin"}):""})]})]})})]})]})}const Ai=["16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30","00:00"],IA=({fields:r,onSelect:t,existingBookings:a=[]})=>{const[s,o]=R.useState({fieldId:null,startIdx:null,endIdx:null}),u=(h,p)=>{const m=Ai[p],v=Ai[p+1];return a.some(b=>{if(b.court_id!==h)return!1;const _=b.time_start.split(" ")[1].substring(0,5),S=b.time_end.split(" ")[1].substring(0,5),E=m,x=v==="00:00"?"24:00":v;return E<(S==="00:00"?"24:00":S)&&x>_})},f=(h,p)=>{if(!u(h,p)){if(s.fieldId!==h||s.startIdx===null||s.endIdx!==null){o({fieldId:h,startIdx:p,endIdx:null});return}if(s.fieldId===h&&s.startIdx!==null){if(p<s.startIdx){o({fieldId:h,startIdx:p,endIdx:null});return}for(let S=s.startIdx;S<=p;S++)if(u(h,S)){o({fieldId:h,startIdx:p,endIdx:null});return}const m=s.startIdx,v=p;o({fieldId:h,startIdx:m,endIdx:v});const b=Ai[m],_=Ai[v+1];t(h,b,_)}}};return y.jsx("div",{className:"overflow-x-auto overscroll-x-contain",children:y.jsxs("div",{className:"min-w-[800px] select-none",children:[y.jsxs("div",{className:"flex",children:[y.jsx("div",{className:"w-24 shrink-0 p-2 font-bold text-gray-500 bg-white sticky left-0 z-10 border-b shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",children:"Field"}),Ai.slice(0,-1).map(h=>y.jsx("div",{className:"flex-1 min-w-[60px] text-center text-xs text-gray-400 p-2 border-b border-l border-gray-100",children:h},h))]}),r.map(h=>y.jsxs("div",{className:"flex h-12 border-b border-gray-100",children:[y.jsxs("div",{className:"w-24 shrink-0 p-2 flex flex-col justify-center bg-white sticky left-0 z-10 text-xs font-semibold text-gray-700 border-r shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",children:[y.jsx("div",{children:h.name.replace(" ","")}),y.jsx("div",{className:"text-[10px] text-green-600 font-normal",children:h.type})]}),Ai.slice(0,-1).map((p,m)=>{const v=u(h.id,m),b=!v&&s.fieldId===h.id&&s.startIdx!==null&&(s.endIdx===null&&m===s.startIdx||s.endIdx!==null&&m>=s.startIdx&&m<=s.endIdx);return y.jsxs("div",{onClick:()=>f(h.id,m),className:`flex-1 min-w-[60px] transition-colors duration-200 relative border-l border-gray-100
                                        ${v?"bg-gray-100 cursor-not-allowed":"cursor-pointer"}
                                        ${b?"bg-green-500 text-white":v?"":"bg-white active:bg-green-50"}
                                    `,children:[v&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-20",children:y.jsx("div",{className:"w-full h-[1px] bg-gray-400 rotate-45"})}),!v&&s.fieldId===h.id&&s.startIdx===m&&s.endIdx===null&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse shadow-sm"})}),b&&s.startIdx===m&&y.jsx("div",{className:"absolute top-1 left-1 text-[8px] opacity-75",children:"Start"}),b&&s.endIdx===m&&y.jsx("div",{className:"absolute bottom-1 right-1 text-[8px] opacity-75",children:"End"})]},`${h.id}-${m}`)})]},h.id))]})})},Nb=({originalPrice:r,discount:t,finalPrice:a,couponName:s,onConfirm:o,onOpenCoupons:u,isVisible:f})=>{if(!f)return null;const h=s&&t===0;return y.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-gray-200 shadow-[0_-10px_30px_-10px_rgba(0,0,0,0.1)] z-40 animate-slide-up",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("button",{onClick:u,className:"flex flex-col items-start group transition-all",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-extrabold uppercase tracking-wider transition-colors ${t>0?"bg-green-100 text-green-700":h?"bg-red-100 text-red-600":"bg-orange-100 text-orange-600"}`,children:t>0?"COUPON APPLIED":h?"INVALID":"SELECT COUPON"}),y.jsx("svg",{className:"w-3 h-3 text-gray-400 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M9 5l7 7-7 7"})})]}),y.jsx("span",{className:`text-sm font-bold truncate max-w-[180px] ${h?"text-red-500":"text-gray-800"}`,children:s||"Touch to add discount"}),h&&y.jsx("span",{className:"text-[10px] text-red-400 font-medium italic",children:"Conditions not met (Min spend?)"})]}),y.jsxs("div",{className:"text-right",children:[t>0&&y.jsxs("div",{className:"flex items-center justify-end gap-2 mb-0.5",children:[y.jsxs("span",{className:"text-[10px] font-bold text-green-600 bg-green-50 px-1.5 py-0.5 rounded",children:["SAVE ",t]}),y.jsxs("span",{className:"text-sm text-gray-400 line-through font-medium",children:["",r]})]}),y.jsxs("div",{className:"text-2xl font-black text-gray-900 leading-none",children:[y.jsx("span",{className:"text-base font-bold mr-1 italic",children:""}),a.toLocaleString()]})]})]}),y.jsxs("button",{onClick:o,className:"w-full bg-[#06C755] hover:bg-[#05b34c] text-white py-4 rounded-2xl font-black text-lg shadow-lg shadow-green-200 active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:["Confirm Booking",y.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})},kb=({isOpen:r,onClose:t,coupons:a,originalPrice:s,appliedMainCoupon:o,appliedOntopCoupon:u,onSelectMain:f,onSelectOntop:h})=>{const[p,m]=td.useState("SLOTS"),[v,b]=td.useState("MAIN");if(!r)return null;const _=a.filter(x=>x.category==="MAIN"),S=a.filter(x=>x.category==="ONTOP"),E=(x,C,j)=>{const N=s>=x.min_spend;return y.jsxs("div",{onClick:()=>N&&j(),className:`relative p-4 rounded-2xl border-2 transition-all cursor-pointer mb-3
                    ${C?"border-green-500 bg-green-50":"border-gray-100 bg-white hover:border-gray-200"}
                    ${N?"":"opacity-50 grayscale"}
                `,children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("h3",{className:"font-bold text-gray-800",children:x.name}),y.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold uppercase tracking-wider ${x.category==="MAIN"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:x.category})]}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.discount_type==="FIXED"?`Get ${x.discount_value} OFF`:`Get ${x.discount_value}% OFF`}),y.jsxs("p",{className:"text-[10px] text-gray-400 mt-2",children:["Min. Spend: ",x.min_spend]})]}),y.jsx("div",{className:"text-right ml-4",children:y.jsx("div",{className:"text-2xl font-black text-green-600",children:x.discount_type==="FIXED"?`${x.discount_value}`:`${x.discount_value}%`})})]}),!N&&y.jsxs("div",{className:"mt-2 text-[10px] font-medium text-red-500",children:["Add ",x.min_spend-s," more"]}),C&&y.jsx("div",{className:"absolute top-1 right-1",children:y.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},x.id)};return y.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[y.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),y.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-t-3xl shadow-2xl animate-slide-up max-h-[90vh] flex flex-col",children:[y.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Select Coupons"}),y.jsxs("button",{onClick:()=>m(x=>x==="TABS"?"SLOTS":"TABS"),className:"text-xs bg-gray-100 px-3 py-1 rounded-full font-bold text-gray-500 hover:bg-gray-200",children:["Switch to ",p==="TABS"?"Slots":"Tabs"," UI"]})]}),p==="TABS"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex p-2 gap-2 bg-gray-50 mx-4 mt-4 rounded-xl",children:[y.jsx("button",{onClick:()=>b("MAIN"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${v==="MAIN"?"bg-white shadow text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:"Main Coupon"}),y.jsx("button",{onClick:()=>b("ONTOP"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${v==="ONTOP"?"bg-white shadow text-purple-600":"text-gray-400 hover:text-gray-600"}`,children:"On-top Coupon"})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:v==="MAIN"?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[y.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Main Coupons"}),o&&y.jsx("button",{onClick:()=>f&&f(null),className:"text-xs text-red-500 font-bold",children:"Clear"})]}),_.length===0?y.jsx("p",{className:"text-center text-gray-400 py-8",children:"No Main Coupons"}):_.map(x=>E(x,o?.id===x.id,()=>f&&f(x)))]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[y.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"On-top Coupons"}),u&&y.jsx("button",{onClick:()=>h&&h(null),className:"text-xs text-red-500 font-bold",children:"Clear"})]}),S.length===0?y.jsx("p",{className:"text-center text-gray-400 py-8",children:"No On-top Coupons"}):S.map(x=>E(x,u?.id===x.id,()=>h&&h(x)))]})})]}),p==="SLOTS"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"grid grid-cols-2 gap-3 p-4 bg-gray-50 border-b border-gray-200",children:[y.jsxs("button",{onClick:()=>b("MAIN"),className:`relative p-3 rounded-xl border-2 text-left transition-all group ${v==="MAIN"?"border-blue-500 bg-white shadow-md ring-2 ring-blue-100":"border-dashed border-gray-300 hover:border-blue-300"}`,children:[y.jsx("span",{className:"absolute -top-2 left-3 bg-gray-50 px-1 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Slot 1"}),y.jsxs("div",{className:"mt-1",children:[y.jsx("div",{className:"text-xs font-bold text-gray-400 mb-1",children:"MAIN COUPON"}),o?y.jsx("div",{className:"text-blue-600 font-black text-lg truncate leading-tight",children:o.name}):y.jsx("div",{className:"text-gray-300 font-bold text-lg",children:"Empty"})]}),o&&y.jsx("div",{onClick:x=>{x.stopPropagation(),f&&f(null)},className:"absolute top-2 right-2 p-1 bg-red-50 text-red-500 rounded-full hover:bg-red-100",children:y.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsxs("button",{onClick:()=>b("ONTOP"),className:`relative p-3 rounded-xl border-2 text-left transition-all group ${v==="ONTOP"?"border-purple-500 bg-white shadow-md ring-2 ring-purple-100":"border-dashed border-gray-300 hover:border-purple-300"}`,children:[y.jsx("span",{className:"absolute -top-2 left-3 bg-gray-50 px-1 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Slot 2"}),y.jsxs("div",{className:"mt-1",children:[y.jsx("div",{className:"text-xs font-bold text-gray-400 mb-1",children:"ON-TOP"}),u?y.jsx("div",{className:"text-purple-600 font-black text-lg truncate leading-tight",children:u.name}):y.jsx("div",{className:"text-gray-300 font-bold text-lg",children:"Empty"})]}),u&&y.jsx("div",{onClick:x=>{x.stopPropagation(),h&&h(null)},className:"absolute top-2 right-2 p-1 bg-red-50 text-red-500 rounded-full hover:bg-red-100",children:y.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50/50",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[y.jsx("div",{className:`w-2 h-2 rounded-full ${v==="MAIN"?"bg-blue-500":"bg-purple-500"}`}),y.jsxs("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:["Available ",v==="MAIN"?"Main":"On-top"," Coupons"]})]}),v==="MAIN"?_.length===0?y.jsx("p",{className:"text-center text-gray-400 py-8 italic",children:"No coupons found for this slot."}):_.map(x=>E(x,o?.id===x.id,()=>f&&f(x))):S.length===0?y.jsx("p",{className:"text-center text-gray-400 py-8 italic",children:"No coupons found for this slot."}):S.map(x=>E(x,u?.id===x.id,()=>h&&h(x)))]})]}),y.jsx("div",{className:"p-4 border-t border-gray-100 bg-white",children:y.jsx("button",{onClick:t,className:"w-full py-3.5 bg-gray-900 text-white rounded-xl font-bold shadow-lg shadow-gray-200 hover:bg-gray-800 transition-colors",children:"Done"})})]})]})},Ub=({isOpen:r,onClose:t,onConfirm:a,bookingDetails:s,initialProfile:o})=>{const[u,f]=R.useState(null),[h,p]=R.useState(!1),[m,v]=R.useState(o?.team_name||""),[b,_]=R.useState(o?.phone_number||"");if(td.useEffect(()=>{o&&(v(o.team_name||""),_(o.phone_number||""))},[o]),!r)return null;const S=(s.appliedCoupon?.eligible_payments||[]).map(j=>j.toLowerCase()),E=S.length===0||S.some(j=>j.includes("qr")||j.includes("promt")||j.includes("prompt")),x=S.length===0||S.some(j=>j.includes("field")||j.includes("")||j.includes("cash")),C=()=>{if(!m.trim()){alert("/");return}if(!b.trim()){alert("");return}if(!u){alert("");return}p(!0),a(m,b,u)};return y.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),y.jsxs("div",{className:"relative w-full max-w-md bg-white rounded-3xl shadow-2xl overflow-hidden animate-scale-in",children:[y.jsxs("div",{className:"bg-green-600 p-6 text-white text-center",children:[y.jsx("h2",{className:"text-xl font-bold",children:""}),y.jsx("p",{className:"text-green-100 text-sm opacity-90",children:""})]}),y.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1 uppercase",children:" / "}),y.jsx("input",{type:"text",value:m,onChange:j=>v(j.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-green-500 transition-all",placeholder:"  "})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1 uppercase",children:""}),y.jsx("input",{type:"tel",value:b,onChange:j=>_(j.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-green-500 transition-all",placeholder:"08x-xxx-xxxx"})]})]}),y.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 space-y-3",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-500 text-sm",children:""}),y.jsx("span",{className:"font-bold text-gray-800",children:s.fieldName.replace(" ","")})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-500 text-sm",children:""}),y.jsx("span",{className:"font-bold text-gray-800",children:s.date})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-500 text-sm",children:""}),y.jsxs("span",{className:"font-bold text-gray-800",children:[s.startTime," - ",s.endTime]})]})]}),y.jsxs("div",{className:"space-y-2 px-2",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-gray-500",children:""}),y.jsxs("span",{className:"text-gray-800 font-medium",children:["",s.originalPrice]})]}),s.discount>0&&y.jsxs("div",{className:"flex justify-between text-sm text-green-600 font-medium",children:[y.jsxs("span",{children:[" (",s.couponName||"",")"]}),y.jsxs("span",{children:["-",s.discount]})]}),y.jsxs("div",{className:"pt-2 border-t border-dashed border-gray-200 flex justify-between items-center",children:[y.jsx("span",{className:"font-bold text-gray-800",children:""}),y.jsxs("span",{className:"text-2xl font-black text-green-600",children:["",s.finalPrice]})]})]}),y.jsx("hr",{className:"border-gray-100"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("h3",{className:"font-bold text-gray-800 text-xs uppercase tracking-wider text-center",children:""}),y.jsxs("div",{className:`grid gap-3 ${E&&x?"grid-cols-2":"grid-cols-1 max-w-[200px] mx-auto"}`,children:[E&&y.jsxs("button",{onClick:()=>f("qr"),className:`py-4 px-2 rounded-xl border-2 font-bold text-sm transition-all flex flex-col items-center justify-center space-y-2 ${u==="qr"?"border-green-500 bg-green-50 text-green-600":"border-gray-100 bg-white text-gray-400 hover:border-gray-200"}`,children:[y.jsxs("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m0 11v1m4-12h1m1 1v1m-5 9h1m1 1v1M7 4h1m-1 1v1m0 4v1m0 4v1m11-9h1m-1 1v1m0 4v1m0 4v1m-11 0h1m-1 1v1m5-9h1m-1 1v1m0 4v1m0 4v1m5-9h1m-1 1v1"}),y.jsx("rect",{x:"3",y:"3",width:"6",height:"6",rx:"1",strokeWidth:2}),y.jsx("rect",{x:"15",y:"3",width:"6",height:"6",rx:"1",strokeWidth:2}),y.jsx("rect",{x:"3",y:"15",width:"6",height:"6",rx:"1",strokeWidth:2})]}),y.jsx("span",{className:"text-[10px] sm:text-xs",children:"QR PromtPay"})]}),x&&y.jsxs("button",{onClick:()=>f("field"),className:`py-4 px-2 rounded-xl border-2 font-bold text-sm transition-all flex flex-col items-center justify-center space-y-2 ${u==="field"?"border-green-500 bg-green-50 text-green-600":"border-gray-100 bg-white text-gray-400 hover:border-gray-200"}`,children:[y.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),y.jsx("span",{className:"text-[10px] sm:text-xs",children:" ()"})]})]})]})]}),y.jsxs("div",{className:"p-6 bg-gray-50 flex space-x-3",children:[y.jsx("button",{onClick:t,className:"flex-1 py-4 font-bold text-gray-400 hover:text-gray-600 transition-colors",children:""}),y.jsx("button",{onClick:C,disabled:h,className:`flex-[2] bg-[#06C755] text-white py-4 rounded-2xl font-bold text-lg shadow-lg active:scale-95 transition-all
                            ${h?"opacity-50 grayscale":"hover:bg-green-600"}
                        `,children:h?"...":""})]})]})]})},Db=({isOpen:r,onClose:t,selectedDate:a,onSelect:s})=>{const[o,u]=R.useState(new Date(a));if(!r)return null;const f=[".",".",".",".",".",".","."],h=["","","","","","","","","","","",""],p=o.getFullYear(),m=o.getMonth(),v=new Date(p,m,1).getDay(),b=new Date(p,m+1,0).getDate(),_=(C,j,N)=>{const L=String(j+1).padStart(2,"0"),$=String(N).padStart(2,"0");return`${C}-${L}-${$}`},S=()=>u(new Date(p,m-1,1)),E=()=>u(new Date(p,m+1,1)),x=new Date().toISOString().split("T")[0];return y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center",children:[y.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:t}),y.jsxs("div",{className:"relative bg-white w-full max-w-lg rounded-t-[32px] shadow-2xl overflow-hidden animate-in slide-in-from-bottom duration-300 ease-out",children:[y.jsx("div",{className:"flex justify-center pt-3 pb-1",children:y.jsx("div",{className:"w-12 h-1.5 bg-gray-200 rounded-full"})}),y.jsxs("div",{className:"px-6 py-4 flex justify-between items-center bg-white border-b border-gray-50",children:[y.jsx("button",{onClick:S,className:"p-2.5 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-xl transition-all active:scale-90",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M15 19l-7-7 7-7"})})}),y.jsx("div",{className:"text-center",children:y.jsxs("h3",{className:"text-lg font-extrabold text-gray-800",children:[h[m]," ",p+543]})}),y.jsx("button",{onClick:E,className:"p-2.5 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-xl transition-all active:scale-90",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M9 5l7 7-7 7"})})})]}),y.jsxs("div",{className:"px-5 py-6",children:[y.jsx("div",{className:"grid grid-cols-7 mb-4",children:f.map(C=>y.jsx("div",{className:"text-center text-[11px] font-bold text-gray-300 uppercase tracking-tighter",children:C},C))}),y.jsxs("div",{className:"grid grid-cols-7 gap-1.5",children:[Array.from({length:v}).map((C,j)=>y.jsx("div",{className:"p-2"},`empty-${j}`)),Array.from({length:b}).map((C,j)=>{const N=j+1,L=_(p,m,N),$=L===a,Y=L===x,G=new Date(L)<new Date(x);return y.jsxs("button",{disabled:G,onClick:()=>{s(L),t()},className:`
                                        relative group flex flex-col items-center justify-center aspect-square rounded-2xl text-sm font-bold transition-all
                                        ${$?"bg-green-600 text-white shadow-xl shadow-green-100 scale-105 z-10":G?"text-gray-200 cursor-not-allowed":"text-gray-700 hover:bg-green-50 hover:text-green-600"}
                                    `,children:[N,Y&&!$&&y.jsx("div",{className:"absolute bottom-2 w-1 h-1 bg-green-500 rounded-full"})]},L)})]})]}),y.jsxs("div",{className:"px-6 py-6 pb-10 bg-gray-50/50 flex gap-3",children:[y.jsx("button",{onClick:()=>{s(x),t()},className:"flex-1 py-4 text-sm font-bold text-green-700 bg-green-50 rounded-2xl hover:bg-green-100 transition-colors",children:""}),y.jsx("button",{onClick:t,className:"flex-1 py-4 text-sm font-bold text-gray-500 bg-white border border-gray-100 rounded-2xl hover:bg-gray-50 transition-colors",children:""})]})]})]})},Ib=()=>{const[r]=Vy(),t=qi(),[a,s]=R.useState(!1),[o,u]=R.useState([]),[f,h]=R.useState([]),[p,m]=R.useState([]),[v,b]=R.useState(null),[_,S]=R.useState(null),[E,x]=R.useState(!1),[C,j]=R.useState(!1),[N,L]=R.useState(null),[$,Y]=R.useState(null),[G,F]=R.useState(0),[le]=R.useState(null),[oe,de]=R.useState(null),Pe=new Date().toISOString().split("T")[0],[we,xe]=R.useState(Pe),[Pt,Et]=R.useState(!1),[z,X]=R.useState(r.get("userId")),re=Ot=>{const st=Ot?new Date(Ot):new Date,qt=["","","","","","",""],Ye=st.getDate(),Vt=st.getMonth()+1,an=st.getFullYear();return`${qt[st.getDay()]} ${Ye}/${Vt}/${an}`},Ue=Ot=>{const st=new Date(Ot),qt=["","","","","","",""],Ye=["..","..","..","..","..","..","..","..","..","..","..",".."];return Ot===new Date().toISOString().split("T")[0]?`, ${st.getDate()} ${Ye[st.getMonth()]}`:`${qt[st.getDay()]}, ${st.getDate()} ${Ye[st.getMonth()]}`};R.useEffect(()=>{(async()=>{de(null);const qt=(await ch({requireLogin:!0})).userId||z;if(!qt){de(" (User ID Missing).  LINE "),s(!0);return}X(qt);try{const Ye=Li.from("fields").select("*").eq("active",!0).order("id"),Vt=fetch("https://kyprnvazjyilthdzhqxh.supabase.co/functions/v1/get-bookings",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5cHJudmF6anlpbHRoZHpocXhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0Njg4NDAsImV4cCI6MjA4NDA0NDg0MH0.04WXE3feJa8s2jBe6kmUPH00jufK8nvjSMvNmG_oFPs"},body:JSON.stringify({date:we})}).then(Me=>Me.json());let an=Promise.resolve({success:!1,main:[],on_top:[],profile:null});qt&&(an=fetch("https://kyprnvazjyilthdzhqxh.supabase.co/functions/v1/get-my-coupons",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5cHJudmF6anlpbHRoZHpocXhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0Njg4NDAsImV4cCI6MjA4NDA0NDg0MH0.04WXE3feJa8s2jBe6kmUPH00jufK8nvjSMvNmG_oFPs"},body:JSON.stringify({userId:qt})}).then(Me=>Me.json()));const[xn,sn,Gt]=await Promise.all([Ye,Vt,an]),{data:er,error:Tr}=xn;if(Tr)throw Tr;!er||er.length===0?de("No active fields found."):u(er.map(Me=>({id:Me.id,name:Me.label,type:Me.type,price_pre:Me.price_pre||0,price_post:Me.price_post||0})));const Ji={2424:1,2425:2,2428:3,2426:4,2427:5,2429:6},du=(sn.bookings||[]).map(Me=>({...Me,court_id:Ji[Me.court_id]||Me.court_id}));if(m(du),Gt.success){const pl=[...Gt.main||[],...Gt.on_top||[]].map(Ft=>{const Or=Ft.benefit?.type?.toUpperCase(),na=Ft.benefit?.value;let La=0;return na&&(typeof na=="number"?La=na:La=na.amount||na.percent||0),{id:Ft.coupon_id,campaign_id:Ft.campaign_id,name:Ft.name,discount_type:Or==="PERCENT"?"PERCENT":"FIXED",discount_value:Number(La),min_spend:Number(Ft.conditions?.min_spend)||0,eligible_fields:Ft.conditions?.fields||null,eligible_payments:Ft.conditions?.payment||null,category:Ft.is_stackable?"ONTOP":"MAIN"}});h(pl);const Ki=r.get("couponId");if(Ki){const Ft=pl.find(Or=>Or.id===Ki);Ft&&L(Ft)}}Gt.profile&&b(Gt.profile)}catch(Ye){console.error("Unexpected error:",Ye),de("System error: "+Ye.message)}s(!0)})()},[we]),R.useEffect(()=>{if(!_||o.length===0){F(0);return}const Ot=o.find(Ji=>Ji.id===_.fieldId);if(!Ot)return;const st=parseFloat(_.startTime.split(":")[0])+parseFloat(_.startTime.split(":")[1])/60;let Ye=parseFloat(_.endTime.split(":")[0])+parseFloat(_.endTime.split(":")[1])/60-st;Ye<0&&(Ye+=24);const Vt=18,an=st,xn=st+Ye;let sn=0,Gt=0;xn<=Vt?sn=Ye:an>=Vt?Gt=Ye:(sn=Vt-an,Gt=xn-Vt);const er=Math.ceil(sn*Ot.price_pre/100)*100,Tr=Math.ceil(Gt*Ot.price_post/100)*100;F(er+Tr)},[_,o]);const me=N,O=$,V=me&&(!me.min_spend||G>=me.min_spend)&&(!me.eligible_fields||me.eligible_fields.length===0||me.eligible_fields.includes(_?.fieldId||0));let Q=G,Z=0;V&&me&&(me.discount_type==="FIXED"?Z=me.discount_value:Z=G*me.discount_value/100,Q=Math.max(0,G-Z));const ue=O&&(!O.min_spend||G>=O.min_spend)&&(!O.eligible_fields||O.eligible_fields.length===0||O.eligible_fields.includes(_?.fieldId||0));let he=0;ue&&O&&(O.discount_type==="FIXED"?he=O.discount_value:he=Q*O.discount_value/100);const Ae=Z+he,Tt=Math.max(0,G-Ae),Ke=me||O;return{isReady:a,fields:o,coupons:f,existingBookings:p,userProfile:v,selection:_,setSelection:S,isCouponSheetOpen:E,setIsCouponSheetOpen:x,isConfirmModalOpen:C,setIsConfirmModalOpen:j,manualMainCoupon:N,setManualMainCoupon:L,manualOntopCoupon:$,setManualOntopCoupon:Y,originalPrice:G,bestCoupon:le,appliedCoupon:Ke,appliedMainCoupon:V?me:null,appliedOntopCoupon:ue?O:null,discount:Ae,finalPrice:Tt,errorMsg:oe,selectedDate:we,setSelectedDate:xe,isDateModalOpen:Pt,setIsDateModalOpen:Et,getThaiDateString:re,getThaiDateShort:Ue,handleFinalConfirm:async(Ot,st,qt)=>{const Vt={1:2424,2:2425,3:2428,4:2426,5:2427,6:2429}[_.fieldId]||_.fieldId,an=o.find(xn=>xn.id===_?.fieldId);try{const sn=await(await fetch("https://kyprnvazjyilthdzhqxh.supabase.co/functions/v1/create-booking",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5cHJudmF6anlpbHRoZHpocXhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0Njg4NDAsImV4cCI6MjA4NDA0NDg0MH0.04WXE3feJa8s2jBe6kmUPH00jufK8nvjSMvNmG_oFPs"},body:JSON.stringify({userId:z,fieldId:Vt,date:we,startTime:_.startTime,endTime:_.endTime,customerName:Ot,phoneNumber:st,couponId:Ke?.id,paymentMethod:qt})})).json();if(sn.success){const Gt=new URLSearchParams({bookingId:sn.booking.id,price:sn.booking.price.toString(),paymentMethod:qt||"cash",fieldName:` ${(an?.name||"").replace(" ","").replace("#","").trim()}`,date:re(we),time:`${_.startTime} - ${_.endTime}`,userId:z||""});t(`/booking-success?${Gt.toString()}`)}else throw new Error(sn.error||"Booking failed")}catch(xn){alert(" : "+xn.message),j(!1)}},userId:z}},LA=()=>{const{isReady:r,fields:t,coupons:a,existingBookings:s,userProfile:o,selection:u,setSelection:f,isCouponSheetOpen:h,setIsCouponSheetOpen:p,isConfirmModalOpen:m,setIsConfirmModalOpen:v,originalPrice:b,bestCoupon:_,appliedCoupon:S,discount:E,finalPrice:x,errorMsg:C,selectedDate:j,setSelectedDate:N,isDateModalOpen:L,setIsDateModalOpen:$,getThaiDateString:Y,getThaiDateShort:G,handleFinalConfirm:F,appliedMainCoupon:le,appliedOntopCoupon:oe,setManualMainCoupon:de,setManualOntopCoupon:Pe}=Ib();if(!r)return y.jsx("div",{className:"p-4 flex items-center justify-center min-h-screen",children:y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})});if(C&&!t.length)return y.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 text-center",children:[y.jsx("div",{className:"text-4xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Access Restricted"}),y.jsx("p",{className:"text-gray-600 mb-6",children:C}),y.jsx("p",{className:"text-sm text-gray-400",children:"Please open this page via LINE App."})]});const we=t.find(xe=>xe.id===u?.fieldId);return y.jsxs("div",{className:"min-h-screen bg-[#F0F2F5] pb-32",children:[y.jsxs("header",{className:"bg-white px-4 py-3 shadow-sm sticky top-0 z-10 flex justify-between items-center border-b border-gray-100",children:[y.jsx("div",{className:"flex-1",children:y.jsxs("button",{onClick:()=>$(!0),className:"flex items-center gap-2 bg-gray-50 hover:bg-gray-100 px-4 py-2.5 rounded-2xl border border-gray-100 transition-all active:scale-95",children:[y.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[y.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:""}),y.jsx("span",{className:"text-sm font-extrabold text-gray-800",children:G(j)})]}),y.jsx("svg",{className:"w-5 h-5 text-green-600 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 9l-7 7-7-7"})})]})}),o&&y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-xs text-gray-400",children:""}),y.jsx("div",{className:"text-sm font-bold text-green-600",children:o.team_name})]})]}),y.jsx(Db,{isOpen:L,onClose:()=>$(!1),selectedDate:j,onSelect:xe=>{N(xe),f(null)}}),y.jsxs("main",{className:"max-w-lg mx-auto",children:[C&&y.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-xl mb-4 text-sm font-medium border border-red-100 flex items-center mx-4 mt-4",children:[y.jsx("span",{className:"mr-3",children:""})," ",C]}),y.jsx("div",{className:"bg-white overflow-hidden overflow-x-auto border-b border-gray-200 shadow-sm",children:y.jsx(IA,{fields:t,existingBookings:s,onSelect:(xe,Pt,Et)=>f({fieldId:xe,startTime:Pt,endTime:Et})},j)}),y.jsx("div",{className:"px-2 py-4 text-center",children:y.jsx("p",{className:"text-xs text-gray-400",children:u?`Selected: ${we?.name.replace(" ","").replace("#","")} at ${u.startTime} - ${u.endTime}`:"Choose a slot to start booking"})})]}),y.jsx(Nb,{originalPrice:b,discount:E,finalPrice:x,couponName:S?.name,onConfirm:()=>v(!0),onOpenCoupons:()=>p(!0),isVisible:!!u}),y.jsx(kb,{isOpen:h,onClose:()=>p(!1),coupons:a,selectedCouponId:S?.id||null,bestCouponId:_?.id||null,onSelect:xe=>{if(xe===null){de(null),Pe(null);return}xe.category==="ONTOP"?Pe(xe):de(xe)},originalPrice:b,appliedMainCoupon:le,appliedOntopCoupon:oe,onSelectMain:de,onSelectOntop:Pe}),y.jsx(Ub,{isOpen:m,onClose:()=>v(!1),onConfirm:F,bookingDetails:{fieldName:` ${(we?.name||"").replace(" ","").replace("#","").trim()}`,date:Y(j),startTime:u?.startTime||"",endTime:u?.endTime||"",originalPrice:b,discount:E,finalPrice:x,couponName:S?.name,appliedCoupon:S},initialProfile:o?{team_name:o.team_name,phone_number:o.phone_number}:null})]})},Fs=["16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30","00:00"],MA=({fields:r,onSelect:t,existingBookings:a=[]})=>{const[s,o]=R.useState({fieldId:null,startIdx:null,endIdx:null}),u=(h,p)=>{const m=Fs[p],v=Fs[p+1];return a.some(b=>{if(b.court_id!==h)return!1;const _=b.time_start.split(" ")[1].substring(0,5),S=b.time_end.split(" ")[1].substring(0,5),E=m,x=v==="00:00"?"24:00":v;return E<(S==="00:00"?"24:00":S)&&x>_})},f=(h,p)=>{if(!u(h,p)){if(s.fieldId!==h||s.startIdx===null||s.endIdx!==null){o({fieldId:h,startIdx:p,endIdx:null});return}if(s.fieldId===h&&s.startIdx!==null){if(p<s.startIdx){o({fieldId:h,startIdx:p,endIdx:null});return}for(let b=s.startIdx;b<=p;b++)if(u(h,b)){o({fieldId:h,startIdx:p,endIdx:null});return}const m=s.startIdx,v=p;o({fieldId:h,startIdx:m,endIdx:v}),t(h,Fs[m],Fs[v+1])}}};return y.jsx("div",{className:"overflow-x-auto bg-white max-h-[85vh] overflow-y-auto relative",children:y.jsxs("div",{className:"min-w-fit",children:[y.jsxs("div",{className:"flex border-b border-gray-200 sticky top-0 z-20 bg-white shadow-sm",children:[y.jsx("div",{className:"w-16 shrink-0 p-3 text-xs font-bold text-gray-400 border-r border-gray-100 flex items-center justify-center bg-gray-50 sticky left-0 z-30",children:"Time"}),y.jsx("div",{className:"flex",children:r.map(h=>y.jsxs("div",{className:"w-[80px] shrink-0 p-2 text-center border-r border-gray-100 last:border-r-0 bg-white",children:[y.jsx("div",{className:"text-sm font-bold text-gray-800 truncate",children:h.name.replace(" ","")}),y.jsx("div",{className:"text-[10px] text-green-600 font-normal truncate",children:h.type})]},h.id))})]}),Fs.slice(0,-1).map((h,p)=>y.jsxs("div",{className:"flex border-b border-gray-100 last:border-b-0",children:[y.jsx("div",{className:"w-16 shrink-0 p-2 text-xs text-gray-500 font-medium border-r border-gray-100 flex items-center justify-center bg-gray-50 sticky left-0 z-10",children:h}),y.jsx("div",{className:"flex",children:r.map(m=>{const v=u(m.id,p),b=!v&&s.fieldId===m.id&&s.startIdx!==null&&(s.endIdx===null&&p===s.startIdx||s.endIdx!==null&&p>=s.startIdx&&p<=s.endIdx);return y.jsxs("div",{onClick:()=>f(m.id,p),className:`w-[80px] shrink-0 h-12 border-r border-gray-100 last:border-r-0 relative transition-all duration-200
                                            ${v?"bg-gray-100":"cursor-pointer active:scale-95"}
                                            ${b?"bg-green-500 text-white shadow-inner":v?"":"bg-white hover:bg-gray-50"}
                                        `,children:[v&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-10",children:y.jsx("div",{className:"w-full h-[1px] bg-black rotate-45"})}),!v&&s.fieldId===m.id&&s.startIdx===p&&s.endIdx===null&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})}),b&&s.startIdx===p&&y.jsx("div",{className:"absolute top-1 left-1 text-[8px] opacity-75",children:"Start"}),b&&s.endIdx===p&&y.jsx("div",{className:"absolute bottom-1 right-1 text-[8px] opacity-75",children:"End"})]},`${m.id}-${p}`)})})]},h))]})})},$A=()=>{const{isReady:r,fields:t,coupons:a,existingBookings:s,userProfile:o,selection:u,setSelection:f,isCouponSheetOpen:h,setIsCouponSheetOpen:p,isConfirmModalOpen:m,setIsConfirmModalOpen:v,originalPrice:b,bestCoupon:_,appliedCoupon:S,discount:E,finalPrice:x,errorMsg:C,selectedDate:j,setSelectedDate:N,isDateModalOpen:L,setIsDateModalOpen:$,getThaiDateString:Y,getThaiDateShort:G,handleFinalConfirm:F,appliedMainCoupon:le,appliedOntopCoupon:oe,setManualMainCoupon:de,setManualOntopCoupon:Pe}=Ib();if(!r)return y.jsx("div",{className:"p-4 flex items-center justify-center min-h-screen",children:y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})});const we=t.find(xe=>xe.id===u?.fieldId);return y.jsxs("div",{className:"min-h-screen bg-[#F0F2F5] pb-32",children:[y.jsxs("header",{className:"bg-white px-4 py-3 shadow-sm sticky top-0 z-50 flex justify-between items-center border-b border-gray-100",children:[y.jsx("div",{className:"flex-1",children:y.jsxs("button",{onClick:()=>$(!0),className:"flex items-center gap-2 bg-gray-50 hover:bg-gray-100 px-4 py-2.5 rounded-2xl border border-gray-100 transition-all active:scale-95",children:[y.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[y.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:""}),y.jsx("span",{className:"text-sm font-extrabold text-gray-800",children:G(j)})]}),y.jsx("svg",{className:"w-5 h-5 text-green-600 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 9l-7 7-7-7"})})]})}),o&&y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-xs text-gray-400",children:""}),y.jsx("div",{className:"text-sm font-bold text-green-600",children:o.team_name})]})]}),y.jsx(Db,{isOpen:L,onClose:()=>$(!1),selectedDate:j,onSelect:xe=>{N(xe),f(null)}}),y.jsxs("main",{className:"max-w-lg mx-auto",children:[C&&y.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-xl mb-4 text-sm font-medium border border-red-100 flex items-center mx-4 mt-4",children:[y.jsx("span",{className:"mr-3",children:""})," ",C]}),y.jsx("div",{className:"bg-white overflow-hidden border-b border-gray-200 shadow-sm",children:y.jsx(MA,{fields:t,existingBookings:s,onSelect:(xe,Pt,Et)=>f({fieldId:xe,startTime:Pt,endTime:Et})},j)})]}),y.jsx(Nb,{originalPrice:b,discount:E,finalPrice:x,couponName:S?.name,onConfirm:()=>v(!0),onOpenCoupons:()=>p(!0),isVisible:!!u}),y.jsx(kb,{isOpen:h,onClose:()=>p(!1),coupons:a,selectedCouponId:S?.id||null,bestCouponId:_?.id||null,onSelect:xe=>{if(xe===null){de(null),Pe(null);return}xe.category==="ONTOP"?Pe(xe):de(xe)},originalPrice:b,appliedMainCoupon:le,appliedOntopCoupon:oe,onSelectMain:de,onSelectOntop:Pe}),y.jsx(Ub,{isOpen:m,onClose:()=>v(!1),onConfirm:F,bookingDetails:{fieldName:` ${(we?.name||"").replace(" ","").replace("#","").trim()}`,date:Y(j),startTime:u?.startTime||"",endTime:u?.endTime||"",originalPrice:b,discount:E,finalPrice:x,couponName:S?.name,appliedCoupon:S},initialProfile:o?{team_name:o.team_name,phone_number:o.phone_number}:null})]})},zA=()=>{const[r]=Vy(),t=qi(),a=r.get("bookingId"),s=r.get("price"),o=r.get("paymentMethod"),u=r.get("fieldName"),f=r.get("date"),h=r.get("time"),p=r.get("userId"),m=o==="qr",v=m?200:s,b="0839144000";R.useEffect(()=>{document.title="Booking Success"},[]);const _=()=>{navigator.clipboard.writeText(b),alert("")};return y.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center p-6 pb-24",children:y.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-sm p-8 text-center animate-scale-in",children:[y.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:y.jsx(xA,{className:"w-10 h-10 text-green-600"})}),y.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"!"}),y.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:["Booking ID: ",a]}),y.jsxs("div",{className:"space-y-3 bg-gray-50 rounded-2xl p-5 mb-6 text-sm",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-500",children:""}),y.jsx("span",{className:"font-bold text-gray-800",children:u})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-500",children:""}),y.jsx("span",{className:"font-bold text-gray-800",children:f})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-500",children:""}),y.jsx("span",{className:"font-bold text-gray-800",children:h})]}),y.jsxs("div",{className:"border-t border-dashed border-gray-200 my-2 pt-2 flex justify-between",children:[y.jsx("span",{className:"text-gray-500",children:""}),y.jsxs("span",{className:"font-bold text-green-600 text-lg",children:["",s]})]})]}),m?y.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-6 mb-6",children:[y.jsx("h3",{className:"text-blue-800 font-bold mb-1",children:""}),y.jsx("p",{className:"text-blue-600 text-xs mb-4",children:" QR Code  10 "}),y.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm inline-block mb-4",children:y.jsx("img",{src:`https://promptpay.io/${b}/${v}.png`,alt:"QR Code",className:"w-48 h-48 object-contain"})}),y.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-800 bg-white/50 py-2 rounded-lg cursor-pointer",onClick:_,children:[y.jsx("span",{className:"font-mono font-bold text-lg",children:b.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3")}),y.jsx(TA,{className:"w-4 h-4 opacity-50"})]})]}):y.jsxs("div",{className:"bg-green-50 border border-green-100 rounded-2xl p-4 mb-6",children:[y.jsx("p",{className:"text-green-800 font-bold",children:""}),y.jsx("p",{className:"text-green-600 text-xs",children:""})]}),y.jsxs("button",{onClick:()=>t(p?`/?userId=${p}`:"/"),className:"w-full bg-gray-900 text-white py-4 rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 active:scale-95 transition-all",children:[y.jsx(jA,{className:"w-5 h-5"}),""]})]})})},BA=R.lazy(()=>ta(()=>import("./AdminLayout-f3388OxV.js"),__vite__mapDeps([0,1,2]),import.meta.url)),HA=R.lazy(()=>ta(()=>import("./LoginPage-B3Qb7EOO.js"),[],import.meta.url)),PA=R.lazy(()=>ta(()=>import("./DashboardPage-BH_ZtnUl.js"),__vite__mapDeps([3,4,5,6,1,7,8,9,10,11,12]),import.meta.url)),qA=R.lazy(()=>ta(()=>import("./CustomerPage-z9HNvcfm.js"),__vite__mapDeps([13,1,14,12,7,5,15]),import.meta.url)),VA=R.lazy(()=>ta(()=>import("./ReportPage-DUXAJj0W.js"),__vite__mapDeps([16,2,12,6]),import.meta.url)),GA=R.lazy(()=>ta(()=>import("./PromoCodePage-CKYR5P4U.js"),__vite__mapDeps([17,14,4,6,5,1,8,15,18,12,11]),import.meta.url)),FA=R.lazy(()=>ta(()=>import("./CampaignPage-iiRj1v8p.js"),__vite__mapDeps([19,5,9,11,6,14,18]),import.meta.url)),JA=R.lazy(()=>ta(()=>import("./RefundPage-mdadGijm.js"),__vite__mapDeps([20,8,12,10]),import.meta.url)),Lb=({text:r="Loading..."})=>y.jsxs("div",{className:"h-screen flex items-center justify-center flex-col bg-gray-50",children:[y.jsx("div",{className:"w-12 h-12 border-4 border-green-600 border-t-transparent rounded-full animate-spin"}),y.jsxs("div",{className:"mt-6 text-center",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Booking System"}),y.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r})]})]});function KA(){const[r,t]=R.useState("Initializing..."),[a,s]=R.useState("Checking data..."),[o,u]=R.useState(""),f=qi(),{isReady:h,liffUser:p,error:m}=jb();R.useEffect(()=>{Li&&t("Supabase Client Instantiated "),(async()=>{try{const{count:_,error:S}=await Li.from("bookings").select("*",{count:"exact",head:!0});S?S.code==="401"||S.message.includes("401")?(s("Connected (Anonymous Access) "),t("Ready (Public Mode) ")):s(`Error checking data: ${S.message}`):(s(`Data Verified 
Bookings: ${_}`),t("Migration Complete "))}catch(_){s("Connection Failed: "+_.message)}})()},[]);const v=b=>{u(b),b===""&&f("/wallet?userId=debughero")};return h?y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"20px",fontFamily:"monospace",backgroundColor:"#f8f9fa",color:"#333"},children:[y.jsx("h1",{children:"Booking System"}),y.jsxs("div",{style:{padding:"2rem",border:"1px solid #ccc",borderRadius:"8px",marginTop:"2rem",textAlign:"center",backgroundColor:"white"},children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Status:"})," ",r]}),y.jsx("div",{style:{whiteSpace:"pre-line",marginTop:"1rem"},children:a}),p?.userId&&y.jsxs("p",{style:{color:"green",marginTop:"10px"},children:["LIFF User: ",p.displayName||"Identified"]}),m&&y.jsxs("p",{style:{color:"red",marginTop:"10px"},children:["LIFF Error: ",m]}),y.jsx("div",{style:{marginTop:"2rem"},children:y.jsx("a",{href:"#/admin/dashboard",className:"status-link",children:"Go to Admin Dashboard "})}),y.jsx("div",{style:{marginTop:"3rem",opacity:.1},children:y.jsx("input",{value:o,onChange:b=>v(b.target.value),placeholder:"...",style:{border:"none",background:"transparent",textAlign:"center",outline:"none"}})})]})]}):y.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column"},children:[y.jsx("div",{className:"loader"}),y.jsx("p",{style:{marginTop:"20px",color:"#666"},children:"Initializing LINE..."})]})}function YA(){const r=new URLSearchParams(window.location.search),t=r.get("redirect"),a=r.get("userId"),s=r.get("liff.state"),o=r.get("code"),u=r.get("state");if(s||o||u)return y.jsx(Lb,{text:"Verifying Secure Login..."});if(t==="wallet"){const f=a?`/wallet?userId=${a}`:"/wallet";return y.jsx(Ui,{to:f,replace:!0})}return t==="booking-v2"?y.jsx(Ui,{to:"/booking-v2",replace:!0}):t==="booking-v3"?y.jsx(Ui,{to:"/booking-v3",replace:!0}):y.jsx(Ui,{to:"/admin",replace:!0})}function XA(){return y.jsx(gA,{children:y.jsx($x,{children:y.jsx(R.Suspense,{fallback:y.jsx(Lb,{}),children:y.jsxs(hx,{children:[y.jsx(Ut,{path:"/",element:y.jsx(YA,{})}),y.jsx(Ut,{path:"/status",element:y.jsx(KA,{})}),y.jsx(Ut,{path:"/wallet",element:y.jsx(DA,{})}),y.jsx(Ut,{path:"/booking-v2",element:y.jsx(LA,{})}),y.jsx(Ut,{path:"/booking-v3",element:y.jsx($A,{})}),y.jsx(Ut,{path:"/booking-success",element:y.jsx(zA,{})}),y.jsx(Ut,{path:"/admin/login",element:y.jsx(HA,{})}),y.jsxs(Ut,{path:"/admin",element:y.jsx(BA,{}),children:[y.jsx(Ut,{index:!0,element:y.jsx(Ui,{to:"/admin/dashboard",replace:!0})}),y.jsx(Ut,{path:"dashboard",element:y.jsx(PA,{})}),y.jsx(Ut,{path:"customers",element:y.jsx(qA,{})}),y.jsx(Ut,{path:"campaigns",element:y.jsx(FA,{})}),y.jsx(Ut,{path:"reports",element:y.jsx(VA,{})}),y.jsx(Ut,{path:"promo-codes",element:y.jsx(GA,{})}),y.jsx(Ut,{path:"refunds",element:y.jsx(JA,{})})]}),y.jsx(Ut,{path:"*",element:y.jsx(Ui,{to:"/",replace:!0})})]})})})})}class QA extends R.Component{constructor(){super(...arguments);lv(this,"state",{hasError:!1,error:null,errorInfo:null})}static getDerivedStateFromError(a){return{hasError:!0,error:a,errorInfo:null}}componentDidCatch(a,s){console.error("Uncaught error:",a,s),this.setState({errorInfo:s})}render(){return this.state.hasError?y.jsxs("div",{style:{padding:"20px",color:"red",fontFamily:"monospace",wordBreak:"break-word"},children:[y.jsx("h1",{children:" Something went wrong."}),y.jsxs("h3",{style:{color:"#333"},children:["Error: ",this.state.error?.toString()]}),y.jsx("details",{style:{whiteSpace:"pre-wrap",marginTop:"10px"},children:this.state.errorInfo?.componentStack}),y.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",fontSize:"16px"},children:"Reload Page"})]}):this.props.children}}dS.createRoot(document.getElementById("root")).render(y.jsx(R.StrictMode,{children:y.jsx(QA,{children:y.jsx(XA,{})})}));export{xA as C,ed as L,WA as O,xy as T,xr as a,TA as b,Da as c,kA as d,y as j,R as r,Li as s,qi as u};
