import{c as x,u as j,a as v,r,s as o,j as e,T as d,O as N}from"./index-CdUUaiY8.js";import{U as c}from"./user-B3K1KAzr.js";import{C as w,R as k}from"./receipt-CtvDfts5.js";const _=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],A=x("layout-dashboard",_);const C=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],l=x("log-out",C);function O(){const t=j(),m=v(),[h,n]=r.useState(!0),[g,u]=r.useState(!1);r.useEffect(()=>{f()},[]);async function f(){const{data:{session:s}}=await o.auth.getSession();s?(u(!0),n(!1)):(t("/admin/login"),n(!1))}async function i(){await o.auth.signOut(),t("/admin/login")}if(h)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})});if(!g)return null;const p=[{name:"Dashboard",href:"/admin/dashboard",icon:A},{name:"Campaigns",href:"/admin/campaigns",icon:d},{name:"Customers",href:"/admin/customers",icon:c},{name:"Reports",href:"/admin/reports",icon:w},{name:"Promo Codes (V1)",href:"/admin/promo-codes",icon:d},{name:"Refunds",href:"/admin/refunds",icon:k}];return e.jsxs("div",{className:"flex min-h-screen bg-gray-50 font-sans",children:[e.jsxs("aside",{className:"w-72 bg-gray-900 text-white hidden md:flex flex-col shadow-xl z-20",children:[e.jsx("div",{className:"h-20 flex items-center px-8 border-b border-gray-800 bg-gray-900",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg transform rotate-3",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"A"})}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-lg font-bold tracking-tight text-white",children:"Admin Panel"}),e.jsx("span",{className:"block text-xs text-gray-400",children:"System Management"})]})]})}),e.jsxs("nav",{className:"flex-1 px-4 py-8 space-y-2 overflow-y-auto",children:[e.jsx("p",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4",children:"Menu"}),p.map(s=>{const a=m.pathname===s.href,y=s.icon;return e.jsxs("a",{href:s.href,onClick:b=>{b.preventDefault(),t(s.href)},className:`
                                    group flex items-center justify-between px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200
                                    ${a?"bg-indigo-600/10 text-indigo-400 ring-1 ring-indigo-500/20 shadow-[0_0_15px_rgba(99,102,241,0.1)]":"text-gray-400 hover:bg-gray-800 hover:text-white"}
                                `,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{size:20,className:`${a?"text-indigo-400":"text-gray-500 group-hover:text-white"} transition-colors`}),s.name]}),a&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-400 shadow-[0_0_8px_rgba(99,102,241,0.5)]"})]},s.name)})]}),e.jsxs("div",{className:"p-4 border-t border-gray-800 bg-gray-900/50",children:[e.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-gray-700 to-gray-600 flex items-center justify-center border-2 border-gray-700 shadow-inner",children:e.jsx(c,{size:18,className:"text-gray-300"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-white truncate",children:"Administrator"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:"admin@system.com"})]})]}),e.jsxs("button",{onClick:i,className:"flex items-center justify-center gap-2 w-full px-4 py-2.5 text-sm font-medium text-red-400 hover:text-white hover:bg-red-500/10 border border-transparent hover:border-red-500/20 rounded-xl transition-all duration-200 group",children:[e.jsx(l,{size:16,className:"group-hover:scale-110 transition-transform"}),"Sign Out"]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-[10px] text-gray-600",children:"v1.0.0 Â© 2024"})})]})]}),e.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-hidden bg-gray-50",children:[e.jsxs("div",{className:"md:hidden h-16 bg-gray-900 text-white flex items-center px-4 justify-between shadow-md flex-none z-30",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold text-sm",children:"A"})}),e.jsx("span",{className:"font-bold",children:"Admin Panel"})]}),e.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white",children:e.jsx(l,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-auto relative",children:e.jsx(N,{})})]})]})}export{O as default};
