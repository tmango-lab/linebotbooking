# ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢

## ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏à‡∏≠
‚úÖ API ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß (‡∏™‡πà‡∏á‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á 4 ‡∏≠‡∏±‡∏ô)
‚ùå LIFF App ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á

## ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏
**ANON_KEY ‡πÉ‡∏ô .env ‡∏ú‡∏¥‡∏î!**
- ‡πÉ‡∏ä‡πâ `sb_publishable_...` (‡∏ú‡∏¥‡∏î)
- ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ JWT token (‡∏ñ‡∏π‡∏Å)

## ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### 1. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç .env ‡πÅ‡∏•‡πâ‡∏ß ‚úÖ
‡∏ú‡∏°‡πÅ‡∏Å‡πâ‡πÉ‡∏´‡πâ‡πÅ‡∏•‡πâ‡∏ß

### 2. Restart Dev Server (‡∏ó‡∏≥‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ)

**‡πÉ‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡∏°‡∏¥‡∏ô‡∏±‡∏•:**
1. ‡∏Å‡∏î **Ctrl + C** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏¢‡∏∏‡∏î dev server
2. ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: `npm run dev`
3. ‡∏£‡∏≠‡∏à‡∏ô‡πÄ‡∏´‡πá‡∏ô "Local: http://localhost:5173"

### 3. Rebuild & Deploy (‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Vercel)

**‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì deploy ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Vercel:**
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Vercel Dashboard
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Settings ‚Üí Environment Variables
3. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `VITE_SUPABASE_ANON_KEY` ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô:
   ```
   eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5cHJudmF6anlpbHRoZHpocXhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzcwOTk4MzksImV4cCI6MjA1MjY3NTgzOX0.uqTZJWTcxWnZQqJUZqDMCLwHqGdMWPJCILSQKDJOKhY
   ```
4. Redeploy

### 4. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö

**‡∏´‡∏•‡∏±‡∏á restart dev server:**
1. ‡πÄ‡∏õ‡∏¥‡∏î LINE Bot
2. ‡∏Å‡∏î "üëõ ‡∏î‡∏π‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤"
3. **‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á 4 ‡∏≠‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß!** üéâ

---

## ‡∏™‡∏£‡∏∏‡∏õ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

1. ‚ùå `handleCollectCoupon` ‡πÑ‡∏°‡πà set `expires_at` ‚Üí ‚úÖ ‡πÅ‡∏Å‡πâ‡πÅ‡∏•‡πâ‡∏ß
2. ‚ùå `get-my-coupons` SELECT column ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ ‚Üí ‚úÖ ‡πÅ‡∏Å‡πâ‡πÅ‡∏•‡πâ‡∏ß  
3. ‚ùå `.env` ‡πÉ‡∏ä‡πâ ANON_KEY ‡∏ú‡∏¥‡∏î ‚Üí ‚úÖ ‡πÅ‡∏Å‡πâ‡πÅ‡∏•‡πâ‡∏ß

**‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß! ‡πÅ‡∏Ñ‡πà restart dev server** üöÄ
